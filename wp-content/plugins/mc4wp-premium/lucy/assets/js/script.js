(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

var Lucy = require('./third-party/lucy.js');

var lucy = new Lucy(
	'https://mc4wp.com/',
	'DA9YFSTRKA',
	'ce1c93fad15be2b70e0aa0b1c2e52d8e',
	'wpkb_articles',
	[
		{
			text: "<span class=\"dashicons dashicons-book\"></span> Knowledge Base",
			href: "https://mc4wp.com/kb/"
		},
		{
			text: "<span class=\"dashicons dashicons-editor-code\"></span> Code Reference",
			href: "http://developer.mc4wp.com/"
		},
		{
			text: "<span class=\"dashicons dashicons-editor-break\"></span> Changelog",
			href: "http://mc4wp.com/documentation/changelog/"
		}

	],
	lucy_config.email_link
);
},{"./third-party/lucy.js":3}],2:[function(require,module,exports){
(function (global){

/*! algoliasearch 3.9.2 | Â© 2014, 2015 Algolia SAS | github.com/algolia/algoliasearch-client-js */
!function(e){var t;"undefined"!=typeof window?t=window:"undefined"!=typeof self&&(t=self),t.ALGOLIA_MIGRATION_LAYER=e()}(function(){return function e(t,r,n){function o(s,a){if(!r[s]){if(!t[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(i)return i(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=r[s]={exports:{}};t[s][0].call(l.exports,function(e){var r=t[s][1][e];return o(r?r:e)},l,l.exports,e,t,r,n)}return r[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(e,t,r){function n(e,t){for(var r in t)e.setAttribute(r,t[r])}function o(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function i(e,t){e.onreadystatechange=function(){("complete"==this.readyState||"loaded"==this.readyState)&&(this.onreadystatechange=null,t(null,e))}}t.exports=function(e,t,r){var s=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");"function"==typeof t&&(r=t,t={}),t=t||{},r=r||function(){},a.type=t.type||"text/javascript",a.charset=t.charset||"utf8",a.async="async"in t?!!t.async:!0,a.src=e,t.attrs&&n(a,t.attrs),t.text&&(a.text=""+t.text);var c="onload"in a?o:i;c(a,r),a.onload||o(a,r),s.appendChild(a)}},{}],2:[function(e,t,r){"use strict";function n(e){for(var t=new RegExp("cdn\\.jsdelivr\\.net/algoliasearch/latest/"+e.replace(".","\\.")+"(?:\\.min)?\\.js$"),r=document.getElementsByTagName("script"),n=!1,o=0,i=r.length;i>o;o++)if(r[o].src&&t.test(r[o].src)){n=!0;break}return n}t.exports=n},{}],3:[function(e,t,r){"use strict";function n(t){var r=e(1),n="//cdn.jsdelivr.net/algoliasearch/2/"+t+".min.js",i="-- AlgoliaSearch `latest` warning --\nWarning, you are using the `latest` version string from jsDelivr to load the AlgoliaSearch library.\nUsing `latest` is no more recommended, you should load //cdn.jsdelivr.net/algoliasearch/2/algoliasearch.min.js\n\nAlso, we updated the AlgoliaSearch JavaScript client to V3. If you want to upgrade,\nplease read our migration guide at https://github.com/algolia/algoliasearch-client-js/wiki/Migration-guide-from-2.x.x-to-3.x.x\n-- /AlgoliaSearch  `latest` warning --";window.console&&(window.console.warn?window.console.warn(i):window.console.log&&window.console.log(i));try{document.write("<script>window.ALGOLIA_SUPPORTS_DOCWRITE = true</script>"),window.ALGOLIA_SUPPORTS_DOCWRITE===!0?(document.write('<script src="'+n+'"></script>'),o("document.write")()):r(n,o("DOMElement"))}catch(s){r(n,o("DOMElement"))}}function o(e){return function(){var t="AlgoliaSearch: loaded V2 script using "+e;window.console&&window.console.log&&window.console.log(t)}}t.exports=n},{1:1}],4:[function(e,t,r){"use strict";function n(){var e="-- AlgoliaSearch V2 => V3 error --\nYou are trying to use a new version of the AlgoliaSearch JavaScript client with an old notation.\nPlease read our migration guide at https://github.com/algolia/algoliasearch-client-js/wiki/Migration-guide-from-2.x.x-to-3.x.x\n-- /AlgoliaSearch V2 => V3 error --";window.AlgoliaSearch=function(){throw new Error(e)},window.AlgoliaSearchHelper=function(){throw new Error(e)},window.AlgoliaExplainResults=function(){throw new Error(e)}}t.exports=n},{}],5:[function(e,t,r){"use strict";function n(t){var r=e(2),n=e(3),o=e(4);r(t)?n(t):o()}n("algoliasearch")},{2:2,3:3,4:4}]},{},[5])(5)}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.algoliasearch=e()}}(function(){var e;return function t(e,r,n){function o(s,a){if(!r[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(i)return i(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=r[s]={exports:{}};e[s][0].call(l.exports,function(t){var r=e[s][1][t];return o(r?r:t)},l,l.exports,t,e,r,n)}return r[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(e,t,r){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(e){return"function"==typeof e}function i(e){return"number"==typeof e}function s(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!i(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,r,n,i,c,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(r=this._events[e],a(r))return!1;if(o(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:for(n=arguments.length,i=new Array(n-1),c=1;n>c;c++)i[c-1]=arguments[c];r.apply(this,i)}else if(s(r)){for(n=arguments.length,i=new Array(n-1),c=1;n>c;c++)i[c-1]=arguments[c];for(u=r.slice(),n=u.length,c=0;n>c;c++)u[c].apply(this,i)}return!0},n.prototype.addListener=function(e,t){var r;if(!o(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,o(t.listener)?t.listener:t),this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,s(this._events[e])&&!this._events[e].warned){var r;r=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,r&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}if(!o(t))throw TypeError("listener must be a function");var n=!1;return r.listener=t,this.on(e,r),this},n.prototype.removeListener=function(e,t){var r,n,i,a;if(!o(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],i=r.length,n=-1,r===t||o(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(s(r)){for(a=i;a-->0;)if(r[a]===t||r[a].listener&&r[a].listener===t){n=a;break}if(0>n)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[e],o(r))this.removeListener(e,r);else for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?o(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.listenerCount=function(e,t){var r;return r=e._events&&e._events[t]?o(e._events[t])?1:e._events[t].length:0}},{}],2:[function(e,t,r){function n(){l=!1,a.length?u=a.concat(u):f=-1,u.length&&o()}function o(){if(!l){var e=setTimeout(n);l=!0;for(var t=u.length;t;){for(a=u,u=[];++f<t;)a&&a[f].run();f=-1,t=u.length}a=null,l=!1,clearTimeout(e)}}function i(e,t){this.fun=e,this.array=t}function s(){}var a,c=t.exports={},u=[],l=!1,f=-1;c.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new i(e,t)),1!==u.length||l||setTimeout(o,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=s,c.addListener=s,c.once=s,c.off=s,c.removeListener=s,c.removeAllListeners=s,c.emit=s,c.binding=function(e){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(e){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},{}],3:[function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,r,i){t=t||"&",r=r||"=";var s={};if("string"!=typeof e||0===e.length)return s;var a=/\+/g;e=e.split(t);var c=1e3;i&&"number"==typeof i.maxKeys&&(c=i.maxKeys);var u=e.length;c>0&&u>c&&(u=c);for(var l=0;u>l;++l){var f,d,h,p,y=e[l].replace(a,"%20"),m=y.indexOf(r);m>=0?(f=y.substr(0,m),d=y.substr(m+1)):(f=y,d=""),h=decodeURIComponent(f),p=decodeURIComponent(d),n(s,h)?o(s[h])?s[h].push(p):s[h]=[s[h],p]:s[h]=p}return s};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],4:[function(e,t,r){"use strict";function n(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var o=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,r,a){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?n(s(e),function(s){var a=encodeURIComponent(o(s))+r;return i(e[s])?n(e[s],function(e){return a+encodeURIComponent(o(e))}).join(t):a+encodeURIComponent(o(e[s]))}).join(t):a?encodeURIComponent(o(a))+r+encodeURIComponent(o(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},{}],5:[function(e,t,r){"use strict";r.decode=r.parse=e(3),r.encode=r.stringify=e(4)},{3:3,4:4}],6:[function(e,t,r){function n(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function o(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+r.humanize(this.diff),!t)return e;var n="color: "+this.color;e=[e[0],n,"color: inherit"].concat(Array.prototype.slice.call(e,1));var o=0,i=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))}),e.splice(i,0,n),e}function i(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(e){try{null==e?r.storage.removeItem("debug"):r.storage.debug=e}catch(t){}}function a(){var e;try{e=r.storage.debug}catch(t){}return e}function c(){try{return window.localStorage}catch(e){}}r=t.exports=e(7),r.log=i,r.formatArgs=o,r.save=s,r.load=a,r.useColors=n,r.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:c(),r.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],r.formatters.j=function(e){return JSON.stringify(e)},r.enable(a())},{7:7}],7:[function(e,t,r){function n(){return r.colors[l++%r.colors.length]}function o(e){function t(){}function o(){var e=o,t=+new Date,i=t-(u||t);e.diff=i,e.prev=u,e.curr=t,u=t,null==e.useColors&&(e.useColors=r.useColors()),null==e.color&&e.useColors&&(e.color=n());var s=Array.prototype.slice.call(arguments);s[0]=r.coerce(s[0]),"string"!=typeof s[0]&&(s=["%o"].concat(s));var a=0;s[0]=s[0].replace(/%([a-z%])/g,function(t,n){if("%%"===t)return t;a++;var o=r.formatters[n];if("function"==typeof o){var i=s[a];t=o.call(e,i),s.splice(a,1),a--}return t}),"function"==typeof r.formatArgs&&(s=r.formatArgs.apply(e,s));var c=o.log||r.log||console.log.bind(console);c.apply(e,s)}t.enabled=!1,o.enabled=!0;var i=r.enabled(e)?o:t;return i.namespace=e,i}function i(e){r.save(e);for(var t=(e||"").split(/[\s,]+/),n=t.length,o=0;n>o;o++)t[o]&&(e=t[o].replace(/\*/g,".*?"),"-"===e[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")))}function s(){r.enable("")}function a(e){var t,n;for(t=0,n=r.skips.length;n>t;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;n>t;t++)if(r.names[t].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}r=t.exports=o,r.coerce=c,r.disable=s,r.enable=i,r.enabled=a,r.humanize=e(8),r.names=[],r.skips=[],r.formatters={};var u,l=0},{8:8}],8:[function(e,t,r){function n(e){if(e=""+e,!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*f;case"days":case"day":case"d":return r*l;case"hours":case"hour":case"hrs":case"hr":case"h":return r*u;case"minutes":case"minute":case"mins":case"min":case"m":return r*c;case"seconds":case"second":case"secs":case"sec":case"s":return r*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r}}}}function o(e){return e>=l?Math.round(e/l)+"d":e>=u?Math.round(e/u)+"h":e>=c?Math.round(e/c)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function i(e){return s(e,l,"day")||s(e,u,"hour")||s(e,c,"minute")||s(e,a,"second")||e+" ms"}function s(e,t,r){return t>e?void 0:1.5*t>e?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}var a=1e3,c=60*a,u=60*c,l=24*u,f=365.25*l;t.exports=function(e,t){return t=t||{},"string"==typeof e?n(e):t["long"]?i(e):o(e)}},{}],9:[function(t,r,n){(function(n,o){(function(){"use strict";function i(e){return"function"==typeof e||"object"==typeof e&&null!==e}function s(e){return"function"==typeof e}function a(e){return"object"==typeof e&&null!==e}function c(e){G=e}function u(e){X=e}function l(){return function(){n.nextTick(y)}}function f(){return function(){Q(y)}}function d(){var e=0,t=new Z(y),r=document.createTextNode("");return t.observe(r,{characterData:!0}),function(){r.data=e=++e%2}}function h(){var e=new MessageChannel;return e.port1.onmessage=y,function(){e.port2.postMessage(0)}}function p(){return function(){setTimeout(y,1)}}function y(){for(var e=0;W>e;e+=2){var t=re[e],r=re[e+1];t(r),re[e]=void 0,re[e+1]=void 0}W=0}function m(){try{var e=t,r=e("vertx");return Q=r.runOnLoop||r.runOnContext,f()}catch(n){return p()}}function v(){}function b(){return new TypeError("You cannot resolve a promise with itself")}function g(){return new TypeError("A promises callback cannot return that same promise.")}function w(e){try{return e.then}catch(t){return se.error=t,se}}function x(e,t,r,n){try{e.call(t,r,n)}catch(o){return o}}function _(e,t,r){X(function(e){var n=!1,o=x(r,t,function(r){n||(n=!0,t!==r?A(e,r):k(e,r))},function(t){n||(n=!0,S(e,t))},"Settle: "+(e._label||" unknown promise"));!n&&o&&(n=!0,S(e,o))},e)}function j(e,t){t._state===oe?k(e,t._result):t._state===ie?S(e,t._result):U(t,void 0,function(t){A(e,t)},function(t){S(e,t)})}function T(e,t){if(t.constructor===e.constructor)j(e,t);else{var r=w(t);r===se?S(e,se.error):void 0===r?k(e,t):s(r)?_(e,t,r):k(e,t)}}function A(e,t){e===t?S(e,b()):i(t)?T(e,t):k(e,t)}function O(e){e._onerror&&e._onerror(e._result),I(e)}function k(e,t){e._state===ne&&(e._result=t,e._state=oe,0!==e._subscribers.length&&X(I,e))}function S(e,t){e._state===ne&&(e._state=ie,e._result=t,X(O,e))}function U(e,t,r,n){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+oe]=r,o[i+ie]=n,0===i&&e._state&&X(I,e)}function I(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var n,o,i=e._result,s=0;s<t.length;s+=3)n=t[s],o=t[s+r],n?E(r,n,o,i):o(i);e._subscribers.length=0}}function R(){this.error=null}function P(e,t){try{return e(t)}catch(r){return ae.error=r,ae}}function E(e,t,r,n){var o,i,a,c,u=s(r);if(u){if(o=P(r,n),o===ae?(c=!0,i=o.error,o=null):a=!0,t===o)return void S(t,g())}else o=n,a=!0;t._state!==ne||(u&&a?A(t,o):c?S(t,i):e===oe?k(t,o):e===ie&&S(t,o))}function q(e,t){try{t(function(t){A(e,t)},function(t){S(e,t)})}catch(r){S(e,r)}}function C(e,t){var r=this;r._instanceConstructor=e,r.promise=new e(v),r._validateInput(t)?(r._input=t,r.length=t.length,r._remaining=t.length,r._init(),0===r.length?k(r.promise,r._result):(r.length=r.length||0,r._enumerate(),0===r._remaining&&k(r.promise,r._result))):S(r.promise,r._validationError())}function N(e){return new ce(this,e).promise}function L(e){function t(e){A(o,e)}function r(e){S(o,e)}var n=this,o=new n(v);if(!V(e))return S(o,new TypeError("You must pass an array to race.")),o;for(var i=e.length,s=0;o._state===ne&&i>s;s++)U(n.resolve(e[s]),void 0,t,r);return o}function D(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var r=new t(v);return A(r,e),r}function M(e){var t=this,r=new t(v);return S(r,e),r}function H(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function J(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function K(e){this._id=he++,this._state=void 0,this._result=void 0,this._subscribers=[],v!==e&&(s(e)||H(),this instanceof K||J(),q(this,e))}function B(){var e;if("undefined"!=typeof o)e=o;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var r=e.Promise;(!r||"[object Promise]"!==Object.prototype.toString.call(r.resolve())||r.cast)&&(e.Promise=pe)}var F;F=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var Q,G,$,V=F,W=0,X=({}.toString,function(e,t){re[W]=e,re[W+1]=t,W+=2,2===W&&(G?G(y):$())}),Y="undefined"!=typeof window?window:void 0,z=Y||{},Z=z.MutationObserver||z.WebKitMutationObserver,ee="undefined"!=typeof n&&"[object process]"==={}.toString.call(n),te="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,re=new Array(1e3);$=ee?l():Z?d():te?h():void 0===Y&&"function"==typeof t?m():p();var ne=void 0,oe=1,ie=2,se=new R,ae=new R;C.prototype._validateInput=function(e){return V(e)},C.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},C.prototype._init=function(){this._result=new Array(this.length)};var ce=C;C.prototype._enumerate=function(){for(var e=this,t=e.length,r=e.promise,n=e._input,o=0;r._state===ne&&t>o;o++)e._eachEntry(n[o],o)},C.prototype._eachEntry=function(e,t){var r=this,n=r._instanceConstructor;a(e)?e.constructor===n&&e._state!==ne?(e._onerror=null,r._settledAt(e._state,t,e._result)):r._willSettleAt(n.resolve(e),t):(r._remaining--,r._result[t]=e)},C.prototype._settledAt=function(e,t,r){var n=this,o=n.promise;o._state===ne&&(n._remaining--,e===ie?S(o,r):n._result[t]=r),0===n._remaining&&k(o,n._result)},C.prototype._willSettleAt=function(e,t){var r=this;U(e,void 0,function(e){r._settledAt(oe,t,e)},function(e){r._settledAt(ie,t,e)})};var ue=N,le=L,fe=D,de=M,he=0,pe=K;K.all=ue,K.race=le,K.resolve=fe,K.reject=de,K._setScheduler=c,K._setAsap=u,K._asap=X,K.prototype={constructor:K,then:function(e,t){var r=this,n=r._state;if(n===oe&&!e||n===ie&&!t)return this;var o=new this.constructor(v),i=r._result;if(n){var s=arguments[n-1];X(function(){E(n,o,s,i)})}else U(r,o,e,t);return o},"catch":function(e){return this.then(null,e)}};var ye=B,me={Promise:pe,polyfill:ye};"function"==typeof e&&e.amd?e(function(){return me}):"undefined"!=typeof r&&r.exports?r.exports=me:"undefined"!=typeof this&&(this.ES6Promise=me),ye()}).call(this)}).call(this,t(2),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],10:[function(e,t,r){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},{}],11:[function(e,t,r){var n=e(14),o=e(18),i=e(30),s=i(n,o);t.exports=s},{14:14,18:18,30:30}],12:[function(e,t,r){function n(e,t){if("function"!=typeof e)throw new TypeError(o);return t=i(void 0===t?e.length-1:+t||0,0),function(){for(var r=arguments,n=-1,o=i(r.length-t,0),s=Array(o);++n<o;)s[n]=r[t+n];switch(t){case 0:return e.call(this,s);case 1:return e.call(this,r[0],s);case 2:return e.call(this,r[0],r[1],s)}var a=Array(t+1);for(n=-1;++n<t;)a[n]=r[n];return a[t]=s,e.apply(this,a)}}var o="Expected a function",i=Math.max;t.exports=n},{}],13:[function(e,t,r){function n(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}t.exports=n},{}],14:[function(e,t,r){function n(e,t){for(var r=-1,n=e.length;++r<n&&t(e[r],r,e)!==!1;);return e}t.exports=n},{}],15:[function(e,t,r){function n(e,t){return null==t?e:o(t,i(t),e)}var o=e(17),i=e(53);t.exports=n},{17:17,53:53}],16:[function(e,t,r){function n(e,t,r,p,y,m,v){var g;if(r&&(g=y?r(e,p,y):r(e)),void 0!==g)return g;if(!d(e))return e;var w=f(e);if(w){if(g=c(e),!t)return o(e,g)}else{var _=D.call(e),j=_==b;if(_!=x&&_!=h&&(!j||y))return N[_]?u(e,_,t):y?e:{};if(g=l(j?{}:e),!t)return s(g,e)}m||(m=[]),v||(v=[]);for(var T=m.length;T--;)if(m[T]==e)return v[T];return m.push(e),v.push(g),(w?i:a)(e,function(o,i){g[i]=n(o,t,r,i,e,m,v)}),g}var o=e(13),i=e(14),s=e(15),a=e(21),c=e(33),u=e(34),l=e(35),f=e(46),d=e(49),h="[object Arguments]",p="[object Array]",y="[object Boolean]",m="[object Date]",v="[object Error]",b="[object Function]",g="[object Map]",w="[object Number]",x="[object Object]",_="[object RegExp]",j="[object Set]",T="[object String]",A="[object WeakMap]",O="[object ArrayBuffer]",k="[object Float32Array]",S="[object Float64Array]",U="[object Int8Array]",I="[object Int16Array]",R="[object Int32Array]",P="[object Uint8Array]",E="[object Uint8ClampedArray]",q="[object Uint16Array]",C="[object Uint32Array]",N={};N[h]=N[p]=N[O]=N[y]=N[m]=N[k]=N[S]=N[U]=N[I]=N[R]=N[w]=N[x]=N[_]=N[T]=N[P]=N[E]=N[q]=N[C]=!0,N[v]=N[b]=N[g]=N[j]=N[A]=!1;var L=Object.prototype,D=L.toString;t.exports=n},{13:13,14:14,15:15,21:21,33:33,34:34,35:35,46:46,49:49}],17:[function(e,t,r){function n(e,t,r){r||(r={});for(var n=-1,o=t.length;++n<o;){var i=t[n];r[i]=e[i]}return r}t.exports=n},{}],18:[function(e,t,r){var n=e(21),o=e(28),i=o(n);t.exports=i},{21:21,28:28}],19:[function(e,t,r){var n=e(29),o=n();t.exports=o},{29:29}],20:[function(e,t,r){function n(e,t){return o(e,t,i)}var o=e(19),i=e(54);t.exports=n},{19:19,54:54}],21:[function(e,t,r){function n(e,t){return o(e,t,i)}var o=e(19),i=e(53);t.exports=n},{19:19,53:53}],22:[function(e,t,r){function n(e,t,r,d,h){if(!c(e))return e;var p=a(t)&&(s(t)||l(t)),y=p?void 0:f(t);return o(y||t,function(o,s){if(y&&(s=o,o=t[s]),u(o))d||(d=[]),h||(h=[]),i(e,t,s,n,r,d,h);else{var a=e[s],c=r?r(a,o,s,e,t):void 0,l=void 0===c;l&&(c=o),void 0===c&&(!p||s in e)||!l&&(c===c?c===a:a!==a)||(e[s]=c)}}),e}var o=e(14),i=e(23),s=e(46),a=e(36),c=e(49),u=e(40),l=e(51),f=e(53);t.exports=n},{14:14,23:23,36:36,40:40,46:46,49:49,51:51,53:53}],23:[function(e,t,r){function n(e,t,r,n,f,d,h){for(var p=d.length,y=t[r];p--;)if(d[p]==y)return void(e[r]=h[p]);var m=e[r],v=f?f(m,y,r,e,t):void 0,b=void 0===v;b&&(v=y,a(y)&&(s(y)||u(y))?v=s(m)?m:a(m)?o(m):[]:c(y)||i(y)?v=i(m)?l(m):c(m)?m:{}:b=!1),d.push(y),h.push(v),b?e[r]=n(v,y,f,d,h):(v===v?v!==m:m===m)&&(e[r]=v)}var o=e(13),i=e(45),s=e(46),a=e(36),c=e(50),u=e(51),l=e(52);t.exports=n},{13:13,36:36,45:45,46:46,50:50,51:51,52:52}],24:[function(e,t,r){function n(e){return function(t){return null==t?void 0:t[e]}}t.exports=n},{}],25:[function(e,t,r){function n(e,t,r){if("function"!=typeof e)return o;if(void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 3:return function(r,n,o){return e.call(t,r,n,o)};case 4:return function(r,n,o,i){return e.call(t,r,n,o,i)};case 5:return function(r,n,o,i,s){return e.call(t,r,n,o,i,s)}}return function(){return e.apply(t,arguments)}}var o=e(56);t.exports=n},{56:56}],26:[function(e,t,r){(function(e){function r(e){var t=new n(e.byteLength),r=new o(t);return r.set(new o(e)),t}var n=e.ArrayBuffer,o=e.Uint8Array;t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],27:[function(e,t,r){function n(e){return s(function(t,r){var n=-1,s=null==t?0:r.length,a=s>2?r[s-2]:void 0,c=s>2?r[2]:void 0,u=s>1?r[s-1]:void 0;for("function"==typeof a?(a=o(a,u,5),s-=2):(a="function"==typeof u?u:void 0,s-=a?1:0),c&&i(r[0],r[1],c)&&(a=3>s?void 0:a,s=1);++n<s;){var l=r[n];l&&e(t,l,a)}return t})}var o=e(25),i=e(38),s=e(12);t.exports=n},{12:12,25:25,38:38}],28:[function(e,t,r){function n(e,t){return function(r,n){var a=r?o(r):0;if(!i(a))return e(r,n);for(var c=t?a:-1,u=s(r);(t?c--:++c<a)&&n(u[c],c,u)!==!1;);return r}}var o=e(31),i=e(39),s=e(42);t.exports=n},{31:31,39:39,42:42}],29:[function(e,t,r){function n(e){return function(t,r,n){for(var i=o(t),s=n(t),a=s.length,c=e?a:-1;e?c--:++c<a;){var u=s[c];if(r(i[u],u,i)===!1)break}return t}}var o=e(42);t.exports=n},{42:42}],30:[function(e,t,r){function n(e,t){return function(r,n,s){return"function"==typeof n&&void 0===s&&i(r)?e(r,n):t(r,o(n,s,3))}}var o=e(25),i=e(46);t.exports=n},{25:25,46:46}],31:[function(e,t,r){var n=e(24),o=n("length");t.exports=o},{24:24}],32:[function(e,t,r){function n(e,t){var r=null==e?void 0:e[t];return o(r)?r:void 0}var o=e(48);t.exports=n},{48:48}],33:[function(e,t,r){function n(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&i.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var o=Object.prototype,i=o.hasOwnProperty;t.exports=n},{}],34:[function(e,t,r){function n(e,t,r){var n=e.constructor;switch(t){case l:return o(e);case i:case s:return new n(+e);case f:case d:case h:case p:case y:case m:case v:case b:case g:var x=e.buffer;return new n(r?o(x):x,e.byteOffset,e.length);case a:case u:return new n(e);case c:var _=new n(e.source,w.exec(e));_.lastIndex=e.lastIndex}return _}var o=e(26),i="[object Boolean]",s="[object Date]",a="[object Number]",c="[object RegExp]",u="[object String]",l="[object ArrayBuffer]",f="[object Float32Array]",d="[object Float64Array]",h="[object Int8Array]",p="[object Int16Array]",y="[object Int32Array]",m="[object Uint8Array]",v="[object Uint8ClampedArray]",b="[object Uint16Array]",g="[object Uint32Array]",w=/\w*$/;t.exports=n},{26:26}],35:[function(e,t,r){function n(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=Object),new t}t.exports=n},{}],36:[function(e,t,r){function n(e){return null!=e&&i(o(e))}var o=e(31),i=e(39);t.exports=n},{31:31,39:39}],37:[function(e,t,r){function n(e,t){return e="number"==typeof e||o.test(e)?+e:-1,t=null==t?i:t,e>-1&&e%1==0&&t>e}var o=/^\d+$/,i=9007199254740991;t.exports=n},{}],38:[function(e,t,r){function n(e,t,r){if(!s(r))return!1;var n=typeof t;if("number"==n?o(r)&&i(t,r.length):"string"==n&&t in r){var a=r[t];return e===e?e===a:a!==a}return!1}var o=e(36),i=e(37),s=e(49);t.exports=n},{36:36,37:37,49:49}],39:[function(e,t,r){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&o>=e}var o=9007199254740991;t.exports=n},{}],40:[function(e,t,r){function n(e){return!!e&&"object"==typeof e}t.exports=n},{}],41:[function(e,t,r){function n(e){for(var t=c(e),r=t.length,n=r&&e.length,u=!!n&&a(n)&&(i(e)||o(e)),f=-1,d=[];++f<r;){var h=t[f];(u&&s(h,n)||l.call(e,h))&&d.push(h)}return d}var o=e(45),i=e(46),s=e(37),a=e(39),c=e(54),u=Object.prototype,l=u.hasOwnProperty;t.exports=n},{37:37,39:39,45:45,46:46,54:54}],42:[function(e,t,r){function n(e){return o(e)?e:Object(e)}var o=e(49);t.exports=n},{49:49}],43:[function(e,t,r){function n(e,t,r,n){return t&&"boolean"!=typeof t&&s(e,t,r)?t=!1:"function"==typeof t&&(n=r,r=t,t=!1),"function"==typeof r?o(e,t,i(r,n,3)):o(e,t)}var o=e(16),i=e(25),s=e(38);t.exports=n},{16:16,25:25,38:38}],44:[function(e,t,r){function n(e,t,r){return"function"==typeof t?o(e,!0,i(t,r,3)):o(e,!0)}var o=e(16),i=e(25);t.exports=n},{16:16,25:25}],45:[function(e,t,r){function n(e){return i(e)&&o(e)&&a.call(e,"callee")&&!c.call(e,"callee")}var o=e(36),i=e(40),s=Object.prototype,a=s.hasOwnProperty,c=s.propertyIsEnumerable;t.exports=n},{36:36,40:40}],46:[function(e,t,r){var n=e(32),o=e(39),i=e(40),s="[object Array]",a=Object.prototype,c=a.toString,u=n(Array,"isArray"),l=u||function(e){return i(e)&&o(e.length)&&c.call(e)==s};t.exports=l},{32:32,39:39,40:40}],47:[function(e,t,r){function n(e){return o(e)&&a.call(e)==i}var o=e(49),i="[object Function]",s=Object.prototype,a=s.toString;t.exports=n},{49:49}],48:[function(e,t,r){function n(e){return null==e?!1:o(e)?l.test(c.call(e)):i(e)&&s.test(e)}var o=e(47),i=e(40),s=/^\[object .+?Constructor\]$/,a=Object.prototype,c=Function.prototype.toString,u=a.hasOwnProperty,l=RegExp("^"+c.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=n},{40:40,47:47}],49:[function(e,t,r){function n(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}t.exports=n},{}],50:[function(e,t,r){function n(e){var t;if(!s(e)||l.call(e)!=a||i(e)||!u.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var r;return o(e,function(e,t){r=t}),void 0===r||u.call(e,r)}var o=e(20),i=e(45),s=e(40),a="[object Object]",c=Object.prototype,u=c.hasOwnProperty,l=c.toString;t.exports=n},{20:20,40:40,45:45}],51:[function(e,t,r){function n(e){return i(e)&&o(e.length)&&!!U[R.call(e)]}var o=e(39),i=e(40),s="[object Arguments]",a="[object Array]",c="[object Boolean]",u="[object Date]",l="[object Error]",f="[object Function]",d="[object Map]",h="[object Number]",p="[object Object]",y="[object RegExp]",m="[object Set]",v="[object String]",b="[object WeakMap]",g="[object ArrayBuffer]",w="[object Float32Array]",x="[object Float64Array]",_="[object Int8Array]",j="[object Int16Array]",T="[object Int32Array]",A="[object Uint8Array]",O="[object Uint8ClampedArray]",k="[object Uint16Array]",S="[object Uint32Array]",U={};U[w]=U[x]=U[_]=U[j]=U[T]=U[A]=U[O]=U[k]=U[S]=!0,U[s]=U[a]=U[g]=U[c]=U[u]=U[l]=U[f]=U[d]=U[h]=U[p]=U[y]=U[m]=U[v]=U[b]=!1;var I=Object.prototype,R=I.toString;t.exports=n},{39:39,40:40}],52:[function(e,t,r){function n(e){return o(e,i(e))}var o=e(17),i=e(54);t.exports=n},{17:17,54:54}],53:[function(e,t,r){var n=e(32),o=e(36),i=e(49),s=e(41),a=n(Object,"keys"),c=a?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&o(e)?s(e):i(e)?a(e):[]}:s;t.exports=c},{32:32,36:36,41:41,49:49}],54:[function(e,t,r){function n(e){if(null==e)return[];c(e)||(e=Object(e));var t=e.length;t=t&&a(t)&&(i(e)||o(e))&&t||0;for(var r=e.constructor,n=-1,u="function"==typeof r&&r.prototype===e,f=Array(t),d=t>0;++n<t;)f[n]=n+"";for(var h in e)d&&s(h,t)||"constructor"==h&&(u||!l.call(e,h))||f.push(h);return f}var o=e(45),i=e(46),s=e(37),a=e(39),c=e(49),u=Object.prototype,l=u.hasOwnProperty;t.exports=n},{37:37,39:39,45:45,46:46,49:49}],55:[function(e,t,r){var n=e(22),o=e(27),i=o(n);t.exports=i},{22:22,27:27}],56:[function(e,t,r){function n(e){return e}t.exports=n},{}],57:[function(e,t,r){"use strict";function n(t,r,n){var s=e(6)("algoliasearch"),a=e(43),c=e(46),u="Usage: algoliasearch(applicationID, apiKey, opts)";if(!t)throw new h.AlgoliaSearchError("Please provide an application ID. "+u);if(!r)throw new h.AlgoliaSearchError("Please provide an API key. "+u);this.applicationID=t,this.apiKey=r;var l=[this.applicationID+"-1.algolianet.com",this.applicationID+"-2.algolianet.com",this.applicationID+"-3.algolianet.com"];this.hosts={read:[],write:[]},this.hostIndex={read:0,write:0},n=n||{};var f=n.protocol||"https:",d=void 0===n.timeout?2e3:n.timeout;
	if(/:$/.test(f)||(f+=":"),"http:"!==n.protocol&&"https:"!==n.protocol)throw new h.AlgoliaSearchError("protocol must be `http:` or `https:` (was `"+n.protocol+"`)");n.hosts?c(n.hosts)?(this.hosts.read=a(n.hosts),this.hosts.write=a(n.hosts)):(this.hosts.read=a(n.hosts.read),this.hosts.write=a(n.hosts.write)):(this.hosts.read=[this.applicationID+"-dsn.algolia.net"].concat(l),this.hosts.write=[this.applicationID+".algolia.net"].concat(l)),this.hosts.read=o(this.hosts.read,i(f)),this.hosts.write=o(this.hosts.write,i(f)),this.requestTimeout=d,this.extraHeaders=[],this.cache={},this._ua=n._ua,this._useCache=void 0===n._useCache?!0:n._useCache,this._setTimeout=n._setTimeout,s("init done, %j",this)}function o(e,t){for(var r=[],n=0;n<e.length;++n)r.push(t(e[n],n));return r}function i(e){return function(t){return e+"//"+t.toLowerCase()}}function s(){var e="Not implemented in this environment.\nIf you feel this is a mistake, write to support@algolia.com";throw new h.AlgoliaSearchError(e)}function a(e,t){var r=e.toLowerCase().replace(".","").replace("()","");return"algoliasearch: `"+e+"` was replaced by `"+t+"`. Please see https://github.com/algolia/algoliasearch-client-js/wiki/Deprecated#"+r}function c(e,t){t(e,0)}function u(e,t){function r(){return n||(console.log(t),n=!0),e.apply(this,arguments)}var n=!1;return r}function l(e){if(void 0===Array.prototype.toJSON)return JSON.stringify(e);var t=Array.prototype.toJSON;delete Array.prototype.toJSON;var r=JSON.stringify(e);return Array.prototype.toJSON=t,r}function f(e){return function(t,r,n){if("function"==typeof t&&"object"==typeof r||"object"==typeof n)throw new h.AlgoliaSearchError("index.search usage is index.search(query, params, cb)");0===arguments.length||"function"==typeof t?(n=t,t=""):(1===arguments.length||"function"==typeof r)&&(n=r,r=void 0),"object"==typeof t&&null!==t?(r=t,t=void 0):(void 0===t||null===t)&&(t="");var o="";return void 0!==t&&(o+=e+"="+encodeURIComponent(t)),void 0!==r&&(o=this.as._getSearchParams(r,o)),this._search(o,n)}}t.exports=n;var d=d||void 0;d&&d.env,1;var h=e(63);n.prototype={deleteIndex:function(e,t){return this._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(e),hostType:"write",callback:t})},moveIndex:function(e,t,r){var n={operation:"move",destination:t};return this._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(e)+"/operation",body:n,hostType:"write",callback:r})},copyIndex:function(e,t,r){var n={operation:"copy",destination:t};return this._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(e)+"/operation",body:n,hostType:"write",callback:r})},getLogs:function(e,t,r){return 0===arguments.length||"function"==typeof e?(r=e,e=0,t=10):(1===arguments.length||"function"==typeof t)&&(r=t,t=10),this._jsonRequest({method:"GET",url:"/1/logs?offset="+e+"&length="+t,hostType:"read",callback:r})},listIndexes:function(e,t){var r="";return void 0===e||"function"==typeof e?t=e:r="?page="+e,this._jsonRequest({method:"GET",url:"/1/indexes"+r,hostType:"read",callback:t})},initIndex:function(e){return new this.Index(this,e)},listUserKeys:function(e){return this._jsonRequest({method:"GET",url:"/1/keys",hostType:"read",callback:e})},getUserKeyACL:function(e,t){return this._jsonRequest({method:"GET",url:"/1/keys/"+e,hostType:"read",callback:t})},deleteUserKey:function(e,t){return this._jsonRequest({method:"DELETE",url:"/1/keys/"+e,hostType:"write",callback:t})},addUserKey:function(t,r,n){var o=e(46),i="Usage: client.addUserKey(arrayOfAcls[, params, callback])";if(!o(t))throw new Error(i);(1===arguments.length||"function"==typeof r)&&(n=r,r=null);var s={acl:t};return r&&(s.validity=r.validity,s.maxQueriesPerIPPerHour=r.maxQueriesPerIPPerHour,s.maxHitsPerQuery=r.maxHitsPerQuery,s.indexes=r.indexes,s.description=r.description,r.queryParameters&&(s.queryParameters=this._getSearchParams(r.queryParameters,"")),s.referers=r.referers),this._jsonRequest({method:"POST",url:"/1/keys",body:s,hostType:"write",callback:n})},addUserKeyWithValidity:u(function(e,t,r){return this.addUserKey(e,t,r)},a("client.addUserKeyWithValidity()","client.addUserKey()")),updateUserKey:function(t,r,n,o){var i=e(46),s="Usage: client.updateUserKey(key, arrayOfAcls[, params, callback])";if(!i(r))throw new Error(s);(2===arguments.length||"function"==typeof n)&&(o=n,n=null);var a={acl:r};return n&&(a.validity=n.validity,a.maxQueriesPerIPPerHour=n.maxQueriesPerIPPerHour,a.maxHitsPerQuery=n.maxHitsPerQuery,a.indexes=n.indexes,a.description=n.description,n.queryParameters&&(a.queryParameters=this._getSearchParams(n.queryParameters,"")),a.referers=n.referers),this._jsonRequest({method:"PUT",url:"/1/keys/"+t,body:a,hostType:"write",callback:o})},setSecurityTags:function(e){if("[object Array]"===Object.prototype.toString.call(e)){for(var t=[],r=0;r<e.length;++r)if("[object Array]"===Object.prototype.toString.call(e[r])){for(var n=[],o=0;o<e[r].length;++o)n.push(e[r][o]);t.push("("+n.join(",")+")")}else t.push(e[r]);e=t.join(",")}this.securityTags=e},setUserToken:function(e){this.userToken=e},startQueriesBatch:u(function(){this._batch=[]},a("client.startQueriesBatch()","client.search()")),addQueryInBatch:u(function(e,t,r){this._batch.push({indexName:e,query:t,params:r})},a("client.addQueryInBatch()","client.search()")),clearCache:function(){this.cache={}},sendQueriesBatch:u(function(e){return this.search(this._batch,e)},a("client.sendQueriesBatch()","client.search()")),setRequestTimeout:function(e){e&&(this.requestTimeout=parseInt(e,10))},search:function(t,r){var n=e(46),i="Usage: client.search(arrayOfQueries[, callback])";if(!n(t))throw new Error(i);var s=this,a={requests:o(t,function(e){var t="";return void 0!==e.query&&(t+="query="+encodeURIComponent(e.query)),{indexName:e.indexName,params:s._getSearchParams(e.params,t)}})};return this._jsonRequest({cache:this.cache,method:"POST",url:"/1/indexes/*/queries",body:a,hostType:"read",callback:r})},batch:function(t,r){var n=e(46),o="Usage: client.batch(operations[, callback])";if(!n(t))throw new Error(o);return this._jsonRequest({method:"POST",url:"/1/indexes/*/batch",body:{requests:t},hostType:"write",callback:r})},destroy:s,enableRateLimitForward:s,disableRateLimitForward:s,useSecuredAPIKey:s,disableSecuredAPIKey:s,generateSecuredApiKey:s,Index:function(e,t){this.indexName=t,this.as=e,this.typeAheadArgs=null,this.typeAheadValueOption=null,this.cache={}},setExtraHeader:function(e,t){this.extraHeaders.push({name:e.toLowerCase(),value:t})},addAlgoliaAgent:function(e){this._ua+=";"+e},_sendQueriesBatch:function(e,t){function r(){for(var t="",r=0;r<e.requests.length;++r){var n="/1/indexes/"+encodeURIComponent(e.requests[r].indexName)+"?"+e.requests[r].params;t+=r+"="+encodeURIComponent(n)+"&"}return t}return this._jsonRequest({cache:this.cache,method:"POST",url:"/1/indexes/*/queries",body:e,hostType:"read",fallback:{method:"GET",url:"/1/indexes/*",body:{params:r()}},callback:t})},_jsonRequest:function(t){function r(e,c){function f(e){var t=e&&e.body&&e.body.message&&e.body.status||e.statusCode||e&&e.body&&200;o("received response: statusCode: %s, computed statusCode: %d, headers: %j",e.statusCode,t,e.headers),d&&d.env.DEBUG&&-1!==d.env.DEBUG.indexOf("debugBody")&&o("body: %j",e.body);var r=200===t||201===t,n=!r&&4!==Math.floor(t/100)&&1!==Math.floor(t/100);if(s._useCache&&r&&i&&(i[m]=e.responseText),r)return e.body;if(n)return a+=1,y();var c=new h.AlgoliaSearchError(e.body&&e.body.message);return s._promise.reject(c)}function p(n){return o("error: %s, stack: %s",n.message,n.stack),n instanceof h.AlgoliaSearchError||(n=new h.Unknown(n&&n.message,n)),a+=1,n instanceof h.Unknown||n instanceof h.UnparsableJSON||a>=s.hosts[t.hostType].length&&(u||!t.fallback||!s._request.fallback)?s._promise.reject(n):(s.hostIndex[t.hostType]=++s.hostIndex[t.hostType]%s.hosts[t.hostType].length,n instanceof h.RequestTimeout?y():(s._request.fallback&&!s.useFallback&&(s.useFallback=!0),r(e,c)))}function y(){return s.hostIndex[t.hostType]=++s.hostIndex[t.hostType]%s.hosts[t.hostType].length,c.timeout=s.requestTimeout*(a+1),r(e,c)}var m;if(s._useCache&&(m=t.url),s._useCache&&n&&(m+="_body_"+c.body),s._useCache&&i&&void 0!==i[m])return o("serving response from cache"),s._promise.resolve(JSON.parse(i[m]));if(a>=s.hosts[t.hostType].length||s.useFallback&&!u)return t.fallback&&s._request.fallback&&!u?(o("switching to fallback"),a=0,c.method=t.fallback.method,c.url=t.fallback.url,c.jsonBody=t.fallback.body,c.jsonBody&&(c.body=l(c.jsonBody)),c.timeout=s.requestTimeout*(a+1),s.hostIndex[t.hostType]=0,u=!0,r(s._request.fallback,c)):(o("could not get any response"),s._promise.reject(new h.AlgoliaSearchError("Cannot connect to the AlgoliaSearch API. Send an email to support@algolia.com to report and resolve the issue. Application id was: "+s.applicationID)));var v=s.hosts[t.hostType][s.hostIndex[t.hostType]]+c.url,b={body:n,jsonBody:t.body,method:c.method,headers:s._computeRequestHeaders(),timeout:c.timeout,debug:o};return o("method: %s, url: %s, headers: %j, timeout: %d",b.method,v,b.headers,b.timeout),e===s._request.fallback&&o("using fallback"),e.call(s,v,b).then(f,p)}var n,o=e(6)("algoliasearch:"+t.url),i=t.cache,s=this,a=0,u=!1;void 0!==t.body&&(n=l(t.body)),o("request start");var f=s.useFallback&&t.fallback,p=f?t.fallback:t,y=r(f?s._request.fallback:s._request,{url:p.url,method:p.method,body:n,jsonBody:t.body,timeout:s.requestTimeout*(a+1)});return t.callback?void y.then(function(e){c(function(){t.callback(null,e)},s._setTimeout||setTimeout)},function(e){c(function(){t.callback(e)},s._setTimeout||setTimeout)}):y},_getSearchParams:function(e,t){if(this._isUndefined(e)||null===e)return t;for(var r in e)null!==r&&void 0!==e[r]&&e.hasOwnProperty(r)&&(t+=""===t?"":"&",t+=r+"="+encodeURIComponent("[object Array]"===Object.prototype.toString.call(e[r])?l(e[r]):e[r]));return t},_isUndefined:function(e){return void 0===e},_computeRequestHeaders:function(){var t=e(11),r={"x-algolia-api-key":this.apiKey,"x-algolia-application-id":this.applicationID,"x-algolia-agent":this._ua};return this.userToken&&(r["x-algolia-usertoken"]=this.userToken),this.securityTags&&(r["x-algolia-tagfilters"]=this.securityTags),this.extraHeaders&&t(this.extraHeaders,function(e){r[e.name]=e.value}),r}},n.prototype.Index.prototype={clearCache:function(){this.cache={}},addObject:function(e,t,r){var n=this;return(1===arguments.length||"function"==typeof t)&&(r=t,t=void 0),this.as._jsonRequest({method:void 0!==t?"PUT":"POST",url:"/1/indexes/"+encodeURIComponent(n.indexName)+(void 0!==t?"/"+encodeURIComponent(t):""),body:e,hostType:"write",callback:r})},addObjects:function(t,r){var n=e(46),o="Usage: index.addObjects(arrayOfObjects[, callback])";if(!n(t))throw new Error(o);for(var i=this,s={requests:[]},a=0;a<t.length;++a){var c={action:"addObject",body:t[a]};s.requests.push(c)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(i.indexName)+"/batch",body:s,hostType:"write",callback:r})},getObject:function(e,t,r){var n=this;(1===arguments.length||"function"==typeof t)&&(r=t,t=void 0);var o="";if(void 0!==t){o="?attributes=";for(var i=0;i<t.length;++i)0!==i&&(o+=","),o+=t[i]}return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/"+encodeURIComponent(e)+o,hostType:"read",callback:r})},getObjects:function(t,r,n){var i=e(46),s="Usage: index.getObjects(arrayOfObjectIDs[, callback])";if(!i(t))throw new Error(s);var a=this;(1===arguments.length||"function"==typeof r)&&(n=r,r=void 0);var c={requests:o(t,function(e){var t={indexName:a.indexName,objectID:e};return r&&(t.attributesToRetrieve=r.join(",")),t})};return this.as._jsonRequest({method:"POST",url:"/1/indexes/*/objects",hostType:"read",body:c,callback:n})},partialUpdateObject:function(e,t){var r=this;return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(r.indexName)+"/"+encodeURIComponent(e.objectID)+"/partial",body:e,hostType:"write",callback:t})},partialUpdateObjects:function(t,r){var n=e(46),o="Usage: index.partialUpdateObjects(arrayOfObjects[, callback])";if(!n(t))throw new Error(o);for(var i=this,s={requests:[]},a=0;a<t.length;++a){var c={action:"partialUpdateObject",objectID:t[a].objectID,body:t[a]};s.requests.push(c)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(i.indexName)+"/batch",body:s,hostType:"write",callback:r})},saveObject:function(e,t){var r=this;return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(r.indexName)+"/"+encodeURIComponent(e.objectID),body:e,hostType:"write",callback:t})},saveObjects:function(t,r){var n=e(46),o="Usage: index.saveObjects(arrayOfObjects[, callback])";if(!n(t))throw new Error(o);for(var i=this,s={requests:[]},a=0;a<t.length;++a){var c={action:"updateObject",objectID:t[a].objectID,body:t[a]};s.requests.push(c)}return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(i.indexName)+"/batch",body:s,hostType:"write",callback:r})},deleteObject:function(e,t){if("function"==typeof e||"string"!=typeof e&&"number"!=typeof e){var r=new h.AlgoliaSearchError("Cannot delete an object without an objectID");return t=e,"function"==typeof t?t(r):this.as._promise.reject(r)}var n=this;return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(n.indexName)+"/"+encodeURIComponent(e),hostType:"write",callback:t})},deleteObjects:function(t,r){var n=e(46),i="Usage: index.deleteObjects(arrayOfObjectIDs[, callback])";if(!n(t))throw new Error(i);var s=this,a={requests:o(t,function(e){return{action:"deleteObject",objectID:e,body:{objectID:e}}})};return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(s.indexName)+"/batch",body:a,hostType:"write",callback:r})},deleteByQuery:function(t,r,n){function i(e){if(0===e.nbHits)return e;var t=o(e.hits,function(e){return e.objectID});return d.deleteObjects(t).then(s).then(a)}function s(e){return d.waitTask(e.taskID)}function a(){return d.deleteByQuery(t,r)}function u(){c(function(){n(null)},h._setTimeout||setTimeout)}function l(e){c(function(){n(e)},h._setTimeout||setTimeout)}var f=e(43),d=this,h=d.as;1===arguments.length||"function"==typeof r?(n=r,r={}):r=f(r),r.attributesToRetrieve="objectID",r.hitsPerPage=1e3,r.distinct=!1,this.clearCache();var p=this.search(t,r).then(i);return n?void p.then(u,l):p},search:f("query"),similarSearch:f("similarQuery"),browse:function(t,r,n){var o,i,s=e(55),a=this;0===arguments.length||1===arguments.length&&"function"==typeof arguments[0]?(o=0,n=arguments[0],t=void 0):"number"==typeof arguments[0]?(o=arguments[0],"number"==typeof arguments[1]?i=arguments[1]:"function"==typeof arguments[1]&&(n=arguments[1],i=void 0),t=void 0,r=void 0):"object"==typeof arguments[0]?("function"==typeof arguments[1]&&(n=arguments[1]),r=arguments[0],t=void 0):"string"==typeof arguments[0]&&"function"==typeof arguments[1]&&(n=arguments[1],r=void 0),r=s({},r||{},{page:o,hitsPerPage:i,query:t});var c=this.as._getSearchParams(r,"");return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(a.indexName)+"/browse?"+c,hostType:"read",callback:n})},browseFrom:function(e,t){return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/browse?cursor="+encodeURIComponent(e),hostType:"read",callback:t})},browseAll:function(t,r){function n(e){if(!a._stopped){var t;t=void 0!==e?"cursor="+encodeURIComponent(e):l,c._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(u.indexName)+"/browse?"+t,hostType:"read",callback:o})}}function o(e,t){return a._stopped?void 0:e?void a._error(e):(a._result(t),void 0===t.cursor?void a._end():void n(t.cursor))}"object"==typeof t&&(r=t,t=void 0);var i=e(55),s=e(58),a=new s,c=this.as,u=this,l=c._getSearchParams(i({},r||{},{query:t}),"");return n(),a},ttAdapter:function(e){var t=this;return function(r,n,o){var i;i="function"==typeof o?o:n,t.search(r,e,function(e,t){return e?void i(e):void i(t.hits)})}},waitTask:function(e,t){function r(){return l._jsonRequest({method:"GET",hostType:"read",url:"/1/indexes/"+encodeURIComponent(u.indexName)+"/task/"+e}).then(function(e){a++;var t=i*a*a;return t>s&&(t=s),"published"!==e.status?l._promise.delay(t).then(r):e})}function n(e){c(function(){t(null,e)},l._setTimeout||setTimeout)}function o(e){c(function(){t(e)},l._setTimeout||setTimeout)}var i=100,s=5e3,a=0,u=this,l=u.as,f=r();return t?void f.then(n,o):f},clearIndex:function(e){var t=this;return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(t.indexName)+"/clear",hostType:"write",callback:e})},getSettings:function(e){var t=this;return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(t.indexName)+"/settings",hostType:"read",callback:e})},setSettings:function(e,t){var r=this;return this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(r.indexName)+"/settings",hostType:"write",body:e,callback:t})},listUserKeys:function(e){var t=this;return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(t.indexName)+"/keys",hostType:"read",callback:e})},getUserKeyACL:function(e,t){var r=this;return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(r.indexName)+"/keys/"+e,hostType:"read",callback:t})},deleteUserKey:function(e,t){var r=this;return this.as._jsonRequest({method:"DELETE",url:"/1/indexes/"+encodeURIComponent(r.indexName)+"/keys/"+e,hostType:"write",callback:t})},addUserKey:function(t,r,n){var o=e(46),i="Usage: index.addUserKey(arrayOfAcls[, params, callback])";if(!o(t))throw new Error(i);(1===arguments.length||"function"==typeof r)&&(n=r,r=null);var s={acl:t};return r&&(s.validity=r.validity,s.maxQueriesPerIPPerHour=r.maxQueriesPerIPPerHour,s.maxHitsPerQuery=r.maxHitsPerQuery,s.description=r.description,r.queryParameters&&(s.queryParameters=this.as._getSearchParams(r.queryParameters,"")),s.referers=r.referers),this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys",body:s,hostType:"write",callback:n})},addUserKeyWithValidity:u(function(e,t,r){return this.addUserKey(e,t,r)},a("index.addUserKeyWithValidity()","index.addUserKey()")),updateUserKey:function(t,r,n,o){var i=e(46),s="Usage: index.updateUserKey(key, arrayOfAcls[, params, callback])";if(!i(r))throw new Error(s);(2===arguments.length||"function"==typeof n)&&(o=n,n=null);var a={acl:r};return n&&(a.validity=n.validity,a.maxQueriesPerIPPerHour=n.maxQueriesPerIPPerHour,a.maxHitsPerQuery=n.maxHitsPerQuery,a.description=n.description,n.queryParameters&&(a.queryParameters=this.as._getSearchParams(n.queryParameters,"")),a.referers=n.referers),this.as._jsonRequest({method:"PUT",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/keys/"+t,body:a,hostType:"write",callback:o})},_search:function(e,t){return this.as._jsonRequest({cache:this.cache,method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/query",body:{params:e},hostType:"read",fallback:{method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName),body:{params:e}},callback:t})},as:null,indexName:null,typeAheadArgs:null,typeAheadValueOption:null}},{11:11,43:43,46:46,55:55,58:58,6:6,63:63}],58:[function(e,t,r){"use strict";function n(){}t.exports=n;var o=e(10),i=e(1).EventEmitter;o(n,i),n.prototype.stop=function(){this._stopped=!0,this._clean()},n.prototype._end=function(){this.emit("end"),this._clean()},n.prototype._error=function(e){this.emit("error",e),this._clean()},n.prototype._result=function(e){this.emit("result",e)},n.prototype._clean=function(){this.removeAllListeners("stop"),this.removeAllListeners("end"),this.removeAllListeners("error"),this.removeAllListeners("result")}},{1:1,10:10}],59:[function(e,t,r){"use strict";function n(t,r,i){var s=e(44),a=e(60);return i=s(i||{}),void 0===i.protocol&&(i.protocol=a()),i._ua=i._ua||n.ua,new o(t,r,i)}function o(){a.apply(this,arguments)}t.exports=n;var i=e(10),s=window.Promise||e(9).Promise,a=e(57),c=e(63),u=e(61),l=e(62);n.version=e(64),n.ua="Algolia for vanilla JavaScript "+n.version,window.__algolia={debug:e(6),algoliasearch:n};var f={hasXMLHttpRequest:"XMLHttpRequest"in window,hasXDomainRequest:"XDomainRequest"in window,cors:"withCredentials"in new XMLHttpRequest,timeout:"timeout"in new XMLHttpRequest};i(o,a),o.prototype._request=function(e,t){return new s(function(r,n){function o(){if(!l){f.timeout||clearTimeout(a);var e;try{e={body:JSON.parse(h.responseText),responseText:h.responseText,statusCode:h.status,headers:h.getAllResponseHeaders&&h.getAllResponseHeaders()||{}}}catch(t){e=new c.UnparsableJSON({more:h.responseText})}e instanceof c.UnparsableJSON?n(e):r(e)}}function i(e){l||(f.timeout||clearTimeout(a),n(new c.Network({more:e})))}function s(){f.timeout||(l=!0,h.abort()),n(new c.RequestTimeout)}if(!f.cors&&!f.hasXDomainRequest)return void n(new c.Network("CORS not supported"));e=u(e,t.headers);var a,l,d=t.body,h=f.cors?new XMLHttpRequest:new XDomainRequest;h instanceof XMLHttpRequest?h.open(t.method,e,!0):h.open(t.method,e),f.cors&&(d&&("POST"===t.method?h.setRequestHeader("content-type","application/x-www-form-urlencoded"):h.setRequestHeader("content-type","application/json")),h.setRequestHeader("accept","application/json")),h.onprogress=function(){},h.onload=o,h.onerror=i,f.timeout?(h.timeout=t.timeout,h.ontimeout=s):a=setTimeout(s,t.timeout),h.send(d)})},o.prototype._request.fallback=function(e,t){return e=u(e,t.headers),new s(function(r,n){l(e,t,function(e,t){return e?void n(e):void r(t)})})},o.prototype._promise={reject:function(e){return s.reject(e)},resolve:function(e){return s.resolve(e)},delay:function(e){return new s(function(t){setTimeout(t,e)})}}},{10:10,44:44,57:57,6:6,60:60,61:61,62:62,63:63,64:64,9:9}],60:[function(e,t,r){"use strict";function n(){var e=window.document.location.protocol;return"http:"!==e&&"https:"!==e&&(e="http:"),e}t.exports=n},{}],61:[function(e,t,r){"use strict";function n(e,t){return e+=/\?/.test(e)?"&":"?",e+o.encode(t)}t.exports=n;var o=e(5)},{5:5}],62:[function(e,t,r){"use strict";function n(e,t,r){function n(){t.debug("JSONP: success"),y||f||(y=!0,l||(t.debug("JSONP: Fail. Script loaded but did not call the callback"),a(),r(new o.JSONPScriptFail)))}function s(){("loaded"===this.readyState||"complete"===this.readyState)&&n()}function a(){clearTimeout(m),h.onload=null,h.onreadystatechange=null,h.onerror=null,d.removeChild(h);try{delete window[p],delete window[p+"_loaded"]}catch(e){window[p]=null,window[p+"_loaded"]=null}}function c(){t.debug("JSONP: Script timeout"),f=!0,a(),r(new o.RequestTimeout)}function u(){t.debug("JSONP: Script error"),y||f||(a(),r(new o.JSONPScriptError))}if("GET"!==t.method)return void r(new Error("Method "+t.method+" "+e+" is not supported by JSONP."));t.debug("JSONP: start");var l=!1,f=!1;i+=1;var d=document.getElementsByTagName("head")[0],h=document.createElement("script"),p="algoliaJSONP_"+i,y=!1;window[p]=function(e){try{delete window[p]}catch(t){window[p]=void 0}f||(l=!0,a(),r(null,{body:e}))},e+="&callback="+p,t.jsonBody&&t.jsonBody.params&&(e+="&"+t.jsonBody.params);var m=setTimeout(c,t.timeout);h.onreadystatechange=s,h.onload=n,h.onerror=u,h.async=!0,h.defer=!0,h.src=e,d.appendChild(h)}t.exports=n;var o=e(63),i=0},{63:63}],63:[function(e,t,r){"use strict";function n(t,r){var n=e(11),o=this;"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):o.stack=(new Error).stack||"Cannot get a stacktrace, browser is too old",this.name=this.constructor.name,this.message=t||"Unknown error",r&&n(r,function(e,t){o[t]=e})}function o(e,t){function r(){var r=Array.prototype.slice.call(arguments,0);"string"!=typeof r[0]&&r.unshift(t),n.apply(this,r),this.name="AlgoliaSearch"+e+"Error"}return i(r,n),r}var i=e(10);i(n,Error),t.exports={AlgoliaSearchError:n,UnparsableJSON:o("UnparsableJSON","Could not parse the incoming response as JSON, see err.more for details"),RequestTimeout:o("RequestTimeout","Request timedout before getting a response"),Network:o("Network","Network issue, see err.more for details"),JSONPScriptFail:o("JSONPScriptFail","<script> was loaded but did not call our provided callback"),JSONPScriptError:o("JSONPScriptError","<script> unable to load due to an `error` event on it"),Unknown:o("Unknown","Unknown error occured")}},{10:10,11:11}],64:[function(e,t,r){"use strict";t.exports="3.9.2"},{}]},{},[59])(59)});

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],3:[function(require,module,exports){
'use strict';

var lucy = function( site_url, algolia_app_id, algolia_api_key, algolia_index_name, defaultLinks, contactLink ) {

	// make sure site url does not have trailing slash
	if( site_url.charAt(site_url.length - 1) == "/") {
		site_url = site_url.substr(0, site_url.length - 1);
	}

	var m = mc4wp.deps.mithril;
	var algoliasearch = require( './algoliasearch.js');
	var client = algoliasearch( algolia_app_id, algolia_api_key );
	var index = client.initIndex( algolia_index_name );

	var isOpen = false;
	var loader, loadingInterval = 0;
	var searchResults = m.prop([]);
	var searchQuery = m.prop('');
	var nothingFound = false;

	// create element
	var element = document.createElement('div');
	element.setAttribute('class','lucy');
	document.body.appendChild(element);

	function addEvent(element,event,handler) {
		if(element.addEventListener){
			element.addEventListener(event,handler,false);
		} else {
			element.attachEvent('on' + event, handler);
		}
	}

	function removeEvent(element,event,handler){
		if(element.removeEventListener){
			element.removeEventListener(event,handler);
		} else {
			element.detachEvent('on' + event, handler);
		}
	}

	function maybeClose(event) {
		event = event || window.event;

		// close when pressing ESCAPE
		if(event.type === 'keyup' && event.keyCode == 27 ) {
			close();
			return;
		}

		// close when clicking ANY element outside of Lucy
		var clickedElement = event.target || event.srcElement;
		if(event.type === 'click' && element.contains && ! element.contains(clickedElement) )  {
			close();
		}
	}

	function open() {
		if( isOpen ) return;
		isOpen = true;
		m.redraw();

		addEvent(document,'keyup',maybeClose);
		addEvent(document,'click',maybeClose);
	}

	function close() {
		if( ! isOpen ) return;
		isOpen = false;
		reset();

		removeEvent(document,'keyup',maybeClose);
		removeEvent(document,'click',maybeClose);
	}

	function reset() {
		searchQuery('');
		searchResults([]);
		nothingFound = false;
		m.redraw();
	}

	var module = {};
	module.view = function() {
		var content;

		element.setAttribute('class', 'lucy ' + ( isOpen ? 'open' : 'closed' ) );

		if( searchQuery().length > 0 ) {
			if( searchResults().length > 0 ) {
				content = m('div.search-results', searchResults().map(function(l) {
					return m('a', { href: l.href }, m.trust(l.text) );
				}));
			} else {
				content = m('div.search-results', [
					m("em.search-pending", (nothingFound ? "Nothing found for " : "Hit [ENTER] to search for" ) + "\""+ searchQuery() +"\"..")
				]);
			}
		} else {
			content = m("div.links", defaultLinks.map(function(l) {
				return m('a', { href: l.href }, m.trust(l.text) );
			}));
		}

		return [
			m('div.lucy--content', { style: { display: isOpen ? 'block' : 'none' } }, [
				m('span.close-icon', { onclick: close }, ""),
				m('div.header', [
					m('h4', 'Looking for help?'),
					m('div.search-form', {
						onsubmit: search
					}, [
						m('input', {
							type: 'text',
							value: searchQuery(),
							onkeyup: function(event) {
								event = event || window.event;

								if( this.value === '' && searchQuery() !== '' ) {
									return reset();
								}

								searchQuery(this.value);

								if(event.keyCode == 13 ) {
									return search(this.value);
								}
							},
							config: function(el) { isOpen && el.focus(); },
							placeholder: 'What are you looking for?'
						}),
						m('span', {
							"class": 'loader',
							config: function(el) {
								loader = el;
							}
						}),
						m('input', { type: 'submit' })
					])
				]),
				m('div.list', content),
				m('div.footer', [
					m("span", "Can't find the answer you're looking for?"),
					m("a", { "class": 'button button-primary', href: contactLink, target: "_blank" }, "Contact Support")
				])
			]),
			m('span.lucy-button', {
				onclick: open, style: { display: isOpen ? 'none' : 'block' }
			}, [
				m('span.lucy-button-text',  "Need help?")
			])
		];
	};

	function showResults(results) {
		if( ! results.length ) {
			nothingFound = true;
			return;
		}
		var parser = document.createElement('a');
		searchResults(results.map(function(r) {
			parser.href = r.path;
			var url = site_url + parser.pathname + ( parser.search || '' );
			return { href: url, text: r._highlightResult.title.value};
		}));

	}


	function search(query) {
		loader.innerText = '.';
		loadingInterval = window.setInterval(function() {
			loader.innerText += '.';

			if( loader.innerText.length > 3 ) {
				loader.innerText = '.';
			}
		}, 333 );

		index.search( query, { hitsPerPage: 5 }, function( error, result ) {

			if( error ) {
				// TODO: show error
			 } else {
				showResults(result.hits);
			}

			m.redraw();

			/* clear loader */
			loader.innerText = '';
			window.clearInterval(loadingInterval);
		} );

	}

	m.mount(element,module);
};

module.exports = lucy;
},{"./algoliasearch.js":2}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJsdWN5L2Fzc2V0cy9icm93c2VyaWZ5L3NjcmlwdC5qcyIsImx1Y3kvYXNzZXRzL2Jyb3dzZXJpZnkvdGhpcmQtcGFydHkvYWxnb2xpYXNlYXJjaC5qcyIsImx1Y3kvYXNzZXRzL2Jyb3dzZXJpZnkvdGhpcmQtcGFydHkvbHVjeS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIndXNlIHN0cmljdCc7XG5cbnZhciBMdWN5ID0gcmVxdWlyZSgnLi90aGlyZC1wYXJ0eS9sdWN5LmpzJyk7XG5cbnZhciBsdWN5ID0gbmV3IEx1Y3koXG5cdCdodHRwczovL21jNHdwLmNvbS8nLFxuXHQnREE5WUZTVFJLQScsXG5cdCdjZTFjOTNmYWQxNWJlMmI3MGUwYWEwYjFjMmU1MmQ4ZScsXG5cdCd3cGtiX2FydGljbGVzJyxcblx0W1xuXHRcdHtcblx0XHRcdHRleHQ6IFwiPHNwYW4gY2xhc3M9XFxcImRhc2hpY29ucyBkYXNoaWNvbnMtYm9va1xcXCI+PC9zcGFuPiBLbm93bGVkZ2UgQmFzZVwiLFxuXHRcdFx0aHJlZjogXCJodHRwczovL21jNHdwLmNvbS9rYi9cIlxuXHRcdH0sXG5cdFx0e1xuXHRcdFx0dGV4dDogXCI8c3BhbiBjbGFzcz1cXFwiZGFzaGljb25zIGRhc2hpY29ucy1lZGl0b3ItY29kZVxcXCI+PC9zcGFuPiBDb2RlIFJlZmVyZW5jZVwiLFxuXHRcdFx0aHJlZjogXCJodHRwOi8vZGV2ZWxvcGVyLm1jNHdwLmNvbS9cIlxuXHRcdH0sXG5cdFx0e1xuXHRcdFx0dGV4dDogXCI8c3BhbiBjbGFzcz1cXFwiZGFzaGljb25zIGRhc2hpY29ucy1lZGl0b3ItYnJlYWtcXFwiPjwvc3Bhbj4gQ2hhbmdlbG9nXCIsXG5cdFx0XHRocmVmOiBcImh0dHA6Ly9tYzR3cC5jb20vZG9jdW1lbnRhdGlvbi9jaGFuZ2Vsb2cvXCJcblx0XHR9XG5cblx0XSxcblx0bHVjeV9jb25maWcuZW1haWxfbGlua1xuKTsiLCJcbi8qISBhbGdvbGlhc2VhcmNoIDMuOS4yIHwgwqkgMjAxNCwgMjAxNSBBbGdvbGlhIFNBUyB8IGdpdGh1Yi5jb20vYWxnb2xpYS9hbGdvbGlhc2VhcmNoLWNsaWVudC1qcyAqL1xuIWZ1bmN0aW9uKGUpe3ZhciB0O1widW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/dD13aW5kb3c6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJih0PXNlbGYpLHQuQUxHT0xJQV9NSUdSQVRJT05fTEFZRVI9ZSgpfShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbiBlKHQscixuKXtmdW5jdGlvbiBvKHMsYSl7aWYoIXJbc10pe2lmKCF0W3NdKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFhJiZjKXJldHVybiBjKHMsITApO2lmKGkpcmV0dXJuIGkocywhMCk7dmFyIHU9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitzK1wiJ1wiKTt0aHJvdyB1LmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsdX12YXIgbD1yW3NdPXtleHBvcnRzOnt9fTt0W3NdWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciByPXRbc11bMV1bZV07cmV0dXJuIG8ocj9yOmUpfSxsLGwuZXhwb3J0cyxlLHQscixuKX1yZXR1cm4gcltzXS5leHBvcnRzfWZvcih2YXIgaT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHM9MDtzPG4ubGVuZ3RoO3MrKylvKG5bc10pO3JldHVybiBvfSh7MTpbZnVuY3Rpb24oZSx0LHIpe2Z1bmN0aW9uIG4oZSx0KXtmb3IodmFyIHIgaW4gdCllLnNldEF0dHJpYnV0ZShyLHRbcl0pfWZ1bmN0aW9uIG8oZSx0KXtlLm9ubG9hZD1mdW5jdGlvbigpe3RoaXMub25lcnJvcj10aGlzLm9ubG9hZD1udWxsLHQobnVsbCxlKX0sZS5vbmVycm9yPWZ1bmN0aW9uKCl7dGhpcy5vbmVycm9yPXRoaXMub25sb2FkPW51bGwsdChuZXcgRXJyb3IoXCJGYWlsZWQgdG8gbG9hZCBcIit0aGlzLnNyYyksZSl9fWZ1bmN0aW9uIGkoZSx0KXtlLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpeyhcImNvbXBsZXRlXCI9PXRoaXMucmVhZHlTdGF0ZXx8XCJsb2FkZWRcIj09dGhpcy5yZWFkeVN0YXRlKSYmKHRoaXMub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsdChudWxsLGUpKX19dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgcz1kb2N1bWVudC5oZWFkfHxkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF0sYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1wiZnVuY3Rpb25cIj09dHlwZW9mIHQmJihyPXQsdD17fSksdD10fHx7fSxyPXJ8fGZ1bmN0aW9uKCl7fSxhLnR5cGU9dC50eXBlfHxcInRleHQvamF2YXNjcmlwdFwiLGEuY2hhcnNldD10LmNoYXJzZXR8fFwidXRmOFwiLGEuYXN5bmM9XCJhc3luY1wiaW4gdD8hIXQuYXN5bmM6ITAsYS5zcmM9ZSx0LmF0dHJzJiZuKGEsdC5hdHRycyksdC50ZXh0JiYoYS50ZXh0PVwiXCIrdC50ZXh0KTt2YXIgYz1cIm9ubG9hZFwiaW4gYT9vOmk7YyhhLHIpLGEub25sb2FkfHxvKGEscikscy5hcHBlbmRDaGlsZChhKX19LHt9XSwyOltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihlKXtmb3IodmFyIHQ9bmV3IFJlZ0V4cChcImNkblxcXFwuanNkZWxpdnJcXFxcLm5ldC9hbGdvbGlhc2VhcmNoL2xhdGVzdC9cIitlLnJlcGxhY2UoXCIuXCIsXCJcXFxcLlwiKStcIig/OlxcXFwubWluKT9cXFxcLmpzJFwiKSxyPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpLG49ITEsbz0wLGk9ci5sZW5ndGg7aT5vO28rKylpZihyW29dLnNyYyYmdC50ZXN0KHJbb10uc3JjKSl7bj0hMDticmVha31yZXR1cm4gbn10LmV4cG9ydHM9bn0se31dLDM6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe3ZhciByPWUoMSksbj1cIi8vY2RuLmpzZGVsaXZyLm5ldC9hbGdvbGlhc2VhcmNoLzIvXCIrdCtcIi5taW4uanNcIixpPVwiLS0gQWxnb2xpYVNlYXJjaCBgbGF0ZXN0YCB3YXJuaW5nIC0tXFxuV2FybmluZywgeW91IGFyZSB1c2luZyB0aGUgYGxhdGVzdGAgdmVyc2lvbiBzdHJpbmcgZnJvbSBqc0RlbGl2ciB0byBsb2FkIHRoZSBBbGdvbGlhU2VhcmNoIGxpYnJhcnkuXFxuVXNpbmcgYGxhdGVzdGAgaXMgbm8gbW9yZSByZWNvbW1lbmRlZCwgeW91IHNob3VsZCBsb2FkIC8vY2RuLmpzZGVsaXZyLm5ldC9hbGdvbGlhc2VhcmNoLzIvYWxnb2xpYXNlYXJjaC5taW4uanNcXG5cXG5BbHNvLCB3ZSB1cGRhdGVkIHRoZSBBbGdvbGlhU2VhcmNoIEphdmFTY3JpcHQgY2xpZW50IHRvIFYzLiBJZiB5b3Ugd2FudCB0byB1cGdyYWRlLFxcbnBsZWFzZSByZWFkIG91ciBtaWdyYXRpb24gZ3VpZGUgYXQgaHR0cHM6Ly9naXRodWIuY29tL2FsZ29saWEvYWxnb2xpYXNlYXJjaC1jbGllbnQtanMvd2lraS9NaWdyYXRpb24tZ3VpZGUtZnJvbS0yLngueC10by0zLngueFxcbi0tIC9BbGdvbGlhU2VhcmNoICBgbGF0ZXN0YCB3YXJuaW5nIC0tXCI7d2luZG93LmNvbnNvbGUmJih3aW5kb3cuY29uc29sZS53YXJuP3dpbmRvdy5jb25zb2xlLndhcm4oaSk6d2luZG93LmNvbnNvbGUubG9nJiZ3aW5kb3cuY29uc29sZS5sb2coaSkpO3RyeXtkb2N1bWVudC53cml0ZShcIjxzY3JpcHQ+d2luZG93LkFMR09MSUFfU1VQUE9SVFNfRE9DV1JJVEUgPSB0cnVlPC9zY3JpcHQ+XCIpLHdpbmRvdy5BTEdPTElBX1NVUFBPUlRTX0RPQ1dSSVRFPT09ITA/KGRvY3VtZW50LndyaXRlKCc8c2NyaXB0IHNyYz1cIicrbisnXCI+PC9zY3JpcHQ+JyksbyhcImRvY3VtZW50LndyaXRlXCIpKCkpOnIobixvKFwiRE9NRWxlbWVudFwiKSl9Y2F0Y2gocyl7cihuLG8oXCJET01FbGVtZW50XCIpKX19ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdD1cIkFsZ29saWFTZWFyY2g6IGxvYWRlZCBWMiBzY3JpcHQgdXNpbmcgXCIrZTt3aW5kb3cuY29uc29sZSYmd2luZG93LmNvbnNvbGUubG9nJiZ3aW5kb3cuY29uc29sZS5sb2codCl9fXQuZXhwb3J0cz1ufSx7MToxfV0sNDpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oKXt2YXIgZT1cIi0tIEFsZ29saWFTZWFyY2ggVjIgPT4gVjMgZXJyb3IgLS1cXG5Zb3UgYXJlIHRyeWluZyB0byB1c2UgYSBuZXcgdmVyc2lvbiBvZiB0aGUgQWxnb2xpYVNlYXJjaCBKYXZhU2NyaXB0IGNsaWVudCB3aXRoIGFuIG9sZCBub3RhdGlvbi5cXG5QbGVhc2UgcmVhZCBvdXIgbWlncmF0aW9uIGd1aWRlIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS9hbGdvbGlhL2FsZ29saWFzZWFyY2gtY2xpZW50LWpzL3dpa2kvTWlncmF0aW9uLWd1aWRlLWZyb20tMi54LngtdG8tMy54LnhcXG4tLSAvQWxnb2xpYVNlYXJjaCBWMiA9PiBWMyBlcnJvciAtLVwiO3dpbmRvdy5BbGdvbGlhU2VhcmNoPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKGUpfSx3aW5kb3cuQWxnb2xpYVNlYXJjaEhlbHBlcj1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihlKX0sd2luZG93LkFsZ29saWFFeHBsYWluUmVzdWx0cz1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihlKX19dC5leHBvcnRzPW59LHt9XSw1OltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXt2YXIgcj1lKDIpLG49ZSgzKSxvPWUoNCk7cih0KT9uKHQpOm8oKX1uKFwiYWxnb2xpYXNlYXJjaFwiKX0sezI6MiwzOjMsNDo0fV19LHt9LFs1XSkoNSl9KSxmdW5jdGlvbihlKXtpZihcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz1lKCk7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLGUpO2Vsc2V7dmFyIHQ7dD1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzpcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsdC5hbGdvbGlhc2VhcmNoPWUoKX19KGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGZ1bmN0aW9uIHQoZSxyLG4pe2Z1bmN0aW9uIG8ocyxhKXtpZighcltzXSl7aWYoIWVbc10pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWEmJmMpcmV0dXJuIGMocywhMCk7aWYoaSlyZXR1cm4gaShzLCEwKTt2YXIgdT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK3MrXCInXCIpO3Rocm93IHUuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIix1fXZhciBsPXJbc109e2V4cG9ydHM6e319O2Vbc11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24odCl7dmFyIHI9ZVtzXVsxXVt0XTtyZXR1cm4gbyhyP3I6dCl9LGwsbC5leHBvcnRzLHQsZSxyLG4pfXJldHVybiByW3NdLmV4cG9ydHN9Zm9yKHZhciBpPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUscz0wO3M8bi5sZW5ndGg7cysrKW8obltzXSk7cmV0dXJuIG99KHsxOltmdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gbigpe3RoaXMuX2V2ZW50cz10aGlzLl9ldmVudHN8fHt9LHRoaXMuX21heExpc3RlbmVycz10aGlzLl9tYXhMaXN0ZW5lcnN8fHZvaWQgMH1mdW5jdGlvbiBvKGUpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGV9ZnVuY3Rpb24gaShlKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZX1mdW5jdGlvbiBzKGUpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiBlJiZudWxsIT09ZX1mdW5jdGlvbiBhKGUpe3JldHVybiB2b2lkIDA9PT1lfXQuZXhwb3J0cz1uLG4uRXZlbnRFbWl0dGVyPW4sbi5wcm90b3R5cGUuX2V2ZW50cz12b2lkIDAsbi5wcm90b3R5cGUuX21heExpc3RlbmVycz12b2lkIDAsbi5kZWZhdWx0TWF4TGlzdGVuZXJzPTEwLG4ucHJvdG90eXBlLnNldE1heExpc3RlbmVycz1mdW5jdGlvbihlKXtpZighaShlKXx8MD5lfHxpc05hTihlKSl0aHJvdyBUeXBlRXJyb3IoXCJuIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXJcIik7cmV0dXJuIHRoaXMuX21heExpc3RlbmVycz1lLHRoaXN9LG4ucHJvdG90eXBlLmVtaXQ9ZnVuY3Rpb24oZSl7dmFyIHQscixuLGksYyx1O2lmKHRoaXMuX2V2ZW50c3x8KHRoaXMuX2V2ZW50cz17fSksXCJlcnJvclwiPT09ZSYmKCF0aGlzLl9ldmVudHMuZXJyb3J8fHModGhpcy5fZXZlbnRzLmVycm9yKSYmIXRoaXMuX2V2ZW50cy5lcnJvci5sZW5ndGgpKXtpZih0PWFyZ3VtZW50c1sxXSx0IGluc3RhbmNlb2YgRXJyb3IpdGhyb3cgdDt0aHJvdyBUeXBlRXJyb3IoJ1VuY2F1Z2h0LCB1bnNwZWNpZmllZCBcImVycm9yXCIgZXZlbnQuJyl9aWYocj10aGlzLl9ldmVudHNbZV0sYShyKSlyZXR1cm4hMTtpZihvKHIpKXN3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDE6ci5jYWxsKHRoaXMpO2JyZWFrO2Nhc2UgMjpyLmNhbGwodGhpcyxhcmd1bWVudHNbMV0pO2JyZWFrO2Nhc2UgMzpyLmNhbGwodGhpcyxhcmd1bWVudHNbMV0sYXJndW1lbnRzWzJdKTticmVhaztkZWZhdWx0OmZvcihuPWFyZ3VtZW50cy5sZW5ndGgsaT1uZXcgQXJyYXkobi0xKSxjPTE7bj5jO2MrKylpW2MtMV09YXJndW1lbnRzW2NdO3IuYXBwbHkodGhpcyxpKX1lbHNlIGlmKHMocikpe2ZvcihuPWFyZ3VtZW50cy5sZW5ndGgsaT1uZXcgQXJyYXkobi0xKSxjPTE7bj5jO2MrKylpW2MtMV09YXJndW1lbnRzW2NdO2Zvcih1PXIuc2xpY2UoKSxuPXUubGVuZ3RoLGM9MDtuPmM7YysrKXVbY10uYXBwbHkodGhpcyxpKX1yZXR1cm4hMH0sbi5wcm90b3R5cGUuYWRkTGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXt2YXIgcjtpZighbyh0KSl0aHJvdyBUeXBlRXJyb3IoXCJsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb25cIik7aWYodGhpcy5fZXZlbnRzfHwodGhpcy5fZXZlbnRzPXt9KSx0aGlzLl9ldmVudHMubmV3TGlzdGVuZXImJnRoaXMuZW1pdChcIm5ld0xpc3RlbmVyXCIsZSxvKHQubGlzdGVuZXIpP3QubGlzdGVuZXI6dCksdGhpcy5fZXZlbnRzW2VdP3ModGhpcy5fZXZlbnRzW2VdKT90aGlzLl9ldmVudHNbZV0ucHVzaCh0KTp0aGlzLl9ldmVudHNbZV09W3RoaXMuX2V2ZW50c1tlXSx0XTp0aGlzLl9ldmVudHNbZV09dCxzKHRoaXMuX2V2ZW50c1tlXSkmJiF0aGlzLl9ldmVudHNbZV0ud2FybmVkKXt2YXIgcjtyPWEodGhpcy5fbWF4TGlzdGVuZXJzKT9uLmRlZmF1bHRNYXhMaXN0ZW5lcnM6dGhpcy5fbWF4TGlzdGVuZXJzLHImJnI+MCYmdGhpcy5fZXZlbnRzW2VdLmxlbmd0aD5yJiYodGhpcy5fZXZlbnRzW2VdLndhcm5lZD0hMCxjb25zb2xlLmVycm9yKFwiKG5vZGUpIHdhcm5pbmc6IHBvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gJWQgbGlzdGVuZXJzIGFkZGVkLiBVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdC5cIix0aGlzLl9ldmVudHNbZV0ubGVuZ3RoKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBjb25zb2xlLnRyYWNlJiZjb25zb2xlLnRyYWNlKCkpfXJldHVybiB0aGlzfSxuLnByb3RvdHlwZS5vbj1uLnByb3RvdHlwZS5hZGRMaXN0ZW5lcixuLnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcigpe3RoaXMucmVtb3ZlTGlzdGVuZXIoZSxyKSxufHwobj0hMCx0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9aWYoIW8odCkpdGhyb3cgVHlwZUVycm9yKFwibGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO3ZhciBuPSExO3JldHVybiByLmxpc3RlbmVyPXQsdGhpcy5vbihlLHIpLHRoaXN9LG4ucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbixpLGE7aWYoIW8odCkpdGhyb3cgVHlwZUVycm9yKFwibGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO2lmKCF0aGlzLl9ldmVudHN8fCF0aGlzLl9ldmVudHNbZV0pcmV0dXJuIHRoaXM7aWYocj10aGlzLl9ldmVudHNbZV0saT1yLmxlbmd0aCxuPS0xLHI9PT10fHxvKHIubGlzdGVuZXIpJiZyLmxpc3RlbmVyPT09dClkZWxldGUgdGhpcy5fZXZlbnRzW2VdLHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lciYmdGhpcy5lbWl0KFwicmVtb3ZlTGlzdGVuZXJcIixlLHQpO2Vsc2UgaWYocyhyKSl7Zm9yKGE9aTthLS0+MDspaWYoclthXT09PXR8fHJbYV0ubGlzdGVuZXImJnJbYV0ubGlzdGVuZXI9PT10KXtuPWE7YnJlYWt9aWYoMD5uKXJldHVybiB0aGlzOzE9PT1yLmxlbmd0aD8oci5sZW5ndGg9MCxkZWxldGUgdGhpcy5fZXZlbnRzW2VdKTpyLnNwbGljZShuLDEpLHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lciYmdGhpcy5lbWl0KFwicmVtb3ZlTGlzdGVuZXJcIixlLHQpfXJldHVybiB0aGlzfSxuLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnM9ZnVuY3Rpb24oZSl7dmFyIHQscjtpZighdGhpcy5fZXZlbnRzKXJldHVybiB0aGlzO2lmKCF0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpcmV0dXJuIDA9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMuX2V2ZW50cz17fTp0aGlzLl9ldmVudHNbZV0mJmRlbGV0ZSB0aGlzLl9ldmVudHNbZV0sdGhpcztpZigwPT09YXJndW1lbnRzLmxlbmd0aCl7Zm9yKHQgaW4gdGhpcy5fZXZlbnRzKVwicmVtb3ZlTGlzdGVuZXJcIiE9PXQmJnRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKHQpO3JldHVybiB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhcInJlbW92ZUxpc3RlbmVyXCIpLHRoaXMuX2V2ZW50cz17fSx0aGlzfWlmKHI9dGhpcy5fZXZlbnRzW2VdLG8ocikpdGhpcy5yZW1vdmVMaXN0ZW5lcihlLHIpO2Vsc2UgZm9yKDtyLmxlbmd0aDspdGhpcy5yZW1vdmVMaXN0ZW5lcihlLHJbci5sZW5ndGgtMV0pO3JldHVybiBkZWxldGUgdGhpcy5fZXZlbnRzW2VdLHRoaXN9LG4ucHJvdG90eXBlLmxpc3RlbmVycz1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gdD10aGlzLl9ldmVudHMmJnRoaXMuX2V2ZW50c1tlXT9vKHRoaXMuX2V2ZW50c1tlXSk/W3RoaXMuX2V2ZW50c1tlXV06dGhpcy5fZXZlbnRzW2VdLnNsaWNlKCk6W119LG4ubGlzdGVuZXJDb3VudD1mdW5jdGlvbihlLHQpe3ZhciByO3JldHVybiByPWUuX2V2ZW50cyYmZS5fZXZlbnRzW3RdP28oZS5fZXZlbnRzW3RdKT8xOmUuX2V2ZW50c1t0XS5sZW5ndGg6MH19LHt9XSwyOltmdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gbigpe2w9ITEsYS5sZW5ndGg/dT1hLmNvbmNhdCh1KTpmPS0xLHUubGVuZ3RoJiZvKCl9ZnVuY3Rpb24gbygpe2lmKCFsKXt2YXIgZT1zZXRUaW1lb3V0KG4pO2w9ITA7Zm9yKHZhciB0PXUubGVuZ3RoO3Q7KXtmb3IoYT11LHU9W107KytmPHQ7KWEmJmFbZl0ucnVuKCk7Zj0tMSx0PXUubGVuZ3RofWE9bnVsbCxsPSExLGNsZWFyVGltZW91dChlKX19ZnVuY3Rpb24gaShlLHQpe3RoaXMuZnVuPWUsdGhpcy5hcnJheT10fWZ1bmN0aW9uIHMoKXt9dmFyIGEsYz10LmV4cG9ydHM9e30sdT1bXSxsPSExLGY9LTE7Yy5uZXh0VGljaz1mdW5jdGlvbihlKXt2YXIgdD1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKTtpZihhcmd1bWVudHMubGVuZ3RoPjEpZm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl0W3ItMV09YXJndW1lbnRzW3JdO3UucHVzaChuZXcgaShlLHQpKSwxIT09dS5sZW5ndGh8fGx8fHNldFRpbWVvdXQobywwKX0saS5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7dGhpcy5mdW4uYXBwbHkobnVsbCx0aGlzLmFycmF5KX0sYy50aXRsZT1cImJyb3dzZXJcIixjLmJyb3dzZXI9ITAsYy5lbnY9e30sYy5hcmd2PVtdLGMudmVyc2lvbj1cIlwiLGMudmVyc2lvbnM9e30sYy5vbj1zLGMuYWRkTGlzdGVuZXI9cyxjLm9uY2U9cyxjLm9mZj1zLGMucmVtb3ZlTGlzdGVuZXI9cyxjLnJlbW92ZUFsbExpc3RlbmVycz1zLGMuZW1pdD1zLGMuYmluZGluZz1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZFwiKX0sYy5jd2Q9ZnVuY3Rpb24oKXtyZXR1cm5cIi9cIn0sYy5jaGRpcj1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWRcIil9LGMudW1hc2s9ZnVuY3Rpb24oKXtyZXR1cm4gMH19LHt9XSwzOltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX10LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsaSl7dD10fHxcIiZcIixyPXJ8fFwiPVwiO3ZhciBzPXt9O2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlfHwwPT09ZS5sZW5ndGgpcmV0dXJuIHM7dmFyIGE9L1xcKy9nO2U9ZS5zcGxpdCh0KTt2YXIgYz0xZTM7aSYmXCJudW1iZXJcIj09dHlwZW9mIGkubWF4S2V5cyYmKGM9aS5tYXhLZXlzKTt2YXIgdT1lLmxlbmd0aDtjPjAmJnU+YyYmKHU9Yyk7Zm9yKHZhciBsPTA7dT5sOysrbCl7dmFyIGYsZCxoLHAseT1lW2xdLnJlcGxhY2UoYSxcIiUyMFwiKSxtPXkuaW5kZXhPZihyKTttPj0wPyhmPXkuc3Vic3RyKDAsbSksZD15LnN1YnN0cihtKzEpKTooZj15LGQ9XCJcIiksaD1kZWNvZGVVUklDb21wb25lbnQoZikscD1kZWNvZGVVUklDb21wb25lbnQoZCksbihzLGgpP28oc1toXSk/c1toXS5wdXNoKHApOnNbaF09W3NbaF0scF06c1toXT1wfXJldHVybiBzfTt2YXIgbz1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl9fSx7fV0sNDpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oZSx0KXtpZihlLm1hcClyZXR1cm4gZS5tYXAodCk7Zm9yKHZhciByPVtdLG49MDtuPGUubGVuZ3RoO24rKylyLnB1c2godChlW25dLG4pKTtyZXR1cm4gcn12YXIgbz1mdW5jdGlvbihlKXtzd2l0Y2godHlwZW9mIGUpe2Nhc2VcInN0cmluZ1wiOnJldHVybiBlO2Nhc2VcImJvb2xlYW5cIjpyZXR1cm4gZT9cInRydWVcIjpcImZhbHNlXCI7Y2FzZVwibnVtYmVyXCI6cmV0dXJuIGlzRmluaXRlKGUpP2U6XCJcIjtkZWZhdWx0OnJldHVyblwiXCJ9fTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsYSl7cmV0dXJuIHQ9dHx8XCImXCIscj1yfHxcIj1cIixudWxsPT09ZSYmKGU9dm9pZCAwKSxcIm9iamVjdFwiPT10eXBlb2YgZT9uKHMoZSksZnVuY3Rpb24ocyl7dmFyIGE9ZW5jb2RlVVJJQ29tcG9uZW50KG8ocykpK3I7cmV0dXJuIGkoZVtzXSk/bihlW3NdLGZ1bmN0aW9uKGUpe3JldHVybiBhK2VuY29kZVVSSUNvbXBvbmVudChvKGUpKX0pLmpvaW4odCk6YStlbmNvZGVVUklDb21wb25lbnQobyhlW3NdKSl9KS5qb2luKHQpOmE/ZW5jb2RlVVJJQ29tcG9uZW50KG8oYSkpK3IrZW5jb2RlVVJJQ29tcG9uZW50KG8oZSkpOlwiXCJ9O3ZhciBpPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVyblwiW29iamVjdCBBcnJheV1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX0scz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJnQucHVzaChyKTtyZXR1cm4gdH19LHt9XSw1OltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ci5kZWNvZGU9ci5wYXJzZT1lKDMpLHIuZW5jb2RlPXIuc3RyaW5naWZ5PWUoNCl9LHszOjMsNDo0fV0sNjpbZnVuY3Rpb24oZSx0LHIpe2Z1bmN0aW9uIG4oKXtyZXR1cm5cIldlYmtpdEFwcGVhcmFuY2VcImluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZXx8d2luZG93LmNvbnNvbGUmJihjb25zb2xlLmZpcmVidWd8fGNvbnNvbGUuZXhjZXB0aW9uJiZjb25zb2xlLnRhYmxlKXx8bmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9maXJlZm94XFwvKFxcZCspLykmJnBhcnNlSW50KFJlZ0V4cC4kMSwxMCk+PTMxfWZ1bmN0aW9uIG8oKXt2YXIgZT1hcmd1bWVudHMsdD10aGlzLnVzZUNvbG9ycztpZihlWzBdPSh0P1wiJWNcIjpcIlwiKSt0aGlzLm5hbWVzcGFjZSsodD9cIiAlY1wiOlwiIFwiKStlWzBdKyh0P1wiJWMgXCI6XCIgXCIpK1wiK1wiK3IuaHVtYW5pemUodGhpcy5kaWZmKSwhdClyZXR1cm4gZTt2YXIgbj1cImNvbG9yOiBcIit0aGlzLmNvbG9yO2U9W2VbMF0sbixcImNvbG9yOiBpbmhlcml0XCJdLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlLDEpKTt2YXIgbz0wLGk9MDtyZXR1cm4gZVswXS5yZXBsYWNlKC8lW2EteiVdL2csZnVuY3Rpb24oZSl7XCIlJVwiIT09ZSYmKG8rKyxcIiVjXCI9PT1lJiYoaT1vKSl9KSxlLnNwbGljZShpLDAsbiksZX1mdW5jdGlvbiBpKCl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGNvbnNvbGUmJmNvbnNvbGUubG9nJiZGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbChjb25zb2xlLmxvZyxjb25zb2xlLGFyZ3VtZW50cyl9ZnVuY3Rpb24gcyhlKXt0cnl7bnVsbD09ZT9yLnN0b3JhZ2UucmVtb3ZlSXRlbShcImRlYnVnXCIpOnIuc3RvcmFnZS5kZWJ1Zz1lfWNhdGNoKHQpe319ZnVuY3Rpb24gYSgpe3ZhciBlO3RyeXtlPXIuc3RvcmFnZS5kZWJ1Z31jYXRjaCh0KXt9cmV0dXJuIGV9ZnVuY3Rpb24gYygpe3RyeXtyZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZX1jYXRjaChlKXt9fXI9dC5leHBvcnRzPWUoNyksci5sb2c9aSxyLmZvcm1hdEFyZ3M9byxyLnNhdmU9cyxyLmxvYWQ9YSxyLnVzZUNvbG9ycz1uLHIuc3RvcmFnZT1cInVuZGVmaW5lZFwiIT10eXBlb2YgY2hyb21lJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgY2hyb21lLnN0b3JhZ2U/Y2hyb21lLnN0b3JhZ2UubG9jYWw6YygpLHIuY29sb3JzPVtcImxpZ2h0c2VhZ3JlZW5cIixcImZvcmVzdGdyZWVuXCIsXCJnb2xkZW5yb2RcIixcImRvZGdlcmJsdWVcIixcImRhcmtvcmNoaWRcIixcImNyaW1zb25cIl0sci5mb3JtYXR0ZXJzLmo9ZnVuY3Rpb24oZSl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KGUpfSxyLmVuYWJsZShhKCkpfSx7Nzo3fV0sNzpbZnVuY3Rpb24oZSx0LHIpe2Z1bmN0aW9uIG4oKXtyZXR1cm4gci5jb2xvcnNbbCsrJXIuY29sb3JzLmxlbmd0aF19ZnVuY3Rpb24gbyhlKXtmdW5jdGlvbiB0KCl7fWZ1bmN0aW9uIG8oKXt2YXIgZT1vLHQ9K25ldyBEYXRlLGk9dC0odXx8dCk7ZS5kaWZmPWksZS5wcmV2PXUsZS5jdXJyPXQsdT10LG51bGw9PWUudXNlQ29sb3JzJiYoZS51c2VDb2xvcnM9ci51c2VDb2xvcnMoKSksbnVsbD09ZS5jb2xvciYmZS51c2VDb2xvcnMmJihlLmNvbG9yPW4oKSk7dmFyIHM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtzWzBdPXIuY29lcmNlKHNbMF0pLFwic3RyaW5nXCIhPXR5cGVvZiBzWzBdJiYocz1bXCIlb1wiXS5jb25jYXQocykpO3ZhciBhPTA7c1swXT1zWzBdLnJlcGxhY2UoLyUoW2EteiVdKS9nLGZ1bmN0aW9uKHQsbil7aWYoXCIlJVwiPT09dClyZXR1cm4gdDthKys7dmFyIG89ci5mb3JtYXR0ZXJzW25dO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG8pe3ZhciBpPXNbYV07dD1vLmNhbGwoZSxpKSxzLnNwbGljZShhLDEpLGEtLX1yZXR1cm4gdH0pLFwiZnVuY3Rpb25cIj09dHlwZW9mIHIuZm9ybWF0QXJncyYmKHM9ci5mb3JtYXRBcmdzLmFwcGx5KGUscykpO3ZhciBjPW8ubG9nfHxyLmxvZ3x8Y29uc29sZS5sb2cuYmluZChjb25zb2xlKTtjLmFwcGx5KGUscyl9dC5lbmFibGVkPSExLG8uZW5hYmxlZD0hMDt2YXIgaT1yLmVuYWJsZWQoZSk/bzp0O3JldHVybiBpLm5hbWVzcGFjZT1lLGl9ZnVuY3Rpb24gaShlKXtyLnNhdmUoZSk7Zm9yKHZhciB0PShlfHxcIlwiKS5zcGxpdCgvW1xccyxdKy8pLG49dC5sZW5ndGgsbz0wO24+bztvKyspdFtvXSYmKGU9dFtvXS5yZXBsYWNlKC9cXCovZyxcIi4qP1wiKSxcIi1cIj09PWVbMF0/ci5za2lwcy5wdXNoKG5ldyBSZWdFeHAoXCJeXCIrZS5zdWJzdHIoMSkrXCIkXCIpKTpyLm5hbWVzLnB1c2gobmV3IFJlZ0V4cChcIl5cIitlK1wiJFwiKSkpfWZ1bmN0aW9uIHMoKXtyLmVuYWJsZShcIlwiKX1mdW5jdGlvbiBhKGUpe3ZhciB0LG47Zm9yKHQ9MCxuPXIuc2tpcHMubGVuZ3RoO24+dDt0KyspaWYoci5za2lwc1t0XS50ZXN0KGUpKXJldHVybiExO2Zvcih0PTAsbj1yLm5hbWVzLmxlbmd0aDtuPnQ7dCsrKWlmKHIubmFtZXNbdF0udGVzdChlKSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBjKGUpe3JldHVybiBlIGluc3RhbmNlb2YgRXJyb3I/ZS5zdGFja3x8ZS5tZXNzYWdlOmV9cj10LmV4cG9ydHM9byxyLmNvZXJjZT1jLHIuZGlzYWJsZT1zLHIuZW5hYmxlPWksci5lbmFibGVkPWEsci5odW1hbml6ZT1lKDgpLHIubmFtZXM9W10sci5za2lwcz1bXSxyLmZvcm1hdHRlcnM9e307dmFyIHUsbD0wfSx7ODo4fV0sODpbZnVuY3Rpb24oZSx0LHIpe2Z1bmN0aW9uIG4oZSl7aWYoZT1cIlwiK2UsIShlLmxlbmd0aD4xZTQpKXt2YXIgdD0vXigoPzpcXGQrKT9cXC4/XFxkKykgKihtaWxsaXNlY29uZHM/fG1zZWNzP3xtc3xzZWNvbmRzP3xzZWNzP3xzfG1pbnV0ZXM/fG1pbnM/fG18aG91cnM/fGhycz98aHxkYXlzP3xkfHllYXJzP3x5cnM/fHkpPyQvaS5leGVjKGUpO2lmKHQpe3ZhciByPXBhcnNlRmxvYXQodFsxXSksbj0odFsyXXx8XCJtc1wiKS50b0xvd2VyQ2FzZSgpO3N3aXRjaChuKXtjYXNlXCJ5ZWFyc1wiOmNhc2VcInllYXJcIjpjYXNlXCJ5cnNcIjpjYXNlXCJ5clwiOmNhc2VcInlcIjpyZXR1cm4gcipmO2Nhc2VcImRheXNcIjpjYXNlXCJkYXlcIjpjYXNlXCJkXCI6cmV0dXJuIHIqbDtjYXNlXCJob3Vyc1wiOmNhc2VcImhvdXJcIjpjYXNlXCJocnNcIjpjYXNlXCJoclwiOmNhc2VcImhcIjpyZXR1cm4gcip1O2Nhc2VcIm1pbnV0ZXNcIjpjYXNlXCJtaW51dGVcIjpjYXNlXCJtaW5zXCI6Y2FzZVwibWluXCI6Y2FzZVwibVwiOnJldHVybiByKmM7Y2FzZVwic2Vjb25kc1wiOmNhc2VcInNlY29uZFwiOmNhc2VcInNlY3NcIjpjYXNlXCJzZWNcIjpjYXNlXCJzXCI6cmV0dXJuIHIqYTtjYXNlXCJtaWxsaXNlY29uZHNcIjpjYXNlXCJtaWxsaXNlY29uZFwiOmNhc2VcIm1zZWNzXCI6Y2FzZVwibXNlY1wiOmNhc2VcIm1zXCI6cmV0dXJuIHJ9fX19ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZT49bD9NYXRoLnJvdW5kKGUvbCkrXCJkXCI6ZT49dT9NYXRoLnJvdW5kKGUvdSkrXCJoXCI6ZT49Yz9NYXRoLnJvdW5kKGUvYykrXCJtXCI6ZT49YT9NYXRoLnJvdW5kKGUvYSkrXCJzXCI6ZStcIm1zXCJ9ZnVuY3Rpb24gaShlKXtyZXR1cm4gcyhlLGwsXCJkYXlcIil8fHMoZSx1LFwiaG91clwiKXx8cyhlLGMsXCJtaW51dGVcIil8fHMoZSxhLFwic2Vjb25kXCIpfHxlK1wiIG1zXCJ9ZnVuY3Rpb24gcyhlLHQscil7cmV0dXJuIHQ+ZT92b2lkIDA6MS41KnQ+ZT9NYXRoLmZsb29yKGUvdCkrXCIgXCIrcjpNYXRoLmNlaWwoZS90KStcIiBcIityK1wic1wifXZhciBhPTFlMyxjPTYwKmEsdT02MCpjLGw9MjQqdSxmPTM2NS4yNSpsO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiB0PXR8fHt9LFwic3RyaW5nXCI9PXR5cGVvZiBlP24oZSk6dFtcImxvbmdcIl0/aShlKTpvKGUpfX0se31dLDk6W2Z1bmN0aW9uKHQscixuKXsoZnVuY3Rpb24obixvKXsoZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGV8fFwib2JqZWN0XCI9PXR5cGVvZiBlJiZudWxsIT09ZX1mdW5jdGlvbiBzKGUpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGV9ZnVuY3Rpb24gYShlKXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9PWV9ZnVuY3Rpb24gYyhlKXtHPWV9ZnVuY3Rpb24gdShlKXtYPWV9ZnVuY3Rpb24gbCgpe3JldHVybiBmdW5jdGlvbigpe24ubmV4dFRpY2soeSl9fWZ1bmN0aW9uIGYoKXtyZXR1cm4gZnVuY3Rpb24oKXtRKHkpfX1mdW5jdGlvbiBkKCl7dmFyIGU9MCx0PW5ldyBaKHkpLHI9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJcIik7cmV0dXJuIHQub2JzZXJ2ZShyLHtjaGFyYWN0ZXJEYXRhOiEwfSksZnVuY3Rpb24oKXtyLmRhdGE9ZT0rK2UlMn19ZnVuY3Rpb24gaCgpe3ZhciBlPW5ldyBNZXNzYWdlQ2hhbm5lbDtyZXR1cm4gZS5wb3J0MS5vbm1lc3NhZ2U9eSxmdW5jdGlvbigpe2UucG9ydDIucG9zdE1lc3NhZ2UoMCl9fWZ1bmN0aW9uIHAoKXtyZXR1cm4gZnVuY3Rpb24oKXtzZXRUaW1lb3V0KHksMSl9fWZ1bmN0aW9uIHkoKXtmb3IodmFyIGU9MDtXPmU7ZSs9Mil7dmFyIHQ9cmVbZV0scj1yZVtlKzFdO3QocikscmVbZV09dm9pZCAwLHJlW2UrMV09dm9pZCAwfVc9MH1mdW5jdGlvbiBtKCl7dHJ5e3ZhciBlPXQscj1lKFwidmVydHhcIik7cmV0dXJuIFE9ci5ydW5Pbkxvb3B8fHIucnVuT25Db250ZXh0LGYoKX1jYXRjaChuKXtyZXR1cm4gcCgpfX1mdW5jdGlvbiB2KCl7fWZ1bmN0aW9uIGIoKXtyZXR1cm4gbmV3IFR5cGVFcnJvcihcIllvdSBjYW5ub3QgcmVzb2x2ZSBhIHByb21pc2Ugd2l0aCBpdHNlbGZcIil9ZnVuY3Rpb24gZygpe3JldHVybiBuZXcgVHlwZUVycm9yKFwiQSBwcm9taXNlcyBjYWxsYmFjayBjYW5ub3QgcmV0dXJuIHRoYXQgc2FtZSBwcm9taXNlLlwiKX1mdW5jdGlvbiB3KGUpe3RyeXtyZXR1cm4gZS50aGVufWNhdGNoKHQpe3JldHVybiBzZS5lcnJvcj10LHNlfX1mdW5jdGlvbiB4KGUsdCxyLG4pe3RyeXtlLmNhbGwodCxyLG4pfWNhdGNoKG8pe3JldHVybiBvfX1mdW5jdGlvbiBfKGUsdCxyKXtYKGZ1bmN0aW9uKGUpe3ZhciBuPSExLG89eChyLHQsZnVuY3Rpb24ocil7bnx8KG49ITAsdCE9PXI/QShlLHIpOmsoZSxyKSl9LGZ1bmN0aW9uKHQpe258fChuPSEwLFMoZSx0KSl9LFwiU2V0dGxlOiBcIisoZS5fbGFiZWx8fFwiIHVua25vd24gcHJvbWlzZVwiKSk7IW4mJm8mJihuPSEwLFMoZSxvKSl9LGUpfWZ1bmN0aW9uIGooZSx0KXt0Ll9zdGF0ZT09PW9lP2soZSx0Ll9yZXN1bHQpOnQuX3N0YXRlPT09aWU/UyhlLHQuX3Jlc3VsdCk6VSh0LHZvaWQgMCxmdW5jdGlvbih0KXtBKGUsdCl9LGZ1bmN0aW9uKHQpe1MoZSx0KX0pfWZ1bmN0aW9uIFQoZSx0KXtpZih0LmNvbnN0cnVjdG9yPT09ZS5jb25zdHJ1Y3RvcilqKGUsdCk7ZWxzZXt2YXIgcj13KHQpO3I9PT1zZT9TKGUsc2UuZXJyb3IpOnZvaWQgMD09PXI/ayhlLHQpOnMocik/XyhlLHQscik6ayhlLHQpfX1mdW5jdGlvbiBBKGUsdCl7ZT09PXQ/UyhlLGIoKSk6aSh0KT9UKGUsdCk6ayhlLHQpfWZ1bmN0aW9uIE8oZSl7ZS5fb25lcnJvciYmZS5fb25lcnJvcihlLl9yZXN1bHQpLEkoZSl9ZnVuY3Rpb24gayhlLHQpe2UuX3N0YXRlPT09bmUmJihlLl9yZXN1bHQ9dCxlLl9zdGF0ZT1vZSwwIT09ZS5fc3Vic2NyaWJlcnMubGVuZ3RoJiZYKEksZSkpfWZ1bmN0aW9uIFMoZSx0KXtlLl9zdGF0ZT09PW5lJiYoZS5fc3RhdGU9aWUsZS5fcmVzdWx0PXQsWChPLGUpKX1mdW5jdGlvbiBVKGUsdCxyLG4pe3ZhciBvPWUuX3N1YnNjcmliZXJzLGk9by5sZW5ndGg7ZS5fb25lcnJvcj1udWxsLG9baV09dCxvW2krb2VdPXIsb1tpK2llXT1uLDA9PT1pJiZlLl9zdGF0ZSYmWChJLGUpfWZ1bmN0aW9uIEkoZSl7dmFyIHQ9ZS5fc3Vic2NyaWJlcnMscj1lLl9zdGF0ZTtpZigwIT09dC5sZW5ndGgpe2Zvcih2YXIgbixvLGk9ZS5fcmVzdWx0LHM9MDtzPHQubGVuZ3RoO3MrPTMpbj10W3NdLG89dFtzK3JdLG4/RShyLG4sbyxpKTpvKGkpO2UuX3N1YnNjcmliZXJzLmxlbmd0aD0wfX1mdW5jdGlvbiBSKCl7dGhpcy5lcnJvcj1udWxsfWZ1bmN0aW9uIFAoZSx0KXt0cnl7cmV0dXJuIGUodCl9Y2F0Y2gocil7cmV0dXJuIGFlLmVycm9yPXIsYWV9fWZ1bmN0aW9uIEUoZSx0LHIsbil7dmFyIG8saSxhLGMsdT1zKHIpO2lmKHUpe2lmKG89UChyLG4pLG89PT1hZT8oYz0hMCxpPW8uZXJyb3Isbz1udWxsKTphPSEwLHQ9PT1vKXJldHVybiB2b2lkIFModCxnKCkpfWVsc2Ugbz1uLGE9ITA7dC5fc3RhdGUhPT1uZXx8KHUmJmE/QSh0LG8pOmM/Uyh0LGkpOmU9PT1vZT9rKHQsbyk6ZT09PWllJiZTKHQsbykpfWZ1bmN0aW9uIHEoZSx0KXt0cnl7dChmdW5jdGlvbih0KXtBKGUsdCl9LGZ1bmN0aW9uKHQpe1MoZSx0KX0pfWNhdGNoKHIpe1MoZSxyKX19ZnVuY3Rpb24gQyhlLHQpe3ZhciByPXRoaXM7ci5faW5zdGFuY2VDb25zdHJ1Y3Rvcj1lLHIucHJvbWlzZT1uZXcgZSh2KSxyLl92YWxpZGF0ZUlucHV0KHQpPyhyLl9pbnB1dD10LHIubGVuZ3RoPXQubGVuZ3RoLHIuX3JlbWFpbmluZz10Lmxlbmd0aCxyLl9pbml0KCksMD09PXIubGVuZ3RoP2soci5wcm9taXNlLHIuX3Jlc3VsdCk6KHIubGVuZ3RoPXIubGVuZ3RofHwwLHIuX2VudW1lcmF0ZSgpLDA9PT1yLl9yZW1haW5pbmcmJmsoci5wcm9taXNlLHIuX3Jlc3VsdCkpKTpTKHIucHJvbWlzZSxyLl92YWxpZGF0aW9uRXJyb3IoKSl9ZnVuY3Rpb24gTihlKXtyZXR1cm4gbmV3IGNlKHRoaXMsZSkucHJvbWlzZX1mdW5jdGlvbiBMKGUpe2Z1bmN0aW9uIHQoZSl7QShvLGUpfWZ1bmN0aW9uIHIoZSl7UyhvLGUpfXZhciBuPXRoaXMsbz1uZXcgbih2KTtpZighVihlKSlyZXR1cm4gUyhvLG5ldyBUeXBlRXJyb3IoXCJZb3UgbXVzdCBwYXNzIGFuIGFycmF5IHRvIHJhY2UuXCIpKSxvO2Zvcih2YXIgaT1lLmxlbmd0aCxzPTA7by5fc3RhdGU9PT1uZSYmaT5zO3MrKylVKG4ucmVzb2x2ZShlW3NdKSx2b2lkIDAsdCxyKTtyZXR1cm4gb31mdW5jdGlvbiBEKGUpe3ZhciB0PXRoaXM7aWYoZSYmXCJvYmplY3RcIj09dHlwZW9mIGUmJmUuY29uc3RydWN0b3I9PT10KXJldHVybiBlO3ZhciByPW5ldyB0KHYpO3JldHVybiBBKHIsZSkscn1mdW5jdGlvbiBNKGUpe3ZhciB0PXRoaXMscj1uZXcgdCh2KTtyZXR1cm4gUyhyLGUpLHJ9ZnVuY3Rpb24gSCgpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJZb3UgbXVzdCBwYXNzIGEgcmVzb2x2ZXIgZnVuY3Rpb24gYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIHRoZSBwcm9taXNlIGNvbnN0cnVjdG9yXCIpfWZ1bmN0aW9uIEooKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGNvbnN0cnVjdCAnUHJvbWlzZSc6IFBsZWFzZSB1c2UgdGhlICduZXcnIG9wZXJhdG9yLCB0aGlzIG9iamVjdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uXCIpfWZ1bmN0aW9uIEsoZSl7dGhpcy5faWQ9aGUrKyx0aGlzLl9zdGF0ZT12b2lkIDAsdGhpcy5fcmVzdWx0PXZvaWQgMCx0aGlzLl9zdWJzY3JpYmVycz1bXSx2IT09ZSYmKHMoZSl8fEgoKSx0aGlzIGluc3RhbmNlb2YgS3x8SigpLHEodGhpcyxlKSl9ZnVuY3Rpb24gQigpe3ZhciBlO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBvKWU9bztlbHNlIGlmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmKWU9c2VsZjtlbHNlIHRyeXtlPUZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKX1jYXRjaCh0KXt0aHJvdyBuZXcgRXJyb3IoXCJwb2x5ZmlsbCBmYWlsZWQgYmVjYXVzZSBnbG9iYWwgb2JqZWN0IGlzIHVuYXZhaWxhYmxlIGluIHRoaXMgZW52aXJvbm1lbnRcIil9dmFyIHI9ZS5Qcm9taXNlOyghcnx8XCJbb2JqZWN0IFByb21pc2VdXCIhPT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoci5yZXNvbHZlKCkpfHxyLmNhc3QpJiYoZS5Qcm9taXNlPXBlKX12YXIgRjtGPUFycmF5LmlzQXJyYXk/QXJyYXkuaXNBcnJheTpmdW5jdGlvbihlKXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl9O3ZhciBRLEcsJCxWPUYsVz0wLFg9KHt9LnRvU3RyaW5nLGZ1bmN0aW9uKGUsdCl7cmVbV109ZSxyZVtXKzFdPXQsVys9MiwyPT09VyYmKEc/Ryh5KTokKCkpfSksWT1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp2b2lkIDAsej1ZfHx7fSxaPXouTXV0YXRpb25PYnNlcnZlcnx8ei5XZWJLaXRNdXRhdGlvbk9ic2VydmVyLGVlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBuJiZcIltvYmplY3QgcHJvY2Vzc11cIj09PXt9LnRvU3RyaW5nLmNhbGwobiksdGU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQ4Q2xhbXBlZEFycmF5JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgaW1wb3J0U2NyaXB0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIE1lc3NhZ2VDaGFubmVsLHJlPW5ldyBBcnJheSgxZTMpOyQ9ZWU/bCgpOlo/ZCgpOnRlP2goKTp2b2lkIDA9PT1ZJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0P20oKTpwKCk7dmFyIG5lPXZvaWQgMCxvZT0xLGllPTIsc2U9bmV3IFIsYWU9bmV3IFI7Qy5wcm90b3R5cGUuX3ZhbGlkYXRlSW5wdXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIFYoZSl9LEMucHJvdG90eXBlLl92YWxpZGF0aW9uRXJyb3I9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEVycm9yKFwiQXJyYXkgTWV0aG9kcyBtdXN0IGJlIHByb3ZpZGVkIGFuIEFycmF5XCIpfSxDLnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbigpe3RoaXMuX3Jlc3VsdD1uZXcgQXJyYXkodGhpcy5sZW5ndGgpfTt2YXIgY2U9QztDLnByb3RvdHlwZS5fZW51bWVyYXRlPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMsdD1lLmxlbmd0aCxyPWUucHJvbWlzZSxuPWUuX2lucHV0LG89MDtyLl9zdGF0ZT09PW5lJiZ0Pm87bysrKWUuX2VhY2hFbnRyeShuW29dLG8pfSxDLnByb3RvdHlwZS5fZWFjaEVudHJ5PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXIuX2luc3RhbmNlQ29uc3RydWN0b3I7YShlKT9lLmNvbnN0cnVjdG9yPT09biYmZS5fc3RhdGUhPT1uZT8oZS5fb25lcnJvcj1udWxsLHIuX3NldHRsZWRBdChlLl9zdGF0ZSx0LGUuX3Jlc3VsdCkpOnIuX3dpbGxTZXR0bGVBdChuLnJlc29sdmUoZSksdCk6KHIuX3JlbWFpbmluZy0tLHIuX3Jlc3VsdFt0XT1lKX0sQy5wcm90b3R5cGUuX3NldHRsZWRBdD1mdW5jdGlvbihlLHQscil7dmFyIG49dGhpcyxvPW4ucHJvbWlzZTtvLl9zdGF0ZT09PW5lJiYobi5fcmVtYWluaW5nLS0sZT09PWllP1MobyxyKTpuLl9yZXN1bHRbdF09ciksMD09PW4uX3JlbWFpbmluZyYmayhvLG4uX3Jlc3VsdCl9LEMucHJvdG90eXBlLl93aWxsU2V0dGxlQXQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO1UoZSx2b2lkIDAsZnVuY3Rpb24oZSl7ci5fc2V0dGxlZEF0KG9lLHQsZSl9LGZ1bmN0aW9uKGUpe3IuX3NldHRsZWRBdChpZSx0LGUpfSl9O3ZhciB1ZT1OLGxlPUwsZmU9RCxkZT1NLGhlPTAscGU9SztLLmFsbD11ZSxLLnJhY2U9bGUsSy5yZXNvbHZlPWZlLEsucmVqZWN0PWRlLEsuX3NldFNjaGVkdWxlcj1jLEsuX3NldEFzYXA9dSxLLl9hc2FwPVgsSy5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOkssdGhlbjpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj1yLl9zdGF0ZTtpZihuPT09b2UmJiFlfHxuPT09aWUmJiF0KXJldHVybiB0aGlzO3ZhciBvPW5ldyB0aGlzLmNvbnN0cnVjdG9yKHYpLGk9ci5fcmVzdWx0O2lmKG4pe3ZhciBzPWFyZ3VtZW50c1tuLTFdO1goZnVuY3Rpb24oKXtFKG4sbyxzLGkpfSl9ZWxzZSBVKHIsbyxlLHQpO3JldHVybiBvfSxcImNhdGNoXCI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudGhlbihudWxsLGUpfX07dmFyIHllPUIsbWU9e1Byb21pc2U6cGUscG9seWZpbGw6eWV9O1wiZnVuY3Rpb25cIj09dHlwZW9mIGUmJmUuYW1kP2UoZnVuY3Rpb24oKXtyZXR1cm4gbWV9KTpcInVuZGVmaW5lZFwiIT10eXBlb2YgciYmci5leHBvcnRzP3IuZXhwb3J0cz1tZTpcInVuZGVmaW5lZFwiIT10eXBlb2YgdGhpcyYmKHRoaXMuRVM2UHJvbWlzZT1tZSkseWUoKX0pLmNhbGwodGhpcyl9KS5jYWxsKHRoaXMsdCgyKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0sezI6Mn1dLDEwOltmdW5jdGlvbihlLHQscil7XCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LmNyZWF0ZT90LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtlLnN1cGVyXz10LGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pfTp0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtlLnN1cGVyXz10O3ZhciByPWZ1bmN0aW9uKCl7fTtyLnByb3RvdHlwZT10LnByb3RvdHlwZSxlLnByb3RvdHlwZT1uZXcgcixlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lfX0se31dLDExOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgxNCksbz1lKDE4KSxpPWUoMzApLHM9aShuLG8pO3QuZXhwb3J0cz1zfSx7MTQ6MTQsMTg6MTgsMzA6MzB9XSwxMjpbZnVuY3Rpb24oZSx0LHIpe2Z1bmN0aW9uIG4oZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3Iobyk7cmV0dXJuIHQ9aSh2b2lkIDA9PT10P2UubGVuZ3RoLTE6K3R8fDAsMCksZnVuY3Rpb24oKXtmb3IodmFyIHI9YXJndW1lbnRzLG49LTEsbz1pKHIubGVuZ3RoLXQsMCkscz1BcnJheShvKTsrK248bzspc1tuXT1yW3Qrbl07c3dpdGNoKHQpe2Nhc2UgMDpyZXR1cm4gZS5jYWxsKHRoaXMscyk7Y2FzZSAxOnJldHVybiBlLmNhbGwodGhpcyxyWzBdLHMpO2Nhc2UgMjpyZXR1cm4gZS5jYWxsKHRoaXMsclswXSxyWzFdLHMpfXZhciBhPUFycmF5KHQrMSk7Zm9yKG49LTE7KytuPHQ7KWFbbl09cltuXTtyZXR1cm4gYVt0XT1zLGUuYXBwbHkodGhpcyxhKX19dmFyIG89XCJFeHBlY3RlZCBhIGZ1bmN0aW9uXCIsaT1NYXRoLm1heDt0LmV4cG9ydHM9bn0se31dLDEzOltmdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gbihlLHQpe3ZhciByPS0xLG49ZS5sZW5ndGg7Zm9yKHR8fCh0PUFycmF5KG4pKTsrK3I8bjspdFtyXT1lW3JdO3JldHVybiB0fXQuZXhwb3J0cz1ufSx7fV0sMTQ6W2Z1bmN0aW9uKGUsdCxyKXtmdW5jdGlvbiBuKGUsdCl7Zm9yKHZhciByPS0xLG49ZS5sZW5ndGg7KytyPG4mJnQoZVtyXSxyLGUpIT09ITE7KTtyZXR1cm4gZX10LmV4cG9ydHM9bn0se31dLDE1OltmdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gbihlLHQpe3JldHVybiBudWxsPT10P2U6byh0LGkodCksZSl9dmFyIG89ZSgxNyksaT1lKDUzKTt0LmV4cG9ydHM9bn0sezE3OjE3LDUzOjUzfV0sMTY6W2Z1bmN0aW9uKGUsdCxyKXtmdW5jdGlvbiBuKGUsdCxyLHAseSxtLHYpe3ZhciBnO2lmKHImJihnPXk/cihlLHAseSk6cihlKSksdm9pZCAwIT09ZylyZXR1cm4gZztpZighZChlKSlyZXR1cm4gZTt2YXIgdz1mKGUpO2lmKHcpe2lmKGc9YyhlKSwhdClyZXR1cm4gbyhlLGcpfWVsc2V7dmFyIF89RC5jYWxsKGUpLGo9Xz09YjtpZihfIT14JiZfIT1oJiYoIWp8fHkpKXJldHVybiBOW19dP3UoZSxfLHQpOnk/ZTp7fTtpZihnPWwoaj97fTplKSwhdClyZXR1cm4gcyhnLGUpfW18fChtPVtdKSx2fHwodj1bXSk7Zm9yKHZhciBUPW0ubGVuZ3RoO1QtLTspaWYobVtUXT09ZSlyZXR1cm4gdltUXTtyZXR1cm4gbS5wdXNoKGUpLHYucHVzaChnKSwodz9pOmEpKGUsZnVuY3Rpb24obyxpKXtnW2ldPW4obyx0LHIsaSxlLG0sdil9KSxnfXZhciBvPWUoMTMpLGk9ZSgxNCkscz1lKDE1KSxhPWUoMjEpLGM9ZSgzMyksdT1lKDM0KSxsPWUoMzUpLGY9ZSg0NiksZD1lKDQ5KSxoPVwiW29iamVjdCBBcmd1bWVudHNdXCIscD1cIltvYmplY3QgQXJyYXldXCIseT1cIltvYmplY3QgQm9vbGVhbl1cIixtPVwiW29iamVjdCBEYXRlXVwiLHY9XCJbb2JqZWN0IEVycm9yXVwiLGI9XCJbb2JqZWN0IEZ1bmN0aW9uXVwiLGc9XCJbb2JqZWN0IE1hcF1cIix3PVwiW29iamVjdCBOdW1iZXJdXCIseD1cIltvYmplY3QgT2JqZWN0XVwiLF89XCJbb2JqZWN0IFJlZ0V4cF1cIixqPVwiW29iamVjdCBTZXRdXCIsVD1cIltvYmplY3QgU3RyaW5nXVwiLEE9XCJbb2JqZWN0IFdlYWtNYXBdXCIsTz1cIltvYmplY3QgQXJyYXlCdWZmZXJdXCIsaz1cIltvYmplY3QgRmxvYXQzMkFycmF5XVwiLFM9XCJbb2JqZWN0IEZsb2F0NjRBcnJheV1cIixVPVwiW29iamVjdCBJbnQ4QXJyYXldXCIsST1cIltvYmplY3QgSW50MTZBcnJheV1cIixSPVwiW29iamVjdCBJbnQzMkFycmF5XVwiLFA9XCJbb2JqZWN0IFVpbnQ4QXJyYXldXCIsRT1cIltvYmplY3QgVWludDhDbGFtcGVkQXJyYXldXCIscT1cIltvYmplY3QgVWludDE2QXJyYXldXCIsQz1cIltvYmplY3QgVWludDMyQXJyYXldXCIsTj17fTtOW2hdPU5bcF09TltPXT1OW3ldPU5bbV09TltrXT1OW1NdPU5bVV09TltJXT1OW1JdPU5bd109Tlt4XT1OW19dPU5bVF09TltQXT1OW0VdPU5bcV09TltDXT0hMCxOW3ZdPU5bYl09TltnXT1OW2pdPU5bQV09ITE7dmFyIEw9T2JqZWN0LnByb3RvdHlwZSxEPUwudG9TdHJpbmc7dC5leHBvcnRzPW59LHsxMzoxMywxNDoxNCwxNToxNSwyMToyMSwzMzozMywzNDozNCwzNTozNSw0Njo0Niw0OTo0OX1dLDE3OltmdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gbihlLHQscil7cnx8KHI9e30pO2Zvcih2YXIgbj0tMSxvPXQubGVuZ3RoOysrbjxvOyl7dmFyIGk9dFtuXTtyW2ldPWVbaV19cmV0dXJuIHJ9dC5leHBvcnRzPW59LHt9XSwxODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoMjEpLG89ZSgyOCksaT1vKG4pO3QuZXhwb3J0cz1pfSx7MjE6MjEsMjg6Mjh9XSwxOTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoMjkpLG89bigpO3QuZXhwb3J0cz1vfSx7Mjk6Mjl9XSwyMDpbZnVuY3Rpb24oZSx0LHIpe2Z1bmN0aW9uIG4oZSx0KXtyZXR1cm4gbyhlLHQsaSl9dmFyIG89ZSgxOSksaT1lKDU0KTt0LmV4cG9ydHM9bn0sezE5OjE5LDU0OjU0fV0sMjE6W2Z1bmN0aW9uKGUsdCxyKXtmdW5jdGlvbiBuKGUsdCl7cmV0dXJuIG8oZSx0LGkpfXZhciBvPWUoMTkpLGk9ZSg1Myk7dC5leHBvcnRzPW59LHsxOToxOSw1Mzo1M31dLDIyOltmdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gbihlLHQscixkLGgpe2lmKCFjKGUpKXJldHVybiBlO3ZhciBwPWEodCkmJihzKHQpfHxsKHQpKSx5PXA/dm9pZCAwOmYodCk7cmV0dXJuIG8oeXx8dCxmdW5jdGlvbihvLHMpe2lmKHkmJihzPW8sbz10W3NdKSx1KG8pKWR8fChkPVtdKSxofHwoaD1bXSksaShlLHQscyxuLHIsZCxoKTtlbHNle3ZhciBhPWVbc10sYz1yP3IoYSxvLHMsZSx0KTp2b2lkIDAsbD12b2lkIDA9PT1jO2wmJihjPW8pLHZvaWQgMD09PWMmJighcHx8cyBpbiBlKXx8IWwmJihjPT09Yz9jPT09YTphIT09YSl8fChlW3NdPWMpfX0pLGV9dmFyIG89ZSgxNCksaT1lKDIzKSxzPWUoNDYpLGE9ZSgzNiksYz1lKDQ5KSx1PWUoNDApLGw9ZSg1MSksZj1lKDUzKTt0LmV4cG9ydHM9bn0sezE0OjE0LDIzOjIzLDM2OjM2LDQwOjQwLDQ2OjQ2LDQ5OjQ5LDUxOjUxLDUzOjUzfV0sMjM6W2Z1bmN0aW9uKGUsdCxyKXtmdW5jdGlvbiBuKGUsdCxyLG4sZixkLGgpe2Zvcih2YXIgcD1kLmxlbmd0aCx5PXRbcl07cC0tOylpZihkW3BdPT15KXJldHVybiB2b2lkKGVbcl09aFtwXSk7dmFyIG09ZVtyXSx2PWY/ZihtLHkscixlLHQpOnZvaWQgMCxiPXZvaWQgMD09PXY7YiYmKHY9eSxhKHkpJiYocyh5KXx8dSh5KSk/dj1zKG0pP206YShtKT9vKG0pOltdOmMoeSl8fGkoeSk/dj1pKG0pP2wobSk6YyhtKT9tOnt9OmI9ITEpLGQucHVzaCh5KSxoLnB1c2godiksYj9lW3JdPW4odix5LGYsZCxoKToodj09PXY/diE9PW06bT09PW0pJiYoZVtyXT12KX12YXIgbz1lKDEzKSxpPWUoNDUpLHM9ZSg0NiksYT1lKDM2KSxjPWUoNTApLHU9ZSg1MSksbD1lKDUyKTt0LmV4cG9ydHM9bn0sezEzOjEzLDM2OjM2LDQ1OjQ1LDQ2OjQ2LDUwOjUwLDUxOjUxLDUyOjUyfV0sMjQ6W2Z1bmN0aW9uKGUsdCxyKXtmdW5jdGlvbiBuKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09dD92b2lkIDA6dFtlXX19dC5leHBvcnRzPW59LHt9XSwyNTpbZnVuY3Rpb24oZSx0LHIpe2Z1bmN0aW9uIG4oZSx0LHIpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpcmV0dXJuIG87aWYodm9pZCAwPT09dClyZXR1cm4gZTtzd2l0Y2gocil7Y2FzZSAxOnJldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gZS5jYWxsKHQscil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixuLG8pe3JldHVybiBlLmNhbGwodCxyLG4sbyl9O2Nhc2UgNDpyZXR1cm4gZnVuY3Rpb24ocixuLG8saSl7cmV0dXJuIGUuY2FsbCh0LHIsbixvLGkpfTtjYXNlIDU6cmV0dXJuIGZ1bmN0aW9uKHIsbixvLGkscyl7cmV0dXJuIGUuY2FsbCh0LHIsbixvLGkscyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19dmFyIG89ZSg1Nik7dC5leHBvcnRzPW59LHs1Njo1Nn1dLDI2OltmdW5jdGlvbihlLHQscil7KGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHIoZSl7dmFyIHQ9bmV3IG4oZS5ieXRlTGVuZ3RoKSxyPW5ldyBvKHQpO3JldHVybiByLnNldChuZXcgbyhlKSksdH12YXIgbj1lLkFycmF5QnVmZmVyLG89ZS5VaW50OEFycmF5O3QuZXhwb3J0cz1yfSkuY2FsbCh0aGlzLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7fV0sMjc6W2Z1bmN0aW9uKGUsdCxyKXtmdW5jdGlvbiBuKGUpe3JldHVybiBzKGZ1bmN0aW9uKHQscil7dmFyIG49LTEscz1udWxsPT10PzA6ci5sZW5ndGgsYT1zPjI/cltzLTJdOnZvaWQgMCxjPXM+Mj9yWzJdOnZvaWQgMCx1PXM+MT9yW3MtMV06dm9pZCAwO2ZvcihcImZ1bmN0aW9uXCI9PXR5cGVvZiBhPyhhPW8oYSx1LDUpLHMtPTIpOihhPVwiZnVuY3Rpb25cIj09dHlwZW9mIHU/dTp2b2lkIDAscy09YT8xOjApLGMmJmkoclswXSxyWzFdLGMpJiYoYT0zPnM/dm9pZCAwOmEscz0xKTsrK248czspe3ZhciBsPXJbbl07bCYmZSh0LGwsYSl9cmV0dXJuIHR9KX12YXIgbz1lKDI1KSxpPWUoMzgpLHM9ZSgxMik7dC5leHBvcnRzPW59LHsxMjoxMiwyNToyNSwzODozOH1dLDI4OltmdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gbihlLHQpe3JldHVybiBmdW5jdGlvbihyLG4pe3ZhciBhPXI/byhyKTowO2lmKCFpKGEpKXJldHVybiBlKHIsbik7Zm9yKHZhciBjPXQ/YTotMSx1PXMocik7KHQ/Yy0tOisrYzxhKSYmbih1W2NdLGMsdSkhPT0hMTspO3JldHVybiByfX12YXIgbz1lKDMxKSxpPWUoMzkpLHM9ZSg0Mik7dC5leHBvcnRzPW59LHszMTozMSwzOTozOSw0Mjo0Mn1dLDI5OltmdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyLG4pe2Zvcih2YXIgaT1vKHQpLHM9bih0KSxhPXMubGVuZ3RoLGM9ZT9hOi0xO2U/Yy0tOisrYzxhOyl7dmFyIHU9c1tjXTtpZihyKGlbdV0sdSxpKT09PSExKWJyZWFrfXJldHVybiB0fX12YXIgbz1lKDQyKTt0LmV4cG9ydHM9bn0sezQyOjQyfV0sMzA6W2Z1bmN0aW9uKGUsdCxyKXtmdW5jdGlvbiBuKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKHIsbixzKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiZ2b2lkIDA9PT1zJiZpKHIpP2UocixuKTp0KHIsbyhuLHMsMykpfX12YXIgbz1lKDI1KSxpPWUoNDYpO3QuZXhwb3J0cz1ufSx7MjU6MjUsNDY6NDZ9XSwzMTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoMjQpLG89bihcImxlbmd0aFwiKTt0LmV4cG9ydHM9b30sezI0OjI0fV0sMzI6W2Z1bmN0aW9uKGUsdCxyKXtmdW5jdGlvbiBuKGUsdCl7dmFyIHI9bnVsbD09ZT92b2lkIDA6ZVt0XTtyZXR1cm4gbyhyKT9yOnZvaWQgMH12YXIgbz1lKDQ4KTt0LmV4cG9ydHM9bn0sezQ4OjQ4fV0sMzM6W2Z1bmN0aW9uKGUsdCxyKXtmdW5jdGlvbiBuKGUpe3ZhciB0PWUubGVuZ3RoLHI9bmV3IGUuY29uc3RydWN0b3IodCk7cmV0dXJuIHQmJlwic3RyaW5nXCI9PXR5cGVvZiBlWzBdJiZpLmNhbGwoZSxcImluZGV4XCIpJiYoci5pbmRleD1lLmluZGV4LHIuaW5wdXQ9ZS5pbnB1dCkscn12YXIgbz1PYmplY3QucHJvdG90eXBlLGk9by5oYXNPd25Qcm9wZXJ0eTt0LmV4cG9ydHM9bn0se31dLDM0OltmdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gbihlLHQscil7dmFyIG49ZS5jb25zdHJ1Y3Rvcjtzd2l0Y2godCl7Y2FzZSBsOnJldHVybiBvKGUpO2Nhc2UgaTpjYXNlIHM6cmV0dXJuIG5ldyBuKCtlKTtjYXNlIGY6Y2FzZSBkOmNhc2UgaDpjYXNlIHA6Y2FzZSB5OmNhc2UgbTpjYXNlIHY6Y2FzZSBiOmNhc2UgZzp2YXIgeD1lLmJ1ZmZlcjtyZXR1cm4gbmV3IG4ocj9vKHgpOngsZS5ieXRlT2Zmc2V0LGUubGVuZ3RoKTtjYXNlIGE6Y2FzZSB1OnJldHVybiBuZXcgbihlKTtjYXNlIGM6dmFyIF89bmV3IG4oZS5zb3VyY2Usdy5leGVjKGUpKTtfLmxhc3RJbmRleD1lLmxhc3RJbmRleH1yZXR1cm4gX312YXIgbz1lKDI2KSxpPVwiW29iamVjdCBCb29sZWFuXVwiLHM9XCJbb2JqZWN0IERhdGVdXCIsYT1cIltvYmplY3QgTnVtYmVyXVwiLGM9XCJbb2JqZWN0IFJlZ0V4cF1cIix1PVwiW29iamVjdCBTdHJpbmddXCIsbD1cIltvYmplY3QgQXJyYXlCdWZmZXJdXCIsZj1cIltvYmplY3QgRmxvYXQzMkFycmF5XVwiLGQ9XCJbb2JqZWN0IEZsb2F0NjRBcnJheV1cIixoPVwiW29iamVjdCBJbnQ4QXJyYXldXCIscD1cIltvYmplY3QgSW50MTZBcnJheV1cIix5PVwiW29iamVjdCBJbnQzMkFycmF5XVwiLG09XCJbb2JqZWN0IFVpbnQ4QXJyYXldXCIsdj1cIltvYmplY3QgVWludDhDbGFtcGVkQXJyYXldXCIsYj1cIltvYmplY3QgVWludDE2QXJyYXldXCIsZz1cIltvYmplY3QgVWludDMyQXJyYXldXCIsdz0vXFx3KiQvO3QuZXhwb3J0cz1ufSx7MjY6MjZ9XSwzNTpbZnVuY3Rpb24oZSx0LHIpe2Z1bmN0aW9uIG4oZSl7dmFyIHQ9ZS5jb25zdHJ1Y3RvcjtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiZ0IGluc3RhbmNlb2YgdHx8KHQ9T2JqZWN0KSxuZXcgdH10LmV4cG9ydHM9bn0se31dLDM2OltmdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gbihlKXtyZXR1cm4gbnVsbCE9ZSYmaShvKGUpKX12YXIgbz1lKDMxKSxpPWUoMzkpO3QuZXhwb3J0cz1ufSx7MzE6MzEsMzk6Mzl9XSwzNzpbZnVuY3Rpb24oZSx0LHIpe2Z1bmN0aW9uIG4oZSx0KXtyZXR1cm4gZT1cIm51bWJlclwiPT10eXBlb2YgZXx8by50ZXN0KGUpPytlOi0xLHQ9bnVsbD09dD9pOnQsZT4tMSYmZSUxPT0wJiZ0PmV9dmFyIG89L15cXGQrJC8saT05MDA3MTk5MjU0NzQwOTkxO3QuZXhwb3J0cz1ufSx7fV0sMzg6W2Z1bmN0aW9uKGUsdCxyKXtmdW5jdGlvbiBuKGUsdCxyKXtpZighcyhyKSlyZXR1cm4hMTt2YXIgbj10eXBlb2YgdDtpZihcIm51bWJlclwiPT1uP28ocikmJmkodCxyLmxlbmd0aCk6XCJzdHJpbmdcIj09biYmdCBpbiByKXt2YXIgYT1yW3RdO3JldHVybiBlPT09ZT9lPT09YTphIT09YX1yZXR1cm4hMX12YXIgbz1lKDM2KSxpPWUoMzcpLHM9ZSg0OSk7dC5leHBvcnRzPW59LHszNjozNiwzNzozNyw0OTo0OX1dLDM5OltmdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gbihlKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZSYmZT4tMSYmZSUxPT0wJiZvPj1lfXZhciBvPTkwMDcxOTkyNTQ3NDA5OTE7dC5leHBvcnRzPW59LHt9XSw0MDpbZnVuY3Rpb24oZSx0LHIpe2Z1bmN0aW9uIG4oZSl7cmV0dXJuISFlJiZcIm9iamVjdFwiPT10eXBlb2YgZX10LmV4cG9ydHM9bn0se31dLDQxOltmdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gbihlKXtmb3IodmFyIHQ9YyhlKSxyPXQubGVuZ3RoLG49ciYmZS5sZW5ndGgsdT0hIW4mJmEobikmJihpKGUpfHxvKGUpKSxmPS0xLGQ9W107KytmPHI7KXt2YXIgaD10W2ZdOyh1JiZzKGgsbil8fGwuY2FsbChlLGgpKSYmZC5wdXNoKGgpfXJldHVybiBkfXZhciBvPWUoNDUpLGk9ZSg0Nikscz1lKDM3KSxhPWUoMzkpLGM9ZSg1NCksdT1PYmplY3QucHJvdG90eXBlLGw9dS5oYXNPd25Qcm9wZXJ0eTt0LmV4cG9ydHM9bn0sezM3OjM3LDM5OjM5LDQ1OjQ1LDQ2OjQ2LDU0OjU0fV0sNDI6W2Z1bmN0aW9uKGUsdCxyKXtmdW5jdGlvbiBuKGUpe3JldHVybiBvKGUpP2U6T2JqZWN0KGUpfXZhciBvPWUoNDkpO3QuZXhwb3J0cz1ufSx7NDk6NDl9XSw0MzpbZnVuY3Rpb24oZSx0LHIpe2Z1bmN0aW9uIG4oZSx0LHIsbil7cmV0dXJuIHQmJlwiYm9vbGVhblwiIT10eXBlb2YgdCYmcyhlLHQscik/dD0hMTpcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiYobj1yLHI9dCx0PSExKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiByP28oZSx0LGkocixuLDMpKTpvKGUsdCl9dmFyIG89ZSgxNiksaT1lKDI1KSxzPWUoMzgpO3QuZXhwb3J0cz1ufSx7MTY6MTYsMjU6MjUsMzg6Mzh9XSw0NDpbZnVuY3Rpb24oZSx0LHIpe2Z1bmN0aW9uIG4oZSx0LHIpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/byhlLCEwLGkodCxyLDMpKTpvKGUsITApfXZhciBvPWUoMTYpLGk9ZSgyNSk7dC5leHBvcnRzPW59LHsxNjoxNiwyNToyNX1dLDQ1OltmdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gbihlKXtyZXR1cm4gaShlKSYmbyhlKSYmYS5jYWxsKGUsXCJjYWxsZWVcIikmJiFjLmNhbGwoZSxcImNhbGxlZVwiKX12YXIgbz1lKDM2KSxpPWUoNDApLHM9T2JqZWN0LnByb3RvdHlwZSxhPXMuaGFzT3duUHJvcGVydHksYz1zLnByb3BlcnR5SXNFbnVtZXJhYmxlO3QuZXhwb3J0cz1ufSx7MzY6MzYsNDA6NDB9XSw0NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoMzIpLG89ZSgzOSksaT1lKDQwKSxzPVwiW29iamVjdCBBcnJheV1cIixhPU9iamVjdC5wcm90b3R5cGUsYz1hLnRvU3RyaW5nLHU9bihBcnJheSxcImlzQXJyYXlcIiksbD11fHxmdW5jdGlvbihlKXtyZXR1cm4gaShlKSYmbyhlLmxlbmd0aCkmJmMuY2FsbChlKT09c307dC5leHBvcnRzPWx9LHszMjozMiwzOTozOSw0MDo0MH1dLDQ3OltmdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gbihlKXtyZXR1cm4gbyhlKSYmYS5jYWxsKGUpPT1pfXZhciBvPWUoNDkpLGk9XCJbb2JqZWN0IEZ1bmN0aW9uXVwiLHM9T2JqZWN0LnByb3RvdHlwZSxhPXMudG9TdHJpbmc7dC5leHBvcnRzPW59LHs0OTo0OX1dLDQ4OltmdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gbihlKXtyZXR1cm4gbnVsbD09ZT8hMTpvKGUpP2wudGVzdChjLmNhbGwoZSkpOmkoZSkmJnMudGVzdChlKX12YXIgbz1lKDQ3KSxpPWUoNDApLHM9L15cXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXF0kLyxhPU9iamVjdC5wcm90b3R5cGUsYz1GdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmcsdT1hLmhhc093blByb3BlcnR5LGw9UmVnRXhwKFwiXlwiK2MuY2FsbCh1KS5yZXBsYWNlKC9bXFxcXF4kLiorPygpW1xcXXt9fF0vZyxcIlxcXFwkJlwiKS5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLFwiJDEuKj9cIikrXCIkXCIpO3QuZXhwb3J0cz1ufSx7NDA6NDAsNDc6NDd9XSw0OTpbZnVuY3Rpb24oZSx0LHIpe2Z1bmN0aW9uIG4oZSl7dmFyIHQ9dHlwZW9mIGU7cmV0dXJuISFlJiYoXCJvYmplY3RcIj09dHx8XCJmdW5jdGlvblwiPT10KX10LmV4cG9ydHM9bn0se31dLDUwOltmdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gbihlKXt2YXIgdDtpZighcyhlKXx8bC5jYWxsKGUpIT1hfHxpKGUpfHwhdS5jYWxsKGUsXCJjb25zdHJ1Y3RvclwiKSYmKHQ9ZS5jb25zdHJ1Y3RvcixcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiYhKHQgaW5zdGFuY2VvZiB0KSkpcmV0dXJuITE7dmFyIHI7cmV0dXJuIG8oZSxmdW5jdGlvbihlLHQpe3I9dH0pLHZvaWQgMD09PXJ8fHUuY2FsbChlLHIpfXZhciBvPWUoMjApLGk9ZSg0NSkscz1lKDQwKSxhPVwiW29iamVjdCBPYmplY3RdXCIsYz1PYmplY3QucHJvdG90eXBlLHU9Yy5oYXNPd25Qcm9wZXJ0eSxsPWMudG9TdHJpbmc7dC5leHBvcnRzPW59LHsyMDoyMCw0MDo0MCw0NTo0NX1dLDUxOltmdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gbihlKXtyZXR1cm4gaShlKSYmbyhlLmxlbmd0aCkmJiEhVVtSLmNhbGwoZSldfXZhciBvPWUoMzkpLGk9ZSg0MCkscz1cIltvYmplY3QgQXJndW1lbnRzXVwiLGE9XCJbb2JqZWN0IEFycmF5XVwiLGM9XCJbb2JqZWN0IEJvb2xlYW5dXCIsdT1cIltvYmplY3QgRGF0ZV1cIixsPVwiW29iamVjdCBFcnJvcl1cIixmPVwiW29iamVjdCBGdW5jdGlvbl1cIixkPVwiW29iamVjdCBNYXBdXCIsaD1cIltvYmplY3QgTnVtYmVyXVwiLHA9XCJbb2JqZWN0IE9iamVjdF1cIix5PVwiW29iamVjdCBSZWdFeHBdXCIsbT1cIltvYmplY3QgU2V0XVwiLHY9XCJbb2JqZWN0IFN0cmluZ11cIixiPVwiW29iamVjdCBXZWFrTWFwXVwiLGc9XCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiLHc9XCJbb2JqZWN0IEZsb2F0MzJBcnJheV1cIix4PVwiW29iamVjdCBGbG9hdDY0QXJyYXldXCIsXz1cIltvYmplY3QgSW50OEFycmF5XVwiLGo9XCJbb2JqZWN0IEludDE2QXJyYXldXCIsVD1cIltvYmplY3QgSW50MzJBcnJheV1cIixBPVwiW29iamVjdCBVaW50OEFycmF5XVwiLE89XCJbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XVwiLGs9XCJbb2JqZWN0IFVpbnQxNkFycmF5XVwiLFM9XCJbb2JqZWN0IFVpbnQzMkFycmF5XVwiLFU9e307VVt3XT1VW3hdPVVbX109VVtqXT1VW1RdPVVbQV09VVtPXT1VW2tdPVVbU109ITAsVVtzXT1VW2FdPVVbZ109VVtjXT1VW3VdPVVbbF09VVtmXT1VW2RdPVVbaF09VVtwXT1VW3ldPVVbbV09VVt2XT1VW2JdPSExO3ZhciBJPU9iamVjdC5wcm90b3R5cGUsUj1JLnRvU3RyaW5nO3QuZXhwb3J0cz1ufSx7Mzk6MzksNDA6NDB9XSw1MjpbZnVuY3Rpb24oZSx0LHIpe2Z1bmN0aW9uIG4oZSl7cmV0dXJuIG8oZSxpKGUpKX12YXIgbz1lKDE3KSxpPWUoNTQpO3QuZXhwb3J0cz1ufSx7MTc6MTcsNTQ6NTR9XSw1MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoMzIpLG89ZSgzNiksaT1lKDQ5KSxzPWUoNDEpLGE9bihPYmplY3QsXCJrZXlzXCIpLGM9YT9mdW5jdGlvbihlKXt2YXIgdD1udWxsPT1lP3ZvaWQgMDplLmNvbnN0cnVjdG9yO3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJnQucHJvdG90eXBlPT09ZXx8XCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbyhlKT9zKGUpOmkoZSk/YShlKTpbXX06czt0LmV4cG9ydHM9Y30sezMyOjMyLDM2OjM2LDQxOjQxLDQ5OjQ5fV0sNTQ6W2Z1bmN0aW9uKGUsdCxyKXtmdW5jdGlvbiBuKGUpe2lmKG51bGw9PWUpcmV0dXJuW107YyhlKXx8KGU9T2JqZWN0KGUpKTt2YXIgdD1lLmxlbmd0aDt0PXQmJmEodCkmJihpKGUpfHxvKGUpKSYmdHx8MDtmb3IodmFyIHI9ZS5jb25zdHJ1Y3RvcixuPS0xLHU9XCJmdW5jdGlvblwiPT10eXBlb2YgciYmci5wcm90b3R5cGU9PT1lLGY9QXJyYXkodCksZD10PjA7KytuPHQ7KWZbbl09bitcIlwiO2Zvcih2YXIgaCBpbiBlKWQmJnMoaCx0KXx8XCJjb25zdHJ1Y3RvclwiPT1oJiYodXx8IWwuY2FsbChlLGgpKXx8Zi5wdXNoKGgpO3JldHVybiBmfXZhciBvPWUoNDUpLGk9ZSg0Nikscz1lKDM3KSxhPWUoMzkpLGM9ZSg0OSksdT1PYmplY3QucHJvdG90eXBlLGw9dS5oYXNPd25Qcm9wZXJ0eTt0LmV4cG9ydHM9bn0sezM3OjM3LDM5OjM5LDQ1OjQ1LDQ2OjQ2LDQ5OjQ5fV0sNTU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKDIyKSxvPWUoMjcpLGk9byhuKTt0LmV4cG9ydHM9aX0sezIyOjIyLDI3OjI3fV0sNTY6W2Z1bmN0aW9uKGUsdCxyKXtmdW5jdGlvbiBuKGUpe3JldHVybiBlfXQuZXhwb3J0cz1ufSx7fV0sNTc6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQscixuKXt2YXIgcz1lKDYpKFwiYWxnb2xpYXNlYXJjaFwiKSxhPWUoNDMpLGM9ZSg0NiksdT1cIlVzYWdlOiBhbGdvbGlhc2VhcmNoKGFwcGxpY2F0aW9uSUQsIGFwaUtleSwgb3B0cylcIjtpZighdCl0aHJvdyBuZXcgaC5BbGdvbGlhU2VhcmNoRXJyb3IoXCJQbGVhc2UgcHJvdmlkZSBhbiBhcHBsaWNhdGlvbiBJRC4gXCIrdSk7aWYoIXIpdGhyb3cgbmV3IGguQWxnb2xpYVNlYXJjaEVycm9yKFwiUGxlYXNlIHByb3ZpZGUgYW4gQVBJIGtleS4gXCIrdSk7dGhpcy5hcHBsaWNhdGlvbklEPXQsdGhpcy5hcGlLZXk9cjt2YXIgbD1bdGhpcy5hcHBsaWNhdGlvbklEK1wiLTEuYWxnb2xpYW5ldC5jb21cIix0aGlzLmFwcGxpY2F0aW9uSUQrXCItMi5hbGdvbGlhbmV0LmNvbVwiLHRoaXMuYXBwbGljYXRpb25JRCtcIi0zLmFsZ29saWFuZXQuY29tXCJdO3RoaXMuaG9zdHM9e3JlYWQ6W10sd3JpdGU6W119LHRoaXMuaG9zdEluZGV4PXtyZWFkOjAsd3JpdGU6MH0sbj1ufHx7fTt2YXIgZj1uLnByb3RvY29sfHxcImh0dHBzOlwiLGQ9dm9pZCAwPT09bi50aW1lb3V0PzJlMzpuLnRpbWVvdXQ7XG5cdGlmKC86JC8udGVzdChmKXx8KGYrPVwiOlwiKSxcImh0dHA6XCIhPT1uLnByb3RvY29sJiZcImh0dHBzOlwiIT09bi5wcm90b2NvbCl0aHJvdyBuZXcgaC5BbGdvbGlhU2VhcmNoRXJyb3IoXCJwcm90b2NvbCBtdXN0IGJlIGBodHRwOmAgb3IgYGh0dHBzOmAgKHdhcyBgXCIrbi5wcm90b2NvbCtcImApXCIpO24uaG9zdHM/YyhuLmhvc3RzKT8odGhpcy5ob3N0cy5yZWFkPWEobi5ob3N0cyksdGhpcy5ob3N0cy53cml0ZT1hKG4uaG9zdHMpKToodGhpcy5ob3N0cy5yZWFkPWEobi5ob3N0cy5yZWFkKSx0aGlzLmhvc3RzLndyaXRlPWEobi5ob3N0cy53cml0ZSkpOih0aGlzLmhvc3RzLnJlYWQ9W3RoaXMuYXBwbGljYXRpb25JRCtcIi1kc24uYWxnb2xpYS5uZXRcIl0uY29uY2F0KGwpLHRoaXMuaG9zdHMud3JpdGU9W3RoaXMuYXBwbGljYXRpb25JRCtcIi5hbGdvbGlhLm5ldFwiXS5jb25jYXQobCkpLHRoaXMuaG9zdHMucmVhZD1vKHRoaXMuaG9zdHMucmVhZCxpKGYpKSx0aGlzLmhvc3RzLndyaXRlPW8odGhpcy5ob3N0cy53cml0ZSxpKGYpKSx0aGlzLnJlcXVlc3RUaW1lb3V0PWQsdGhpcy5leHRyYUhlYWRlcnM9W10sdGhpcy5jYWNoZT17fSx0aGlzLl91YT1uLl91YSx0aGlzLl91c2VDYWNoZT12b2lkIDA9PT1uLl91c2VDYWNoZT8hMDpuLl91c2VDYWNoZSx0aGlzLl9zZXRUaW1lb3V0PW4uX3NldFRpbWVvdXQscyhcImluaXQgZG9uZSwgJWpcIix0aGlzKX1mdW5jdGlvbiBvKGUsdCl7Zm9yKHZhciByPVtdLG49MDtuPGUubGVuZ3RoOysrbilyLnB1c2godChlW25dLG4pKTtyZXR1cm4gcn1mdW5jdGlvbiBpKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZStcIi8vXCIrdC50b0xvd2VyQ2FzZSgpfX1mdW5jdGlvbiBzKCl7dmFyIGU9XCJOb3QgaW1wbGVtZW50ZWQgaW4gdGhpcyBlbnZpcm9ubWVudC5cXG5JZiB5b3UgZmVlbCB0aGlzIGlzIGEgbWlzdGFrZSwgd3JpdGUgdG8gc3VwcG9ydEBhbGdvbGlhLmNvbVwiO3Rocm93IG5ldyBoLkFsZ29saWFTZWFyY2hFcnJvcihlKX1mdW5jdGlvbiBhKGUsdCl7dmFyIHI9ZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoXCIuXCIsXCJcIikucmVwbGFjZShcIigpXCIsXCJcIik7cmV0dXJuXCJhbGdvbGlhc2VhcmNoOiBgXCIrZStcImAgd2FzIHJlcGxhY2VkIGJ5IGBcIit0K1wiYC4gUGxlYXNlIHNlZSBodHRwczovL2dpdGh1Yi5jb20vYWxnb2xpYS9hbGdvbGlhc2VhcmNoLWNsaWVudC1qcy93aWtpL0RlcHJlY2F0ZWQjXCIrcn1mdW5jdGlvbiBjKGUsdCl7dChlLDApfWZ1bmN0aW9uIHUoZSx0KXtmdW5jdGlvbiByKCl7cmV0dXJuIG58fChjb25zb2xlLmxvZyh0KSxuPSEwKSxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgbj0hMTtyZXR1cm4gcn1mdW5jdGlvbiBsKGUpe2lmKHZvaWQgMD09PUFycmF5LnByb3RvdHlwZS50b0pTT04pcmV0dXJuIEpTT04uc3RyaW5naWZ5KGUpO3ZhciB0PUFycmF5LnByb3RvdHlwZS50b0pTT047ZGVsZXRlIEFycmF5LnByb3RvdHlwZS50b0pTT047dmFyIHI9SlNPTi5zdHJpbmdpZnkoZSk7cmV0dXJuIEFycmF5LnByb3RvdHlwZS50b0pTT049dCxyfWZ1bmN0aW9uIGYoZSl7cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiZcIm9iamVjdFwiPT10eXBlb2Ygcnx8XCJvYmplY3RcIj09dHlwZW9mIG4pdGhyb3cgbmV3IGguQWxnb2xpYVNlYXJjaEVycm9yKFwiaW5kZXguc2VhcmNoIHVzYWdlIGlzIGluZGV4LnNlYXJjaChxdWVyeSwgcGFyYW1zLCBjYilcIik7MD09PWFyZ3VtZW50cy5sZW5ndGh8fFwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/KG49dCx0PVwiXCIpOigxPT09YXJndW1lbnRzLmxlbmd0aHx8XCJmdW5jdGlvblwiPT10eXBlb2YgcikmJihuPXIscj12b2lkIDApLFwib2JqZWN0XCI9PXR5cGVvZiB0JiZudWxsIT09dD8ocj10LHQ9dm9pZCAwKToodm9pZCAwPT09dHx8bnVsbD09PXQpJiYodD1cIlwiKTt2YXIgbz1cIlwiO3JldHVybiB2b2lkIDAhPT10JiYobys9ZStcIj1cIitlbmNvZGVVUklDb21wb25lbnQodCkpLHZvaWQgMCE9PXImJihvPXRoaXMuYXMuX2dldFNlYXJjaFBhcmFtcyhyLG8pKSx0aGlzLl9zZWFyY2gobyxuKX19dC5leHBvcnRzPW47dmFyIGQ9ZHx8dm9pZCAwO2QmJmQuZW52LDE7dmFyIGg9ZSg2Myk7bi5wcm90b3R5cGU9e2RlbGV0ZUluZGV4OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX2pzb25SZXF1ZXN0KHttZXRob2Q6XCJERUxFVEVcIix1cmw6XCIvMS9pbmRleGVzL1wiK2VuY29kZVVSSUNvbXBvbmVudChlKSxob3N0VHlwZTpcIndyaXRlXCIsY2FsbGJhY2s6dH0pfSxtb3ZlSW5kZXg6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXtvcGVyYXRpb246XCJtb3ZlXCIsZGVzdGluYXRpb246dH07cmV0dXJuIHRoaXMuX2pzb25SZXF1ZXN0KHttZXRob2Q6XCJQT1NUXCIsdXJsOlwiLzEvaW5kZXhlcy9cIitlbmNvZGVVUklDb21wb25lbnQoZSkrXCIvb3BlcmF0aW9uXCIsYm9keTpuLGhvc3RUeXBlOlwid3JpdGVcIixjYWxsYmFjazpyfSl9LGNvcHlJbmRleDpmdW5jdGlvbihlLHQscil7dmFyIG49e29wZXJhdGlvbjpcImNvcHlcIixkZXN0aW5hdGlvbjp0fTtyZXR1cm4gdGhpcy5fanNvblJlcXVlc3Qoe21ldGhvZDpcIlBPU1RcIix1cmw6XCIvMS9pbmRleGVzL1wiK2VuY29kZVVSSUNvbXBvbmVudChlKStcIi9vcGVyYXRpb25cIixib2R5Om4saG9zdFR5cGU6XCJ3cml0ZVwiLGNhbGxiYWNrOnJ9KX0sZ2V0TG9nczpmdW5jdGlvbihlLHQscil7cmV0dXJuIDA9PT1hcmd1bWVudHMubGVuZ3RofHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlPyhyPWUsZT0wLHQ9MTApOigxPT09YXJndW1lbnRzLmxlbmd0aHx8XCJmdW5jdGlvblwiPT10eXBlb2YgdCkmJihyPXQsdD0xMCksdGhpcy5fanNvblJlcXVlc3Qoe21ldGhvZDpcIkdFVFwiLHVybDpcIi8xL2xvZ3M/b2Zmc2V0PVwiK2UrXCImbGVuZ3RoPVwiK3QsaG9zdFR5cGU6XCJyZWFkXCIsY2FsbGJhY2s6cn0pfSxsaXN0SW5kZXhlczpmdW5jdGlvbihlLHQpe3ZhciByPVwiXCI7cmV0dXJuIHZvaWQgMD09PWV8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGU/dD1lOnI9XCI/cGFnZT1cIitlLHRoaXMuX2pzb25SZXF1ZXN0KHttZXRob2Q6XCJHRVRcIix1cmw6XCIvMS9pbmRleGVzXCIrcixob3N0VHlwZTpcInJlYWRcIixjYWxsYmFjazp0fSl9LGluaXRJbmRleDpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IHRoaXMuSW5kZXgodGhpcyxlKX0sbGlzdFVzZXJLZXlzOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9qc29uUmVxdWVzdCh7bWV0aG9kOlwiR0VUXCIsdXJsOlwiLzEva2V5c1wiLGhvc3RUeXBlOlwicmVhZFwiLGNhbGxiYWNrOmV9KX0sZ2V0VXNlcktleUFDTDpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9qc29uUmVxdWVzdCh7bWV0aG9kOlwiR0VUXCIsdXJsOlwiLzEva2V5cy9cIitlLGhvc3RUeXBlOlwicmVhZFwiLGNhbGxiYWNrOnR9KX0sZGVsZXRlVXNlcktleTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9qc29uUmVxdWVzdCh7bWV0aG9kOlwiREVMRVRFXCIsdXJsOlwiLzEva2V5cy9cIitlLGhvc3RUeXBlOlwid3JpdGVcIixjYWxsYmFjazp0fSl9LGFkZFVzZXJLZXk6ZnVuY3Rpb24odCxyLG4pe3ZhciBvPWUoNDYpLGk9XCJVc2FnZTogY2xpZW50LmFkZFVzZXJLZXkoYXJyYXlPZkFjbHNbLCBwYXJhbXMsIGNhbGxiYWNrXSlcIjtpZighbyh0KSl0aHJvdyBuZXcgRXJyb3IoaSk7KDE9PT1hcmd1bWVudHMubGVuZ3RofHxcImZ1bmN0aW9uXCI9PXR5cGVvZiByKSYmKG49cixyPW51bGwpO3ZhciBzPXthY2w6dH07cmV0dXJuIHImJihzLnZhbGlkaXR5PXIudmFsaWRpdHkscy5tYXhRdWVyaWVzUGVySVBQZXJIb3VyPXIubWF4UXVlcmllc1BlcklQUGVySG91cixzLm1heEhpdHNQZXJRdWVyeT1yLm1heEhpdHNQZXJRdWVyeSxzLmluZGV4ZXM9ci5pbmRleGVzLHMuZGVzY3JpcHRpb249ci5kZXNjcmlwdGlvbixyLnF1ZXJ5UGFyYW1ldGVycyYmKHMucXVlcnlQYXJhbWV0ZXJzPXRoaXMuX2dldFNlYXJjaFBhcmFtcyhyLnF1ZXJ5UGFyYW1ldGVycyxcIlwiKSkscy5yZWZlcmVycz1yLnJlZmVyZXJzKSx0aGlzLl9qc29uUmVxdWVzdCh7bWV0aG9kOlwiUE9TVFwiLHVybDpcIi8xL2tleXNcIixib2R5OnMsaG9zdFR5cGU6XCJ3cml0ZVwiLGNhbGxiYWNrOm59KX0sYWRkVXNlcktleVdpdGhWYWxpZGl0eTp1KGZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdGhpcy5hZGRVc2VyS2V5KGUsdCxyKX0sYShcImNsaWVudC5hZGRVc2VyS2V5V2l0aFZhbGlkaXR5KClcIixcImNsaWVudC5hZGRVc2VyS2V5KClcIikpLHVwZGF0ZVVzZXJLZXk6ZnVuY3Rpb24odCxyLG4sbyl7dmFyIGk9ZSg0Nikscz1cIlVzYWdlOiBjbGllbnQudXBkYXRlVXNlcktleShrZXksIGFycmF5T2ZBY2xzWywgcGFyYW1zLCBjYWxsYmFja10pXCI7aWYoIWkocikpdGhyb3cgbmV3IEVycm9yKHMpOygyPT09YXJndW1lbnRzLmxlbmd0aHx8XCJmdW5jdGlvblwiPT10eXBlb2YgbikmJihvPW4sbj1udWxsKTt2YXIgYT17YWNsOnJ9O3JldHVybiBuJiYoYS52YWxpZGl0eT1uLnZhbGlkaXR5LGEubWF4UXVlcmllc1BlcklQUGVySG91cj1uLm1heFF1ZXJpZXNQZXJJUFBlckhvdXIsYS5tYXhIaXRzUGVyUXVlcnk9bi5tYXhIaXRzUGVyUXVlcnksYS5pbmRleGVzPW4uaW5kZXhlcyxhLmRlc2NyaXB0aW9uPW4uZGVzY3JpcHRpb24sbi5xdWVyeVBhcmFtZXRlcnMmJihhLnF1ZXJ5UGFyYW1ldGVycz10aGlzLl9nZXRTZWFyY2hQYXJhbXMobi5xdWVyeVBhcmFtZXRlcnMsXCJcIikpLGEucmVmZXJlcnM9bi5yZWZlcmVycyksdGhpcy5fanNvblJlcXVlc3Qoe21ldGhvZDpcIlBVVFwiLHVybDpcIi8xL2tleXMvXCIrdCxib2R5OmEsaG9zdFR5cGU6XCJ3cml0ZVwiLGNhbGxiYWNrOm99KX0sc2V0U2VjdXJpdHlUYWdzOmZ1bmN0aW9uKGUpe2lmKFwiW29iamVjdCBBcnJheV1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSl7Zm9yKHZhciB0PVtdLHI9MDtyPGUubGVuZ3RoOysrcilpZihcIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZVtyXSkpe2Zvcih2YXIgbj1bXSxvPTA7bzxlW3JdLmxlbmd0aDsrK28pbi5wdXNoKGVbcl1bb10pO3QucHVzaChcIihcIituLmpvaW4oXCIsXCIpK1wiKVwiKX1lbHNlIHQucHVzaChlW3JdKTtlPXQuam9pbihcIixcIil9dGhpcy5zZWN1cml0eVRhZ3M9ZX0sc2V0VXNlclRva2VuOmZ1bmN0aW9uKGUpe3RoaXMudXNlclRva2VuPWV9LHN0YXJ0UXVlcmllc0JhdGNoOnUoZnVuY3Rpb24oKXt0aGlzLl9iYXRjaD1bXX0sYShcImNsaWVudC5zdGFydFF1ZXJpZXNCYXRjaCgpXCIsXCJjbGllbnQuc2VhcmNoKClcIikpLGFkZFF1ZXJ5SW5CYXRjaDp1KGZ1bmN0aW9uKGUsdCxyKXt0aGlzLl9iYXRjaC5wdXNoKHtpbmRleE5hbWU6ZSxxdWVyeTp0LHBhcmFtczpyfSl9LGEoXCJjbGllbnQuYWRkUXVlcnlJbkJhdGNoKClcIixcImNsaWVudC5zZWFyY2goKVwiKSksY2xlYXJDYWNoZTpmdW5jdGlvbigpe3RoaXMuY2FjaGU9e319LHNlbmRRdWVyaWVzQmF0Y2g6dShmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zZWFyY2godGhpcy5fYmF0Y2gsZSl9LGEoXCJjbGllbnQuc2VuZFF1ZXJpZXNCYXRjaCgpXCIsXCJjbGllbnQuc2VhcmNoKClcIikpLHNldFJlcXVlc3RUaW1lb3V0OmZ1bmN0aW9uKGUpe2UmJih0aGlzLnJlcXVlc3RUaW1lb3V0PXBhcnNlSW50KGUsMTApKX0sc2VhcmNoOmZ1bmN0aW9uKHQscil7dmFyIG49ZSg0NiksaT1cIlVzYWdlOiBjbGllbnQuc2VhcmNoKGFycmF5T2ZRdWVyaWVzWywgY2FsbGJhY2tdKVwiO2lmKCFuKHQpKXRocm93IG5ldyBFcnJvcihpKTt2YXIgcz10aGlzLGE9e3JlcXVlc3RzOm8odCxmdW5jdGlvbihlKXt2YXIgdD1cIlwiO3JldHVybiB2b2lkIDAhPT1lLnF1ZXJ5JiYodCs9XCJxdWVyeT1cIitlbmNvZGVVUklDb21wb25lbnQoZS5xdWVyeSkpLHtpbmRleE5hbWU6ZS5pbmRleE5hbWUscGFyYW1zOnMuX2dldFNlYXJjaFBhcmFtcyhlLnBhcmFtcyx0KX19KX07cmV0dXJuIHRoaXMuX2pzb25SZXF1ZXN0KHtjYWNoZTp0aGlzLmNhY2hlLG1ldGhvZDpcIlBPU1RcIix1cmw6XCIvMS9pbmRleGVzLyovcXVlcmllc1wiLGJvZHk6YSxob3N0VHlwZTpcInJlYWRcIixjYWxsYmFjazpyfSl9LGJhdGNoOmZ1bmN0aW9uKHQscil7dmFyIG49ZSg0Niksbz1cIlVzYWdlOiBjbGllbnQuYmF0Y2gob3BlcmF0aW9uc1ssIGNhbGxiYWNrXSlcIjtpZighbih0KSl0aHJvdyBuZXcgRXJyb3Iobyk7cmV0dXJuIHRoaXMuX2pzb25SZXF1ZXN0KHttZXRob2Q6XCJQT1NUXCIsdXJsOlwiLzEvaW5kZXhlcy8qL2JhdGNoXCIsYm9keTp7cmVxdWVzdHM6dH0saG9zdFR5cGU6XCJ3cml0ZVwiLGNhbGxiYWNrOnJ9KX0sZGVzdHJveTpzLGVuYWJsZVJhdGVMaW1pdEZvcndhcmQ6cyxkaXNhYmxlUmF0ZUxpbWl0Rm9yd2FyZDpzLHVzZVNlY3VyZWRBUElLZXk6cyxkaXNhYmxlU2VjdXJlZEFQSUtleTpzLGdlbmVyYXRlU2VjdXJlZEFwaUtleTpzLEluZGV4OmZ1bmN0aW9uKGUsdCl7dGhpcy5pbmRleE5hbWU9dCx0aGlzLmFzPWUsdGhpcy50eXBlQWhlYWRBcmdzPW51bGwsdGhpcy50eXBlQWhlYWRWYWx1ZU9wdGlvbj1udWxsLHRoaXMuY2FjaGU9e319LHNldEV4dHJhSGVhZGVyOmZ1bmN0aW9uKGUsdCl7dGhpcy5leHRyYUhlYWRlcnMucHVzaCh7bmFtZTplLnRvTG93ZXJDYXNlKCksdmFsdWU6dH0pfSxhZGRBbGdvbGlhQWdlbnQ6ZnVuY3Rpb24oZSl7dGhpcy5fdWErPVwiO1wiK2V9LF9zZW5kUXVlcmllc0JhdGNoOmZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcigpe2Zvcih2YXIgdD1cIlwiLHI9MDtyPGUucmVxdWVzdHMubGVuZ3RoOysrcil7dmFyIG49XCIvMS9pbmRleGVzL1wiK2VuY29kZVVSSUNvbXBvbmVudChlLnJlcXVlc3RzW3JdLmluZGV4TmFtZSkrXCI/XCIrZS5yZXF1ZXN0c1tyXS5wYXJhbXM7dCs9citcIj1cIitlbmNvZGVVUklDb21wb25lbnQobikrXCImXCJ9cmV0dXJuIHR9cmV0dXJuIHRoaXMuX2pzb25SZXF1ZXN0KHtjYWNoZTp0aGlzLmNhY2hlLG1ldGhvZDpcIlBPU1RcIix1cmw6XCIvMS9pbmRleGVzLyovcXVlcmllc1wiLGJvZHk6ZSxob3N0VHlwZTpcInJlYWRcIixmYWxsYmFjazp7bWV0aG9kOlwiR0VUXCIsdXJsOlwiLzEvaW5kZXhlcy8qXCIsYm9keTp7cGFyYW1zOnIoKX19LGNhbGxiYWNrOnR9KX0sX2pzb25SZXF1ZXN0OmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoZSxjKXtmdW5jdGlvbiBmKGUpe3ZhciB0PWUmJmUuYm9keSYmZS5ib2R5Lm1lc3NhZ2UmJmUuYm9keS5zdGF0dXN8fGUuc3RhdHVzQ29kZXx8ZSYmZS5ib2R5JiYyMDA7byhcInJlY2VpdmVkIHJlc3BvbnNlOiBzdGF0dXNDb2RlOiAlcywgY29tcHV0ZWQgc3RhdHVzQ29kZTogJWQsIGhlYWRlcnM6ICVqXCIsZS5zdGF0dXNDb2RlLHQsZS5oZWFkZXJzKSxkJiZkLmVudi5ERUJVRyYmLTEhPT1kLmVudi5ERUJVRy5pbmRleE9mKFwiZGVidWdCb2R5XCIpJiZvKFwiYm9keTogJWpcIixlLmJvZHkpO3ZhciByPTIwMD09PXR8fDIwMT09PXQsbj0hciYmNCE9PU1hdGguZmxvb3IodC8xMDApJiYxIT09TWF0aC5mbG9vcih0LzEwMCk7aWYocy5fdXNlQ2FjaGUmJnImJmkmJihpW21dPWUucmVzcG9uc2VUZXh0KSxyKXJldHVybiBlLmJvZHk7aWYobilyZXR1cm4gYSs9MSx5KCk7dmFyIGM9bmV3IGguQWxnb2xpYVNlYXJjaEVycm9yKGUuYm9keSYmZS5ib2R5Lm1lc3NhZ2UpO3JldHVybiBzLl9wcm9taXNlLnJlamVjdChjKX1mdW5jdGlvbiBwKG4pe3JldHVybiBvKFwiZXJyb3I6ICVzLCBzdGFjazogJXNcIixuLm1lc3NhZ2Usbi5zdGFjayksbiBpbnN0YW5jZW9mIGguQWxnb2xpYVNlYXJjaEVycm9yfHwobj1uZXcgaC5Vbmtub3duKG4mJm4ubWVzc2FnZSxuKSksYSs9MSxuIGluc3RhbmNlb2YgaC5Vbmtub3dufHxuIGluc3RhbmNlb2YgaC5VbnBhcnNhYmxlSlNPTnx8YT49cy5ob3N0c1t0Lmhvc3RUeXBlXS5sZW5ndGgmJih1fHwhdC5mYWxsYmFja3x8IXMuX3JlcXVlc3QuZmFsbGJhY2spP3MuX3Byb21pc2UucmVqZWN0KG4pOihzLmhvc3RJbmRleFt0Lmhvc3RUeXBlXT0rK3MuaG9zdEluZGV4W3QuaG9zdFR5cGVdJXMuaG9zdHNbdC5ob3N0VHlwZV0ubGVuZ3RoLG4gaW5zdGFuY2VvZiBoLlJlcXVlc3RUaW1lb3V0P3koKToocy5fcmVxdWVzdC5mYWxsYmFjayYmIXMudXNlRmFsbGJhY2smJihzLnVzZUZhbGxiYWNrPSEwKSxyKGUsYykpKX1mdW5jdGlvbiB5KCl7cmV0dXJuIHMuaG9zdEluZGV4W3QuaG9zdFR5cGVdPSsrcy5ob3N0SW5kZXhbdC5ob3N0VHlwZV0lcy5ob3N0c1t0Lmhvc3RUeXBlXS5sZW5ndGgsYy50aW1lb3V0PXMucmVxdWVzdFRpbWVvdXQqKGErMSkscihlLGMpfXZhciBtO2lmKHMuX3VzZUNhY2hlJiYobT10LnVybCkscy5fdXNlQ2FjaGUmJm4mJihtKz1cIl9ib2R5X1wiK2MuYm9keSkscy5fdXNlQ2FjaGUmJmkmJnZvaWQgMCE9PWlbbV0pcmV0dXJuIG8oXCJzZXJ2aW5nIHJlc3BvbnNlIGZyb20gY2FjaGVcIikscy5fcHJvbWlzZS5yZXNvbHZlKEpTT04ucGFyc2UoaVttXSkpO2lmKGE+PXMuaG9zdHNbdC5ob3N0VHlwZV0ubGVuZ3RofHxzLnVzZUZhbGxiYWNrJiYhdSlyZXR1cm4gdC5mYWxsYmFjayYmcy5fcmVxdWVzdC5mYWxsYmFjayYmIXU/KG8oXCJzd2l0Y2hpbmcgdG8gZmFsbGJhY2tcIiksYT0wLGMubWV0aG9kPXQuZmFsbGJhY2subWV0aG9kLGMudXJsPXQuZmFsbGJhY2sudXJsLGMuanNvbkJvZHk9dC5mYWxsYmFjay5ib2R5LGMuanNvbkJvZHkmJihjLmJvZHk9bChjLmpzb25Cb2R5KSksYy50aW1lb3V0PXMucmVxdWVzdFRpbWVvdXQqKGErMSkscy5ob3N0SW5kZXhbdC5ob3N0VHlwZV09MCx1PSEwLHIocy5fcmVxdWVzdC5mYWxsYmFjayxjKSk6KG8oXCJjb3VsZCBub3QgZ2V0IGFueSByZXNwb25zZVwiKSxzLl9wcm9taXNlLnJlamVjdChuZXcgaC5BbGdvbGlhU2VhcmNoRXJyb3IoXCJDYW5ub3QgY29ubmVjdCB0byB0aGUgQWxnb2xpYVNlYXJjaCBBUEkuIFNlbmQgYW4gZW1haWwgdG8gc3VwcG9ydEBhbGdvbGlhLmNvbSB0byByZXBvcnQgYW5kIHJlc29sdmUgdGhlIGlzc3VlLiBBcHBsaWNhdGlvbiBpZCB3YXM6IFwiK3MuYXBwbGljYXRpb25JRCkpKTt2YXIgdj1zLmhvc3RzW3QuaG9zdFR5cGVdW3MuaG9zdEluZGV4W3QuaG9zdFR5cGVdXStjLnVybCxiPXtib2R5Om4sanNvbkJvZHk6dC5ib2R5LG1ldGhvZDpjLm1ldGhvZCxoZWFkZXJzOnMuX2NvbXB1dGVSZXF1ZXN0SGVhZGVycygpLHRpbWVvdXQ6Yy50aW1lb3V0LGRlYnVnOm99O3JldHVybiBvKFwibWV0aG9kOiAlcywgdXJsOiAlcywgaGVhZGVyczogJWosIHRpbWVvdXQ6ICVkXCIsYi5tZXRob2QsdixiLmhlYWRlcnMsYi50aW1lb3V0KSxlPT09cy5fcmVxdWVzdC5mYWxsYmFjayYmbyhcInVzaW5nIGZhbGxiYWNrXCIpLGUuY2FsbChzLHYsYikudGhlbihmLHApfXZhciBuLG89ZSg2KShcImFsZ29saWFzZWFyY2g6XCIrdC51cmwpLGk9dC5jYWNoZSxzPXRoaXMsYT0wLHU9ITE7dm9pZCAwIT09dC5ib2R5JiYobj1sKHQuYm9keSkpLG8oXCJyZXF1ZXN0IHN0YXJ0XCIpO3ZhciBmPXMudXNlRmFsbGJhY2smJnQuZmFsbGJhY2sscD1mP3QuZmFsbGJhY2s6dCx5PXIoZj9zLl9yZXF1ZXN0LmZhbGxiYWNrOnMuX3JlcXVlc3Qse3VybDpwLnVybCxtZXRob2Q6cC5tZXRob2QsYm9keTpuLGpzb25Cb2R5OnQuYm9keSx0aW1lb3V0OnMucmVxdWVzdFRpbWVvdXQqKGErMSl9KTtyZXR1cm4gdC5jYWxsYmFjaz92b2lkIHkudGhlbihmdW5jdGlvbihlKXtjKGZ1bmN0aW9uKCl7dC5jYWxsYmFjayhudWxsLGUpfSxzLl9zZXRUaW1lb3V0fHxzZXRUaW1lb3V0KX0sZnVuY3Rpb24oZSl7YyhmdW5jdGlvbigpe3QuY2FsbGJhY2soZSl9LHMuX3NldFRpbWVvdXR8fHNldFRpbWVvdXQpfSk6eX0sX2dldFNlYXJjaFBhcmFtczpmdW5jdGlvbihlLHQpe2lmKHRoaXMuX2lzVW5kZWZpbmVkKGUpfHxudWxsPT09ZSlyZXR1cm4gdDtmb3IodmFyIHIgaW4gZSludWxsIT09ciYmdm9pZCAwIT09ZVtyXSYmZS5oYXNPd25Qcm9wZXJ0eShyKSYmKHQrPVwiXCI9PT10P1wiXCI6XCImXCIsdCs9citcIj1cIitlbmNvZGVVUklDb21wb25lbnQoXCJbb2JqZWN0IEFycmF5XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGVbcl0pP2woZVtyXSk6ZVtyXSkpO3JldHVybiB0fSxfaXNVbmRlZmluZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWV9LF9jb21wdXRlUmVxdWVzdEhlYWRlcnM6ZnVuY3Rpb24oKXt2YXIgdD1lKDExKSxyPXtcIngtYWxnb2xpYS1hcGkta2V5XCI6dGhpcy5hcGlLZXksXCJ4LWFsZ29saWEtYXBwbGljYXRpb24taWRcIjp0aGlzLmFwcGxpY2F0aW9uSUQsXCJ4LWFsZ29saWEtYWdlbnRcIjp0aGlzLl91YX07cmV0dXJuIHRoaXMudXNlclRva2VuJiYocltcIngtYWxnb2xpYS11c2VydG9rZW5cIl09dGhpcy51c2VyVG9rZW4pLHRoaXMuc2VjdXJpdHlUYWdzJiYocltcIngtYWxnb2xpYS10YWdmaWx0ZXJzXCJdPXRoaXMuc2VjdXJpdHlUYWdzKSx0aGlzLmV4dHJhSGVhZGVycyYmdCh0aGlzLmV4dHJhSGVhZGVycyxmdW5jdGlvbihlKXtyW2UubmFtZV09ZS52YWx1ZX0pLHJ9fSxuLnByb3RvdHlwZS5JbmRleC5wcm90b3R5cGU9e2NsZWFyQ2FjaGU6ZnVuY3Rpb24oKXt0aGlzLmNhY2hlPXt9fSxhZGRPYmplY3Q6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXM7cmV0dXJuKDE9PT1hcmd1bWVudHMubGVuZ3RofHxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0KSYmKHI9dCx0PXZvaWQgMCksdGhpcy5hcy5fanNvblJlcXVlc3Qoe21ldGhvZDp2b2lkIDAhPT10P1wiUFVUXCI6XCJQT1NUXCIsdXJsOlwiLzEvaW5kZXhlcy9cIitlbmNvZGVVUklDb21wb25lbnQobi5pbmRleE5hbWUpKyh2b2lkIDAhPT10P1wiL1wiK2VuY29kZVVSSUNvbXBvbmVudCh0KTpcIlwiKSxib2R5OmUsaG9zdFR5cGU6XCJ3cml0ZVwiLGNhbGxiYWNrOnJ9KX0sYWRkT2JqZWN0czpmdW5jdGlvbih0LHIpe3ZhciBuPWUoNDYpLG89XCJVc2FnZTogaW5kZXguYWRkT2JqZWN0cyhhcnJheU9mT2JqZWN0c1ssIGNhbGxiYWNrXSlcIjtpZighbih0KSl0aHJvdyBuZXcgRXJyb3Iobyk7Zm9yKHZhciBpPXRoaXMscz17cmVxdWVzdHM6W119LGE9MDthPHQubGVuZ3RoOysrYSl7dmFyIGM9e2FjdGlvbjpcImFkZE9iamVjdFwiLGJvZHk6dFthXX07cy5yZXF1ZXN0cy5wdXNoKGMpfXJldHVybiB0aGlzLmFzLl9qc29uUmVxdWVzdCh7bWV0aG9kOlwiUE9TVFwiLHVybDpcIi8xL2luZGV4ZXMvXCIrZW5jb2RlVVJJQ29tcG9uZW50KGkuaW5kZXhOYW1lKStcIi9iYXRjaFwiLGJvZHk6cyxob3N0VHlwZTpcIndyaXRlXCIsY2FsbGJhY2s6cn0pfSxnZXRPYmplY3Q6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXM7KDE9PT1hcmd1bWVudHMubGVuZ3RofHxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0KSYmKHI9dCx0PXZvaWQgMCk7dmFyIG89XCJcIjtpZih2b2lkIDAhPT10KXtvPVwiP2F0dHJpYnV0ZXM9XCI7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDsrK2kpMCE9PWkmJihvKz1cIixcIiksbys9dFtpXX1yZXR1cm4gdGhpcy5hcy5fanNvblJlcXVlc3Qoe21ldGhvZDpcIkdFVFwiLHVybDpcIi8xL2luZGV4ZXMvXCIrZW5jb2RlVVJJQ29tcG9uZW50KG4uaW5kZXhOYW1lKStcIi9cIitlbmNvZGVVUklDb21wb25lbnQoZSkrbyxob3N0VHlwZTpcInJlYWRcIixjYWxsYmFjazpyfSl9LGdldE9iamVjdHM6ZnVuY3Rpb24odCxyLG4pe3ZhciBpPWUoNDYpLHM9XCJVc2FnZTogaW5kZXguZ2V0T2JqZWN0cyhhcnJheU9mT2JqZWN0SURzWywgY2FsbGJhY2tdKVwiO2lmKCFpKHQpKXRocm93IG5ldyBFcnJvcihzKTt2YXIgYT10aGlzOygxPT09YXJndW1lbnRzLmxlbmd0aHx8XCJmdW5jdGlvblwiPT10eXBlb2YgcikmJihuPXIscj12b2lkIDApO3ZhciBjPXtyZXF1ZXN0czpvKHQsZnVuY3Rpb24oZSl7dmFyIHQ9e2luZGV4TmFtZTphLmluZGV4TmFtZSxvYmplY3RJRDplfTtyZXR1cm4gciYmKHQuYXR0cmlidXRlc1RvUmV0cmlldmU9ci5qb2luKFwiLFwiKSksdH0pfTtyZXR1cm4gdGhpcy5hcy5fanNvblJlcXVlc3Qoe21ldGhvZDpcIlBPU1RcIix1cmw6XCIvMS9pbmRleGVzLyovb2JqZWN0c1wiLGhvc3RUeXBlOlwicmVhZFwiLGJvZHk6YyxjYWxsYmFjazpufSl9LHBhcnRpYWxVcGRhdGVPYmplY3Q6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiB0aGlzLmFzLl9qc29uUmVxdWVzdCh7bWV0aG9kOlwiUE9TVFwiLHVybDpcIi8xL2luZGV4ZXMvXCIrZW5jb2RlVVJJQ29tcG9uZW50KHIuaW5kZXhOYW1lKStcIi9cIitlbmNvZGVVUklDb21wb25lbnQoZS5vYmplY3RJRCkrXCIvcGFydGlhbFwiLGJvZHk6ZSxob3N0VHlwZTpcIndyaXRlXCIsY2FsbGJhY2s6dH0pfSxwYXJ0aWFsVXBkYXRlT2JqZWN0czpmdW5jdGlvbih0LHIpe3ZhciBuPWUoNDYpLG89XCJVc2FnZTogaW5kZXgucGFydGlhbFVwZGF0ZU9iamVjdHMoYXJyYXlPZk9iamVjdHNbLCBjYWxsYmFja10pXCI7aWYoIW4odCkpdGhyb3cgbmV3IEVycm9yKG8pO2Zvcih2YXIgaT10aGlzLHM9e3JlcXVlc3RzOltdfSxhPTA7YTx0Lmxlbmd0aDsrK2Epe3ZhciBjPXthY3Rpb246XCJwYXJ0aWFsVXBkYXRlT2JqZWN0XCIsb2JqZWN0SUQ6dFthXS5vYmplY3RJRCxib2R5OnRbYV19O3MucmVxdWVzdHMucHVzaChjKX1yZXR1cm4gdGhpcy5hcy5fanNvblJlcXVlc3Qoe21ldGhvZDpcIlBPU1RcIix1cmw6XCIvMS9pbmRleGVzL1wiK2VuY29kZVVSSUNvbXBvbmVudChpLmluZGV4TmFtZSkrXCIvYmF0Y2hcIixib2R5OnMsaG9zdFR5cGU6XCJ3cml0ZVwiLGNhbGxiYWNrOnJ9KX0sc2F2ZU9iamVjdDpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIHRoaXMuYXMuX2pzb25SZXF1ZXN0KHttZXRob2Q6XCJQVVRcIix1cmw6XCIvMS9pbmRleGVzL1wiK2VuY29kZVVSSUNvbXBvbmVudChyLmluZGV4TmFtZSkrXCIvXCIrZW5jb2RlVVJJQ29tcG9uZW50KGUub2JqZWN0SUQpLGJvZHk6ZSxob3N0VHlwZTpcIndyaXRlXCIsY2FsbGJhY2s6dH0pfSxzYXZlT2JqZWN0czpmdW5jdGlvbih0LHIpe3ZhciBuPWUoNDYpLG89XCJVc2FnZTogaW5kZXguc2F2ZU9iamVjdHMoYXJyYXlPZk9iamVjdHNbLCBjYWxsYmFja10pXCI7aWYoIW4odCkpdGhyb3cgbmV3IEVycm9yKG8pO2Zvcih2YXIgaT10aGlzLHM9e3JlcXVlc3RzOltdfSxhPTA7YTx0Lmxlbmd0aDsrK2Epe3ZhciBjPXthY3Rpb246XCJ1cGRhdGVPYmplY3RcIixvYmplY3RJRDp0W2FdLm9iamVjdElELGJvZHk6dFthXX07cy5yZXF1ZXN0cy5wdXNoKGMpfXJldHVybiB0aGlzLmFzLl9qc29uUmVxdWVzdCh7bWV0aG9kOlwiUE9TVFwiLHVybDpcIi8xL2luZGV4ZXMvXCIrZW5jb2RlVVJJQ29tcG9uZW50KGkuaW5kZXhOYW1lKStcIi9iYXRjaFwiLGJvZHk6cyxob3N0VHlwZTpcIndyaXRlXCIsY2FsbGJhY2s6cn0pfSxkZWxldGVPYmplY3Q6ZnVuY3Rpb24oZSx0KXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlfHxcInN0cmluZ1wiIT10eXBlb2YgZSYmXCJudW1iZXJcIiE9dHlwZW9mIGUpe3ZhciByPW5ldyBoLkFsZ29saWFTZWFyY2hFcnJvcihcIkNhbm5vdCBkZWxldGUgYW4gb2JqZWN0IHdpdGhvdXQgYW4gb2JqZWN0SURcIik7cmV0dXJuIHQ9ZSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3Qocik6dGhpcy5hcy5fcHJvbWlzZS5yZWplY3Qocil9dmFyIG49dGhpcztyZXR1cm4gdGhpcy5hcy5fanNvblJlcXVlc3Qoe21ldGhvZDpcIkRFTEVURVwiLHVybDpcIi8xL2luZGV4ZXMvXCIrZW5jb2RlVVJJQ29tcG9uZW50KG4uaW5kZXhOYW1lKStcIi9cIitlbmNvZGVVUklDb21wb25lbnQoZSksaG9zdFR5cGU6XCJ3cml0ZVwiLGNhbGxiYWNrOnR9KX0sZGVsZXRlT2JqZWN0czpmdW5jdGlvbih0LHIpe3ZhciBuPWUoNDYpLGk9XCJVc2FnZTogaW5kZXguZGVsZXRlT2JqZWN0cyhhcnJheU9mT2JqZWN0SURzWywgY2FsbGJhY2tdKVwiO2lmKCFuKHQpKXRocm93IG5ldyBFcnJvcihpKTt2YXIgcz10aGlzLGE9e3JlcXVlc3RzOm8odCxmdW5jdGlvbihlKXtyZXR1cm57YWN0aW9uOlwiZGVsZXRlT2JqZWN0XCIsb2JqZWN0SUQ6ZSxib2R5OntvYmplY3RJRDplfX19KX07cmV0dXJuIHRoaXMuYXMuX2pzb25SZXF1ZXN0KHttZXRob2Q6XCJQT1NUXCIsdXJsOlwiLzEvaW5kZXhlcy9cIitlbmNvZGVVUklDb21wb25lbnQocy5pbmRleE5hbWUpK1wiL2JhdGNoXCIsYm9keTphLGhvc3RUeXBlOlwid3JpdGVcIixjYWxsYmFjazpyfSl9LGRlbGV0ZUJ5UXVlcnk6ZnVuY3Rpb24odCxyLG4pe2Z1bmN0aW9uIGkoZSl7aWYoMD09PWUubmJIaXRzKXJldHVybiBlO3ZhciB0PW8oZS5oaXRzLGZ1bmN0aW9uKGUpe3JldHVybiBlLm9iamVjdElEfSk7cmV0dXJuIGQuZGVsZXRlT2JqZWN0cyh0KS50aGVuKHMpLnRoZW4oYSl9ZnVuY3Rpb24gcyhlKXtyZXR1cm4gZC53YWl0VGFzayhlLnRhc2tJRCl9ZnVuY3Rpb24gYSgpe3JldHVybiBkLmRlbGV0ZUJ5UXVlcnkodCxyKX1mdW5jdGlvbiB1KCl7YyhmdW5jdGlvbigpe24obnVsbCl9LGguX3NldFRpbWVvdXR8fHNldFRpbWVvdXQpfWZ1bmN0aW9uIGwoZSl7YyhmdW5jdGlvbigpe24oZSl9LGguX3NldFRpbWVvdXR8fHNldFRpbWVvdXQpfXZhciBmPWUoNDMpLGQ9dGhpcyxoPWQuYXM7MT09PWFyZ3VtZW50cy5sZW5ndGh8fFwiZnVuY3Rpb25cIj09dHlwZW9mIHI/KG49cixyPXt9KTpyPWYociksci5hdHRyaWJ1dGVzVG9SZXRyaWV2ZT1cIm9iamVjdElEXCIsci5oaXRzUGVyUGFnZT0xZTMsci5kaXN0aW5jdD0hMSx0aGlzLmNsZWFyQ2FjaGUoKTt2YXIgcD10aGlzLnNlYXJjaCh0LHIpLnRoZW4oaSk7cmV0dXJuIG4/dm9pZCBwLnRoZW4odSxsKTpwfSxzZWFyY2g6ZihcInF1ZXJ5XCIpLHNpbWlsYXJTZWFyY2g6ZihcInNpbWlsYXJRdWVyeVwiKSxicm93c2U6ZnVuY3Rpb24odCxyLG4pe3ZhciBvLGkscz1lKDU1KSxhPXRoaXM7MD09PWFyZ3VtZW50cy5sZW5ndGh8fDE9PT1hcmd1bWVudHMubGVuZ3RoJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBhcmd1bWVudHNbMF0/KG89MCxuPWFyZ3VtZW50c1swXSx0PXZvaWQgMCk6XCJudW1iZXJcIj09dHlwZW9mIGFyZ3VtZW50c1swXT8obz1hcmd1bWVudHNbMF0sXCJudW1iZXJcIj09dHlwZW9mIGFyZ3VtZW50c1sxXT9pPWFyZ3VtZW50c1sxXTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBhcmd1bWVudHNbMV0mJihuPWFyZ3VtZW50c1sxXSxpPXZvaWQgMCksdD12b2lkIDAscj12b2lkIDApOlwib2JqZWN0XCI9PXR5cGVvZiBhcmd1bWVudHNbMF0/KFwiZnVuY3Rpb25cIj09dHlwZW9mIGFyZ3VtZW50c1sxXSYmKG49YXJndW1lbnRzWzFdKSxyPWFyZ3VtZW50c1swXSx0PXZvaWQgMCk6XCJzdHJpbmdcIj09dHlwZW9mIGFyZ3VtZW50c1swXSYmXCJmdW5jdGlvblwiPT10eXBlb2YgYXJndW1lbnRzWzFdJiYobj1hcmd1bWVudHNbMV0scj12b2lkIDApLHI9cyh7fSxyfHx7fSx7cGFnZTpvLGhpdHNQZXJQYWdlOmkscXVlcnk6dH0pO3ZhciBjPXRoaXMuYXMuX2dldFNlYXJjaFBhcmFtcyhyLFwiXCIpO3JldHVybiB0aGlzLmFzLl9qc29uUmVxdWVzdCh7bWV0aG9kOlwiR0VUXCIsdXJsOlwiLzEvaW5kZXhlcy9cIitlbmNvZGVVUklDb21wb25lbnQoYS5pbmRleE5hbWUpK1wiL2Jyb3dzZT9cIitjLGhvc3RUeXBlOlwicmVhZFwiLGNhbGxiYWNrOm59KX0sYnJvd3NlRnJvbTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmFzLl9qc29uUmVxdWVzdCh7bWV0aG9kOlwiR0VUXCIsdXJsOlwiLzEvaW5kZXhlcy9cIitlbmNvZGVVUklDb21wb25lbnQodGhpcy5pbmRleE5hbWUpK1wiL2Jyb3dzZT9jdXJzb3I9XCIrZW5jb2RlVVJJQ29tcG9uZW50KGUpLGhvc3RUeXBlOlwicmVhZFwiLGNhbGxiYWNrOnR9KX0sYnJvd3NlQWxsOmZ1bmN0aW9uKHQscil7ZnVuY3Rpb24gbihlKXtpZighYS5fc3RvcHBlZCl7dmFyIHQ7dD12b2lkIDAhPT1lP1wiY3Vyc29yPVwiK2VuY29kZVVSSUNvbXBvbmVudChlKTpsLGMuX2pzb25SZXF1ZXN0KHttZXRob2Q6XCJHRVRcIix1cmw6XCIvMS9pbmRleGVzL1wiK2VuY29kZVVSSUNvbXBvbmVudCh1LmluZGV4TmFtZSkrXCIvYnJvd3NlP1wiK3QsaG9zdFR5cGU6XCJyZWFkXCIsY2FsbGJhY2s6b30pfX1mdW5jdGlvbiBvKGUsdCl7cmV0dXJuIGEuX3N0b3BwZWQ/dm9pZCAwOmU/dm9pZCBhLl9lcnJvcihlKTooYS5fcmVzdWx0KHQpLHZvaWQgMD09PXQuY3Vyc29yP3ZvaWQgYS5fZW5kKCk6dm9pZCBuKHQuY3Vyc29yKSl9XCJvYmplY3RcIj09dHlwZW9mIHQmJihyPXQsdD12b2lkIDApO3ZhciBpPWUoNTUpLHM9ZSg1OCksYT1uZXcgcyxjPXRoaXMuYXMsdT10aGlzLGw9Yy5fZ2V0U2VhcmNoUGFyYW1zKGkoe30scnx8e30se3F1ZXJ5OnR9KSxcIlwiKTtyZXR1cm4gbigpLGF9LHR0QWRhcHRlcjpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBmdW5jdGlvbihyLG4sbyl7dmFyIGk7aT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBvP286bix0LnNlYXJjaChyLGUsZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT92b2lkIGkoZSk6dm9pZCBpKHQuaGl0cyl9KX19LHdhaXRUYXNrOmZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcigpe3JldHVybiBsLl9qc29uUmVxdWVzdCh7bWV0aG9kOlwiR0VUXCIsaG9zdFR5cGU6XCJyZWFkXCIsdXJsOlwiLzEvaW5kZXhlcy9cIitlbmNvZGVVUklDb21wb25lbnQodS5pbmRleE5hbWUpK1wiL3Rhc2svXCIrZX0pLnRoZW4oZnVuY3Rpb24oZSl7YSsrO3ZhciB0PWkqYSphO3JldHVybiB0PnMmJih0PXMpLFwicHVibGlzaGVkXCIhPT1lLnN0YXR1cz9sLl9wcm9taXNlLmRlbGF5KHQpLnRoZW4ocik6ZX0pfWZ1bmN0aW9uIG4oZSl7YyhmdW5jdGlvbigpe3QobnVsbCxlKX0sbC5fc2V0VGltZW91dHx8c2V0VGltZW91dCl9ZnVuY3Rpb24gbyhlKXtjKGZ1bmN0aW9uKCl7dChlKX0sbC5fc2V0VGltZW91dHx8c2V0VGltZW91dCl9dmFyIGk9MTAwLHM9NWUzLGE9MCx1PXRoaXMsbD11LmFzLGY9cigpO3JldHVybiB0P3ZvaWQgZi50aGVuKG4sbyk6Zn0sY2xlYXJJbmRleDpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLmFzLl9qc29uUmVxdWVzdCh7bWV0aG9kOlwiUE9TVFwiLHVybDpcIi8xL2luZGV4ZXMvXCIrZW5jb2RlVVJJQ29tcG9uZW50KHQuaW5kZXhOYW1lKStcIi9jbGVhclwiLGhvc3RUeXBlOlwid3JpdGVcIixjYWxsYmFjazplfSl9LGdldFNldHRpbmdzOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuYXMuX2pzb25SZXF1ZXN0KHttZXRob2Q6XCJHRVRcIix1cmw6XCIvMS9pbmRleGVzL1wiK2VuY29kZVVSSUNvbXBvbmVudCh0LmluZGV4TmFtZSkrXCIvc2V0dGluZ3NcIixob3N0VHlwZTpcInJlYWRcIixjYWxsYmFjazplfSl9LHNldFNldHRpbmdzOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gdGhpcy5hcy5fanNvblJlcXVlc3Qoe21ldGhvZDpcIlBVVFwiLHVybDpcIi8xL2luZGV4ZXMvXCIrZW5jb2RlVVJJQ29tcG9uZW50KHIuaW5kZXhOYW1lKStcIi9zZXR0aW5nc1wiLGhvc3RUeXBlOlwid3JpdGVcIixib2R5OmUsY2FsbGJhY2s6dH0pfSxsaXN0VXNlcktleXM6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5hcy5fanNvblJlcXVlc3Qoe21ldGhvZDpcIkdFVFwiLHVybDpcIi8xL2luZGV4ZXMvXCIrZW5jb2RlVVJJQ29tcG9uZW50KHQuaW5kZXhOYW1lKStcIi9rZXlzXCIsaG9zdFR5cGU6XCJyZWFkXCIsY2FsbGJhY2s6ZX0pfSxnZXRVc2VyS2V5QUNMOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gdGhpcy5hcy5fanNvblJlcXVlc3Qoe21ldGhvZDpcIkdFVFwiLHVybDpcIi8xL2luZGV4ZXMvXCIrZW5jb2RlVVJJQ29tcG9uZW50KHIuaW5kZXhOYW1lKStcIi9rZXlzL1wiK2UsaG9zdFR5cGU6XCJyZWFkXCIsY2FsbGJhY2s6dH0pfSxkZWxldGVVc2VyS2V5OmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gdGhpcy5hcy5fanNvblJlcXVlc3Qoe21ldGhvZDpcIkRFTEVURVwiLHVybDpcIi8xL2luZGV4ZXMvXCIrZW5jb2RlVVJJQ29tcG9uZW50KHIuaW5kZXhOYW1lKStcIi9rZXlzL1wiK2UsaG9zdFR5cGU6XCJ3cml0ZVwiLGNhbGxiYWNrOnR9KX0sYWRkVXNlcktleTpmdW5jdGlvbih0LHIsbil7dmFyIG89ZSg0NiksaT1cIlVzYWdlOiBpbmRleC5hZGRVc2VyS2V5KGFycmF5T2ZBY2xzWywgcGFyYW1zLCBjYWxsYmFja10pXCI7aWYoIW8odCkpdGhyb3cgbmV3IEVycm9yKGkpOygxPT09YXJndW1lbnRzLmxlbmd0aHx8XCJmdW5jdGlvblwiPT10eXBlb2YgcikmJihuPXIscj1udWxsKTt2YXIgcz17YWNsOnR9O3JldHVybiByJiYocy52YWxpZGl0eT1yLnZhbGlkaXR5LHMubWF4UXVlcmllc1BlcklQUGVySG91cj1yLm1heFF1ZXJpZXNQZXJJUFBlckhvdXIscy5tYXhIaXRzUGVyUXVlcnk9ci5tYXhIaXRzUGVyUXVlcnkscy5kZXNjcmlwdGlvbj1yLmRlc2NyaXB0aW9uLHIucXVlcnlQYXJhbWV0ZXJzJiYocy5xdWVyeVBhcmFtZXRlcnM9dGhpcy5hcy5fZ2V0U2VhcmNoUGFyYW1zKHIucXVlcnlQYXJhbWV0ZXJzLFwiXCIpKSxzLnJlZmVyZXJzPXIucmVmZXJlcnMpLHRoaXMuYXMuX2pzb25SZXF1ZXN0KHttZXRob2Q6XCJQT1NUXCIsdXJsOlwiLzEvaW5kZXhlcy9cIitlbmNvZGVVUklDb21wb25lbnQodGhpcy5pbmRleE5hbWUpK1wiL2tleXNcIixib2R5OnMsaG9zdFR5cGU6XCJ3cml0ZVwiLGNhbGxiYWNrOm59KX0sYWRkVXNlcktleVdpdGhWYWxpZGl0eTp1KGZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdGhpcy5hZGRVc2VyS2V5KGUsdCxyKX0sYShcImluZGV4LmFkZFVzZXJLZXlXaXRoVmFsaWRpdHkoKVwiLFwiaW5kZXguYWRkVXNlcktleSgpXCIpKSx1cGRhdGVVc2VyS2V5OmZ1bmN0aW9uKHQscixuLG8pe3ZhciBpPWUoNDYpLHM9XCJVc2FnZTogaW5kZXgudXBkYXRlVXNlcktleShrZXksIGFycmF5T2ZBY2xzWywgcGFyYW1zLCBjYWxsYmFja10pXCI7aWYoIWkocikpdGhyb3cgbmV3IEVycm9yKHMpOygyPT09YXJndW1lbnRzLmxlbmd0aHx8XCJmdW5jdGlvblwiPT10eXBlb2YgbikmJihvPW4sbj1udWxsKTt2YXIgYT17YWNsOnJ9O3JldHVybiBuJiYoYS52YWxpZGl0eT1uLnZhbGlkaXR5LGEubWF4UXVlcmllc1BlcklQUGVySG91cj1uLm1heFF1ZXJpZXNQZXJJUFBlckhvdXIsYS5tYXhIaXRzUGVyUXVlcnk9bi5tYXhIaXRzUGVyUXVlcnksYS5kZXNjcmlwdGlvbj1uLmRlc2NyaXB0aW9uLG4ucXVlcnlQYXJhbWV0ZXJzJiYoYS5xdWVyeVBhcmFtZXRlcnM9dGhpcy5hcy5fZ2V0U2VhcmNoUGFyYW1zKG4ucXVlcnlQYXJhbWV0ZXJzLFwiXCIpKSxhLnJlZmVyZXJzPW4ucmVmZXJlcnMpLHRoaXMuYXMuX2pzb25SZXF1ZXN0KHttZXRob2Q6XCJQVVRcIix1cmw6XCIvMS9pbmRleGVzL1wiK2VuY29kZVVSSUNvbXBvbmVudCh0aGlzLmluZGV4TmFtZSkrXCIva2V5cy9cIit0LGJvZHk6YSxob3N0VHlwZTpcIndyaXRlXCIsY2FsbGJhY2s6b30pfSxfc2VhcmNoOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuYXMuX2pzb25SZXF1ZXN0KHtjYWNoZTp0aGlzLmNhY2hlLG1ldGhvZDpcIlBPU1RcIix1cmw6XCIvMS9pbmRleGVzL1wiK2VuY29kZVVSSUNvbXBvbmVudCh0aGlzLmluZGV4TmFtZSkrXCIvcXVlcnlcIixib2R5OntwYXJhbXM6ZX0saG9zdFR5cGU6XCJyZWFkXCIsZmFsbGJhY2s6e21ldGhvZDpcIkdFVFwiLHVybDpcIi8xL2luZGV4ZXMvXCIrZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMuaW5kZXhOYW1lKSxib2R5OntwYXJhbXM6ZX19LGNhbGxiYWNrOnR9KX0sYXM6bnVsbCxpbmRleE5hbWU6bnVsbCx0eXBlQWhlYWRBcmdzOm51bGwsdHlwZUFoZWFkVmFsdWVPcHRpb246bnVsbH19LHsxMToxMSw0Mzo0Myw0Njo0Niw1NTo1NSw1ODo1OCw2OjYsNjM6NjN9XSw1ODpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oKXt9dC5leHBvcnRzPW47dmFyIG89ZSgxMCksaT1lKDEpLkV2ZW50RW1pdHRlcjtvKG4saSksbi5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3RoaXMuX3N0b3BwZWQ9ITAsdGhpcy5fY2xlYW4oKX0sbi5wcm90b3R5cGUuX2VuZD1mdW5jdGlvbigpe3RoaXMuZW1pdChcImVuZFwiKSx0aGlzLl9jbGVhbigpfSxuLnByb3RvdHlwZS5fZXJyb3I9ZnVuY3Rpb24oZSl7dGhpcy5lbWl0KFwiZXJyb3JcIixlKSx0aGlzLl9jbGVhbigpfSxuLnByb3RvdHlwZS5fcmVzdWx0PWZ1bmN0aW9uKGUpe3RoaXMuZW1pdChcInJlc3VsdFwiLGUpfSxuLnByb3RvdHlwZS5fY2xlYW49ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhcInN0b3BcIiksdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoXCJlbmRcIiksdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoXCJlcnJvclwiKSx0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhcInJlc3VsdFwiKX19LHsxOjEsMTA6MTB9XSw1OTpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCxyLGkpe3ZhciBzPWUoNDQpLGE9ZSg2MCk7cmV0dXJuIGk9cyhpfHx7fSksdm9pZCAwPT09aS5wcm90b2NvbCYmKGkucHJvdG9jb2w9YSgpKSxpLl91YT1pLl91YXx8bi51YSxuZXcgbyh0LHIsaSl9ZnVuY3Rpb24gbygpe2EuYXBwbHkodGhpcyxhcmd1bWVudHMpfXQuZXhwb3J0cz1uO3ZhciBpPWUoMTApLHM9d2luZG93LlByb21pc2V8fGUoOSkuUHJvbWlzZSxhPWUoNTcpLGM9ZSg2MyksdT1lKDYxKSxsPWUoNjIpO24udmVyc2lvbj1lKDY0KSxuLnVhPVwiQWxnb2xpYSBmb3IgdmFuaWxsYSBKYXZhU2NyaXB0IFwiK24udmVyc2lvbix3aW5kb3cuX19hbGdvbGlhPXtkZWJ1ZzplKDYpLGFsZ29saWFzZWFyY2g6bn07dmFyIGY9e2hhc1hNTEh0dHBSZXF1ZXN0OlwiWE1MSHR0cFJlcXVlc3RcImluIHdpbmRvdyxoYXNYRG9tYWluUmVxdWVzdDpcIlhEb21haW5SZXF1ZXN0XCJpbiB3aW5kb3csY29yczpcIndpdGhDcmVkZW50aWFsc1wiaW4gbmV3IFhNTEh0dHBSZXF1ZXN0LHRpbWVvdXQ6XCJ0aW1lb3V0XCJpbiBuZXcgWE1MSHR0cFJlcXVlc3R9O2kobyxhKSxvLnByb3RvdHlwZS5fcmVxdWVzdD1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgcyhmdW5jdGlvbihyLG4pe2Z1bmN0aW9uIG8oKXtpZighbCl7Zi50aW1lb3V0fHxjbGVhclRpbWVvdXQoYSk7dmFyIGU7dHJ5e2U9e2JvZHk6SlNPTi5wYXJzZShoLnJlc3BvbnNlVGV4dCkscmVzcG9uc2VUZXh0OmgucmVzcG9uc2VUZXh0LHN0YXR1c0NvZGU6aC5zdGF0dXMsaGVhZGVyczpoLmdldEFsbFJlc3BvbnNlSGVhZGVycyYmaC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKXx8e319fWNhdGNoKHQpe2U9bmV3IGMuVW5wYXJzYWJsZUpTT04oe21vcmU6aC5yZXNwb25zZVRleHR9KX1lIGluc3RhbmNlb2YgYy5VbnBhcnNhYmxlSlNPTj9uKGUpOnIoZSl9fWZ1bmN0aW9uIGkoZSl7bHx8KGYudGltZW91dHx8Y2xlYXJUaW1lb3V0KGEpLG4obmV3IGMuTmV0d29yayh7bW9yZTplfSkpKX1mdW5jdGlvbiBzKCl7Zi50aW1lb3V0fHwobD0hMCxoLmFib3J0KCkpLG4obmV3IGMuUmVxdWVzdFRpbWVvdXQpfWlmKCFmLmNvcnMmJiFmLmhhc1hEb21haW5SZXF1ZXN0KXJldHVybiB2b2lkIG4obmV3IGMuTmV0d29yayhcIkNPUlMgbm90IHN1cHBvcnRlZFwiKSk7ZT11KGUsdC5oZWFkZXJzKTt2YXIgYSxsLGQ9dC5ib2R5LGg9Zi5jb3JzP25ldyBYTUxIdHRwUmVxdWVzdDpuZXcgWERvbWFpblJlcXVlc3Q7aCBpbnN0YW5jZW9mIFhNTEh0dHBSZXF1ZXN0P2gub3Blbih0Lm1ldGhvZCxlLCEwKTpoLm9wZW4odC5tZXRob2QsZSksZi5jb3JzJiYoZCYmKFwiUE9TVFwiPT09dC5tZXRob2Q/aC5zZXRSZXF1ZXN0SGVhZGVyKFwiY29udGVudC10eXBlXCIsXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIik6aC5zZXRSZXF1ZXN0SGVhZGVyKFwiY29udGVudC10eXBlXCIsXCJhcHBsaWNhdGlvbi9qc29uXCIpKSxoLnNldFJlcXVlc3RIZWFkZXIoXCJhY2NlcHRcIixcImFwcGxpY2F0aW9uL2pzb25cIikpLGgub25wcm9ncmVzcz1mdW5jdGlvbigpe30saC5vbmxvYWQ9byxoLm9uZXJyb3I9aSxmLnRpbWVvdXQ/KGgudGltZW91dD10LnRpbWVvdXQsaC5vbnRpbWVvdXQ9cyk6YT1zZXRUaW1lb3V0KHMsdC50aW1lb3V0KSxoLnNlbmQoZCl9KX0sby5wcm90b3R5cGUuX3JlcXVlc3QuZmFsbGJhY2s9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT11KGUsdC5oZWFkZXJzKSxuZXcgcyhmdW5jdGlvbihyLG4pe2woZSx0LGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU/dm9pZCBuKGUpOnZvaWQgcih0KX0pfSl9LG8ucHJvdG90eXBlLl9wcm9taXNlPXtyZWplY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIHMucmVqZWN0KGUpfSxyZXNvbHZlOmZ1bmN0aW9uKGUpe3JldHVybiBzLnJlc29sdmUoZSl9LGRlbGF5OmZ1bmN0aW9uKGUpe3JldHVybiBuZXcgcyhmdW5jdGlvbih0KXtzZXRUaW1lb3V0KHQsZSl9KX19fSx7MTA6MTAsNDQ6NDQsNTc6NTcsNjo2LDYwOjYwLDYxOjYxLDYyOjYyLDYzOjYzLDY0OjY0LDk6OX1dLDYwOltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbigpe3ZhciBlPXdpbmRvdy5kb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbDtyZXR1cm5cImh0dHA6XCIhPT1lJiZcImh0dHBzOlwiIT09ZSYmKGU9XCJodHRwOlwiKSxlfXQuZXhwb3J0cz1ufSx7fV0sNjE6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKGUsdCl7cmV0dXJuIGUrPS9cXD8vLnRlc3QoZSk/XCImXCI6XCI/XCIsZStvLmVuY29kZSh0KX10LmV4cG9ydHM9bjt2YXIgbz1lKDUpfSx7NTo1fV0sNjI6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKGUsdCxyKXtmdW5jdGlvbiBuKCl7dC5kZWJ1ZyhcIkpTT05QOiBzdWNjZXNzXCIpLHl8fGZ8fCh5PSEwLGx8fCh0LmRlYnVnKFwiSlNPTlA6IEZhaWwuIFNjcmlwdCBsb2FkZWQgYnV0IGRpZCBub3QgY2FsbCB0aGUgY2FsbGJhY2tcIiksYSgpLHIobmV3IG8uSlNPTlBTY3JpcHRGYWlsKSkpfWZ1bmN0aW9uIHMoKXsoXCJsb2FkZWRcIj09PXRoaXMucmVhZHlTdGF0ZXx8XCJjb21wbGV0ZVwiPT09dGhpcy5yZWFkeVN0YXRlKSYmbigpfWZ1bmN0aW9uIGEoKXtjbGVhclRpbWVvdXQobSksaC5vbmxvYWQ9bnVsbCxoLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLGgub25lcnJvcj1udWxsLGQucmVtb3ZlQ2hpbGQoaCk7dHJ5e2RlbGV0ZSB3aW5kb3dbcF0sZGVsZXRlIHdpbmRvd1twK1wiX2xvYWRlZFwiXX1jYXRjaChlKXt3aW5kb3dbcF09bnVsbCx3aW5kb3dbcCtcIl9sb2FkZWRcIl09bnVsbH19ZnVuY3Rpb24gYygpe3QuZGVidWcoXCJKU09OUDogU2NyaXB0IHRpbWVvdXRcIiksZj0hMCxhKCkscihuZXcgby5SZXF1ZXN0VGltZW91dCl9ZnVuY3Rpb24gdSgpe3QuZGVidWcoXCJKU09OUDogU2NyaXB0IGVycm9yXCIpLHl8fGZ8fChhKCkscihuZXcgby5KU09OUFNjcmlwdEVycm9yKSl9aWYoXCJHRVRcIiE9PXQubWV0aG9kKXJldHVybiB2b2lkIHIobmV3IEVycm9yKFwiTWV0aG9kIFwiK3QubWV0aG9kK1wiIFwiK2UrXCIgaXMgbm90IHN1cHBvcnRlZCBieSBKU09OUC5cIikpO3QuZGVidWcoXCJKU09OUDogc3RhcnRcIik7dmFyIGw9ITEsZj0hMTtpKz0xO3ZhciBkPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXSxoPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIikscD1cImFsZ29saWFKU09OUF9cIitpLHk9ITE7d2luZG93W3BdPWZ1bmN0aW9uKGUpe3RyeXtkZWxldGUgd2luZG93W3BdfWNhdGNoKHQpe3dpbmRvd1twXT12b2lkIDB9Znx8KGw9ITAsYSgpLHIobnVsbCx7Ym9keTplfSkpfSxlKz1cIiZjYWxsYmFjaz1cIitwLHQuanNvbkJvZHkmJnQuanNvbkJvZHkucGFyYW1zJiYoZSs9XCImXCIrdC5qc29uQm9keS5wYXJhbXMpO3ZhciBtPXNldFRpbWVvdXQoYyx0LnRpbWVvdXQpO2gub25yZWFkeXN0YXRlY2hhbmdlPXMsaC5vbmxvYWQ9bixoLm9uZXJyb3I9dSxoLmFzeW5jPSEwLGguZGVmZXI9ITAsaC5zcmM9ZSxkLmFwcGVuZENoaWxkKGgpfXQuZXhwb3J0cz1uO3ZhciBvPWUoNjMpLGk9MH0sezYzOjYzfV0sNjM6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQscil7dmFyIG49ZSgxMSksbz10aGlzO1wiZnVuY3Rpb25cIj09dHlwZW9mIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlP0Vycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsdGhpcy5jb25zdHJ1Y3Rvcik6by5zdGFjaz0obmV3IEVycm9yKS5zdGFja3x8XCJDYW5ub3QgZ2V0IGEgc3RhY2t0cmFjZSwgYnJvd3NlciBpcyB0b28gb2xkXCIsdGhpcy5uYW1lPXRoaXMuY29uc3RydWN0b3IubmFtZSx0aGlzLm1lc3NhZ2U9dHx8XCJVbmtub3duIGVycm9yXCIsciYmbihyLGZ1bmN0aW9uKGUsdCl7b1t0XT1lfSl9ZnVuY3Rpb24gbyhlLHQpe2Z1bmN0aW9uIHIoKXt2YXIgcj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCk7XCJzdHJpbmdcIiE9dHlwZW9mIHJbMF0mJnIudW5zaGlmdCh0KSxuLmFwcGx5KHRoaXMsciksdGhpcy5uYW1lPVwiQWxnb2xpYVNlYXJjaFwiK2UrXCJFcnJvclwifXJldHVybiBpKHIsbikscn12YXIgaT1lKDEwKTtpKG4sRXJyb3IpLHQuZXhwb3J0cz17QWxnb2xpYVNlYXJjaEVycm9yOm4sVW5wYXJzYWJsZUpTT046byhcIlVucGFyc2FibGVKU09OXCIsXCJDb3VsZCBub3QgcGFyc2UgdGhlIGluY29taW5nIHJlc3BvbnNlIGFzIEpTT04sIHNlZSBlcnIubW9yZSBmb3IgZGV0YWlsc1wiKSxSZXF1ZXN0VGltZW91dDpvKFwiUmVxdWVzdFRpbWVvdXRcIixcIlJlcXVlc3QgdGltZWRvdXQgYmVmb3JlIGdldHRpbmcgYSByZXNwb25zZVwiKSxOZXR3b3JrOm8oXCJOZXR3b3JrXCIsXCJOZXR3b3JrIGlzc3VlLCBzZWUgZXJyLm1vcmUgZm9yIGRldGFpbHNcIiksSlNPTlBTY3JpcHRGYWlsOm8oXCJKU09OUFNjcmlwdEZhaWxcIixcIjxzY3JpcHQ+IHdhcyBsb2FkZWQgYnV0IGRpZCBub3QgY2FsbCBvdXIgcHJvdmlkZWQgY2FsbGJhY2tcIiksSlNPTlBTY3JpcHRFcnJvcjpvKFwiSlNPTlBTY3JpcHRFcnJvclwiLFwiPHNjcmlwdD4gdW5hYmxlIHRvIGxvYWQgZHVlIHRvIGFuIGBlcnJvcmAgZXZlbnQgb24gaXRcIiksVW5rbm93bjpvKFwiVW5rbm93blwiLFwiVW5rbm93biBlcnJvciBvY2N1cmVkXCIpfX0sezEwOjEwLDExOjExfV0sNjQ6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt0LmV4cG9ydHM9XCIzLjkuMlwifSx7fV19LHt9LFs1OV0pKDU5KX0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgbHVjeSA9IGZ1bmN0aW9uKCBzaXRlX3VybCwgYWxnb2xpYV9hcHBfaWQsIGFsZ29saWFfYXBpX2tleSwgYWxnb2xpYV9pbmRleF9uYW1lLCBkZWZhdWx0TGlua3MsIGNvbnRhY3RMaW5rICkge1xuXG5cdC8vIG1ha2Ugc3VyZSBzaXRlIHVybCBkb2VzIG5vdCBoYXZlIHRyYWlsaW5nIHNsYXNoXG5cdGlmKCBzaXRlX3VybC5jaGFyQXQoc2l0ZV91cmwubGVuZ3RoIC0gMSkgPT0gXCIvXCIpIHtcblx0XHRzaXRlX3VybCA9IHNpdGVfdXJsLnN1YnN0cigwLCBzaXRlX3VybC5sZW5ndGggLSAxKTtcblx0fVxuXG5cdHZhciBtID0gbWM0d3AuZGVwcy5taXRocmlsO1xuXHR2YXIgYWxnb2xpYXNlYXJjaCA9IHJlcXVpcmUoICcuL2FsZ29saWFzZWFyY2guanMnKTtcblx0dmFyIGNsaWVudCA9IGFsZ29saWFzZWFyY2goIGFsZ29saWFfYXBwX2lkLCBhbGdvbGlhX2FwaV9rZXkgKTtcblx0dmFyIGluZGV4ID0gY2xpZW50LmluaXRJbmRleCggYWxnb2xpYV9pbmRleF9uYW1lICk7XG5cblx0dmFyIGlzT3BlbiA9IGZhbHNlO1xuXHR2YXIgbG9hZGVyLCBsb2FkaW5nSW50ZXJ2YWwgPSAwO1xuXHR2YXIgc2VhcmNoUmVzdWx0cyA9IG0ucHJvcChbXSk7XG5cdHZhciBzZWFyY2hRdWVyeSA9IG0ucHJvcCgnJyk7XG5cdHZhciBub3RoaW5nRm91bmQgPSBmYWxzZTtcblxuXHQvLyBjcmVhdGUgZWxlbWVudFxuXHR2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRlbGVtZW50LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCdsdWN5Jyk7XG5cdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG5cblx0ZnVuY3Rpb24gYWRkRXZlbnQoZWxlbWVudCxldmVudCxoYW5kbGVyKSB7XG5cdFx0aWYoZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKXtcblx0XHRcdGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCxoYW5kbGVyLGZhbHNlKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZWxlbWVudC5hdHRhY2hFdmVudCgnb24nICsgZXZlbnQsIGhhbmRsZXIpO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIHJlbW92ZUV2ZW50KGVsZW1lbnQsZXZlbnQsaGFuZGxlcil7XG5cdFx0aWYoZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKXtcblx0XHRcdGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCxoYW5kbGVyKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZWxlbWVudC5kZXRhY2hFdmVudCgnb24nICsgZXZlbnQsIGhhbmRsZXIpO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIG1heWJlQ2xvc2UoZXZlbnQpIHtcblx0XHRldmVudCA9IGV2ZW50IHx8IHdpbmRvdy5ldmVudDtcblxuXHRcdC8vIGNsb3NlIHdoZW4gcHJlc3NpbmcgRVNDQVBFXG5cdFx0aWYoZXZlbnQudHlwZSA9PT0gJ2tleXVwJyAmJiBldmVudC5rZXlDb2RlID09IDI3ICkge1xuXHRcdFx0Y2xvc2UoKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBjbG9zZSB3aGVuIGNsaWNraW5nIEFOWSBlbGVtZW50IG91dHNpZGUgb2YgTHVjeVxuXHRcdHZhciBjbGlja2VkRWxlbWVudCA9IGV2ZW50LnRhcmdldCB8fCBldmVudC5zcmNFbGVtZW50O1xuXHRcdGlmKGV2ZW50LnR5cGUgPT09ICdjbGljaycgJiYgZWxlbWVudC5jb250YWlucyAmJiAhIGVsZW1lbnQuY29udGFpbnMoY2xpY2tlZEVsZW1lbnQpICkgIHtcblx0XHRcdGNsb3NlKCk7XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gb3BlbigpIHtcblx0XHRpZiggaXNPcGVuICkgcmV0dXJuO1xuXHRcdGlzT3BlbiA9IHRydWU7XG5cdFx0bS5yZWRyYXcoKTtcblxuXHRcdGFkZEV2ZW50KGRvY3VtZW50LCdrZXl1cCcsbWF5YmVDbG9zZSk7XG5cdFx0YWRkRXZlbnQoZG9jdW1lbnQsJ2NsaWNrJyxtYXliZUNsb3NlKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGNsb3NlKCkge1xuXHRcdGlmKCAhIGlzT3BlbiApIHJldHVybjtcblx0XHRpc09wZW4gPSBmYWxzZTtcblx0XHRyZXNldCgpO1xuXG5cdFx0cmVtb3ZlRXZlbnQoZG9jdW1lbnQsJ2tleXVwJyxtYXliZUNsb3NlKTtcblx0XHRyZW1vdmVFdmVudChkb2N1bWVudCwnY2xpY2snLG1heWJlQ2xvc2UpO1xuXHR9XG5cblx0ZnVuY3Rpb24gcmVzZXQoKSB7XG5cdFx0c2VhcmNoUXVlcnkoJycpO1xuXHRcdHNlYXJjaFJlc3VsdHMoW10pO1xuXHRcdG5vdGhpbmdGb3VuZCA9IGZhbHNlO1xuXHRcdG0ucmVkcmF3KCk7XG5cdH1cblxuXHR2YXIgbW9kdWxlID0ge307XG5cdG1vZHVsZS52aWV3ID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGNvbnRlbnQ7XG5cblx0XHRlbGVtZW50LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnbHVjeSAnICsgKCBpc09wZW4gPyAnb3BlbicgOiAnY2xvc2VkJyApICk7XG5cblx0XHRpZiggc2VhcmNoUXVlcnkoKS5sZW5ndGggPiAwICkge1xuXHRcdFx0aWYoIHNlYXJjaFJlc3VsdHMoKS5sZW5ndGggPiAwICkge1xuXHRcdFx0XHRjb250ZW50ID0gbSgnZGl2LnNlYXJjaC1yZXN1bHRzJywgc2VhcmNoUmVzdWx0cygpLm1hcChmdW5jdGlvbihsKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG0oJ2EnLCB7IGhyZWY6IGwuaHJlZiB9LCBtLnRydXN0KGwudGV4dCkgKTtcblx0XHRcdFx0fSkpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29udGVudCA9IG0oJ2Rpdi5zZWFyY2gtcmVzdWx0cycsIFtcblx0XHRcdFx0XHRtKFwiZW0uc2VhcmNoLXBlbmRpbmdcIiwgKG5vdGhpbmdGb3VuZCA/IFwiTm90aGluZyBmb3VuZCBmb3IgXCIgOiBcIkhpdCBbRU5URVJdIHRvIHNlYXJjaCBmb3JcIiApICsgXCJcXFwiXCIrIHNlYXJjaFF1ZXJ5KCkgK1wiXFxcIi4uXCIpXG5cdFx0XHRcdF0pO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb250ZW50ID0gbShcImRpdi5saW5rc1wiLCBkZWZhdWx0TGlua3MubWFwKGZ1bmN0aW9uKGwpIHtcblx0XHRcdFx0cmV0dXJuIG0oJ2EnLCB7IGhyZWY6IGwuaHJlZiB9LCBtLnRydXN0KGwudGV4dCkgKTtcblx0XHRcdH0pKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gW1xuXHRcdFx0bSgnZGl2Lmx1Y3ktLWNvbnRlbnQnLCB7IHN0eWxlOiB7IGRpc3BsYXk6IGlzT3BlbiA/ICdibG9jaycgOiAnbm9uZScgfSB9LCBbXG5cdFx0XHRcdG0oJ3NwYW4uY2xvc2UtaWNvbicsIHsgb25jbGljazogY2xvc2UgfSwgXCJcIiksXG5cdFx0XHRcdG0oJ2Rpdi5oZWFkZXInLCBbXG5cdFx0XHRcdFx0bSgnaDQnLCAnTG9va2luZyBmb3IgaGVscD8nKSxcblx0XHRcdFx0XHRtKCdkaXYuc2VhcmNoLWZvcm0nLCB7XG5cdFx0XHRcdFx0XHRvbnN1Ym1pdDogc2VhcmNoXG5cdFx0XHRcdFx0fSwgW1xuXHRcdFx0XHRcdFx0bSgnaW5wdXQnLCB7XG5cdFx0XHRcdFx0XHRcdHR5cGU6ICd0ZXh0Jyxcblx0XHRcdFx0XHRcdFx0dmFsdWU6IHNlYXJjaFF1ZXJ5KCksXG5cdFx0XHRcdFx0XHRcdG9ua2V5dXA6IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0XHRcdFx0XHRcdFx0ZXZlbnQgPSBldmVudCB8fCB3aW5kb3cuZXZlbnQ7XG5cblx0XHRcdFx0XHRcdFx0XHRpZiggdGhpcy52YWx1ZSA9PT0gJycgJiYgc2VhcmNoUXVlcnkoKSAhPT0gJycgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gcmVzZXQoKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRzZWFyY2hRdWVyeSh0aGlzLnZhbHVlKTtcblxuXHRcdFx0XHRcdFx0XHRcdGlmKGV2ZW50LmtleUNvZGUgPT0gMTMgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gc2VhcmNoKHRoaXMudmFsdWUpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0Y29uZmlnOiBmdW5jdGlvbihlbCkgeyBpc09wZW4gJiYgZWwuZm9jdXMoKTsgfSxcblx0XHRcdFx0XHRcdFx0cGxhY2Vob2xkZXI6ICdXaGF0IGFyZSB5b3UgbG9va2luZyBmb3I/J1xuXHRcdFx0XHRcdFx0fSksXG5cdFx0XHRcdFx0XHRtKCdzcGFuJywge1xuXHRcdFx0XHRcdFx0XHRcImNsYXNzXCI6ICdsb2FkZXInLFxuXHRcdFx0XHRcdFx0XHRjb25maWc6IGZ1bmN0aW9uKGVsKSB7XG5cdFx0XHRcdFx0XHRcdFx0bG9hZGVyID0gZWw7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0pLFxuXHRcdFx0XHRcdFx0bSgnaW5wdXQnLCB7IHR5cGU6ICdzdWJtaXQnIH0pXG5cdFx0XHRcdFx0XSlcblx0XHRcdFx0XSksXG5cdFx0XHRcdG0oJ2Rpdi5saXN0JywgY29udGVudCksXG5cdFx0XHRcdG0oJ2Rpdi5mb290ZXInLCBbXG5cdFx0XHRcdFx0bShcInNwYW5cIiwgXCJDYW4ndCBmaW5kIHRoZSBhbnN3ZXIgeW91J3JlIGxvb2tpbmcgZm9yP1wiKSxcblx0XHRcdFx0XHRtKFwiYVwiLCB7IFwiY2xhc3NcIjogJ2J1dHRvbiBidXR0b24tcHJpbWFyeScsIGhyZWY6IGNvbnRhY3RMaW5rLCB0YXJnZXQ6IFwiX2JsYW5rXCIgfSwgXCJDb250YWN0IFN1cHBvcnRcIilcblx0XHRcdFx0XSlcblx0XHRcdF0pLFxuXHRcdFx0bSgnc3Bhbi5sdWN5LWJ1dHRvbicsIHtcblx0XHRcdFx0b25jbGljazogb3Blbiwgc3R5bGU6IHsgZGlzcGxheTogaXNPcGVuID8gJ25vbmUnIDogJ2Jsb2NrJyB9XG5cdFx0XHR9LCBbXG5cdFx0XHRcdG0oJ3NwYW4ubHVjeS1idXR0b24tdGV4dCcsICBcIk5lZWQgaGVscD9cIilcblx0XHRcdF0pXG5cdFx0XTtcblx0fTtcblxuXHRmdW5jdGlvbiBzaG93UmVzdWx0cyhyZXN1bHRzKSB7XG5cdFx0aWYoICEgcmVzdWx0cy5sZW5ndGggKSB7XG5cdFx0XHRub3RoaW5nRm91bmQgPSB0cnVlO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHR2YXIgcGFyc2VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuXHRcdHNlYXJjaFJlc3VsdHMocmVzdWx0cy5tYXAoZnVuY3Rpb24ocikge1xuXHRcdFx0cGFyc2VyLmhyZWYgPSByLnBhdGg7XG5cdFx0XHR2YXIgdXJsID0gc2l0ZV91cmwgKyBwYXJzZXIucGF0aG5hbWUgKyAoIHBhcnNlci5zZWFyY2ggfHwgJycgKTtcblx0XHRcdHJldHVybiB7IGhyZWY6IHVybCwgdGV4dDogci5faGlnaGxpZ2h0UmVzdWx0LnRpdGxlLnZhbHVlfTtcblx0XHR9KSk7XG5cblx0fVxuXG5cblx0ZnVuY3Rpb24gc2VhcmNoKHF1ZXJ5KSB7XG5cdFx0bG9hZGVyLmlubmVyVGV4dCA9ICcuJztcblx0XHRsb2FkaW5nSW50ZXJ2YWwgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG5cdFx0XHRsb2FkZXIuaW5uZXJUZXh0ICs9ICcuJztcblxuXHRcdFx0aWYoIGxvYWRlci5pbm5lclRleHQubGVuZ3RoID4gMyApIHtcblx0XHRcdFx0bG9hZGVyLmlubmVyVGV4dCA9ICcuJztcblx0XHRcdH1cblx0XHR9LCAzMzMgKTtcblxuXHRcdGluZGV4LnNlYXJjaCggcXVlcnksIHsgaGl0c1BlclBhZ2U6IDUgfSwgZnVuY3Rpb24oIGVycm9yLCByZXN1bHQgKSB7XG5cblx0XHRcdGlmKCBlcnJvciApIHtcblx0XHRcdFx0Ly8gVE9ETzogc2hvdyBlcnJvclxuXHRcdFx0IH0gZWxzZSB7XG5cdFx0XHRcdHNob3dSZXN1bHRzKHJlc3VsdC5oaXRzKTtcblx0XHRcdH1cblxuXHRcdFx0bS5yZWRyYXcoKTtcblxuXHRcdFx0LyogY2xlYXIgbG9hZGVyICovXG5cdFx0XHRsb2FkZXIuaW5uZXJUZXh0ID0gJyc7XG5cdFx0XHR3aW5kb3cuY2xlYXJJbnRlcnZhbChsb2FkaW5nSW50ZXJ2YWwpO1xuXHRcdH0gKTtcblxuXHR9XG5cblx0bS5tb3VudChlbGVtZW50LG1vZHVsZSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGx1Y3k7Il19
